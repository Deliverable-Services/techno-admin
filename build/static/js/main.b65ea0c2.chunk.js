(this.webpackJsonpcarsfari_admin=this.webpackJsonpcarsfari_admin||[]).push([[0],{509:function(e,t,a){},510:function(e,t,a){},705:function(e,t){},898:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(38),i=a.n(n),r=(a(504),a(505),a(506),a(507),a(508),a(509),a(510),a(6)),l=a(909),d=a(47),o=a(21),j=a(5),u=a(32),b=a.n(u),m=a(58),x=a(913),h=a(465),O=a(464),p=a(18),f=a(463),v=a.n(f),g=a(928),N=a(930),y=a(168),w=a.n(y),C=window.innerHeight<=800,_="#2c7be5",S="#ECB054",F="https://carsafai.deliverable.services/upload/",k="https://carsafai.deliverable.services/admin/v1/",P="https://carsafai.in",L=w.a.create({baseURL:k}),H=a(91),D=a(68),T=Object(D.combine)({accessToken:null},(function(e){return{setToken:function(t){return e((function(e){return{accessToken:t}}))},removeToken:function(){return e((function(e){return{accessToken:null}}))}}}));T=Object(D.persist)(T,{name:"accessToken"});var A=Object(H.a)(T),z=a(48),V=a(927),R=Object(H.a)(Object(D.combine)({toasts:[]},(function(e){return{hideToast:function(t){return e((function(e){return{toasts:e.toasts.filter((function(e){return e.id!==t}))}}))},showToast:function(t){return e((function(e){return{toasts:[].concat(Object(z.a)(e.toasts),[Object(j.a)(Object(j.a)({},t),{},{id:Object(V.a)()})])}}))}}}))),E=function(e){R.getState().showToast({message:e})},I=function(){var e=Object(m.a)(b.a.mark((function e(t,a){var c,s,n,i,r,l,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(401==(null===t||void 0===t||null===(c=t.response)||void 0===c?void 0:c.status)){e.next=6;break}return E((null===t||void 0===t||null===(s=t.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||t.message),e.abrupt("return");case 6:return e.prev=6,e.next=9,L.post("/auth/refresh");case 9:i=e.sent,r=i.data,console.log("refresh-data",r),r&&A.getState().setToken(r.access_token),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),a.push("/login"),E((null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,a){return e.apply(this,arguments)}}(),M=a(1),Y=function(e){var t=e.onFilterChange,a=e.title,c=e.dataLength,s=e.currentValue,n=e.value,i=e.idx,r=e.isLast,l=void 0!==r&&r;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("span",{onClick:function(){return t(i,n)},className:"".concat(s===n?"text-primary":"text-muted"),style:{cursor:"pointer"},children:[a," ",s===n?"(".concat(c,")"):""]}),!l&&Object(M.jsx)("span",{className:"mx-2",style:{opacity:.2},children:"|"})]})},q=a(11),U=a.n(q),B=function(e){var t=e.date;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("span",{children:t?U()(t).format("DD:MM:YY"):"NA"}),Object(M.jsx)("br",{}),Object(M.jsxs)("span",{children:["(",t?U()(t).format("hh:mm"):"NA",")"]})]})},Q=a(59),W=function(e){return Object(M.jsx)("div",{children:Object(M.jsxs)(O.a,{variant:"outline-primary",onClick:e.onClick,children:[Object(M.jsx)(Q.b,{size:16,className:"mr-1"}),"Edit"]})})},K=a(924),G=function(e){var t=e.onFilterChange,a=e.width,c=void 0===a?"200px":a,s=e.defaultSelectTitle,n=void 0===s?"All":s,i=e.isDefaultDisabled,r=void 0!==i&&i,l=e.label,d=e.currentValue,o=e.idx,j=e.data,u=e.valueSelector,b=void 0===u?"id":u,m=e.nameSelector,x=void 0===m?"name":m,h=e.nameSelector2,O=void 0===h?"phone":h;return Object(M.jsxs)(K.a.Group,{className:"mb-md-0",children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:l}),Object(M.jsxs)(K.a.Control,{as:"select",value:d,id:o,onChange:function(e){return t(o,e.target.value)},style:{width:c,fontSize:14},children:[Object(M.jsx)("option",{value:"",disabled:r,children:n}),j&&j.map((function(e){return Object(M.jsx)("option",{value:e[b],children:e[x]||e[O]||e[b]})}))]})]})},J=function(e){var t=e.variant,a=e.title,c=e.fontSize,s=void 0===c?14:c,n=function(){return"danger"===t?{bg:"#f8d7da",color:"red"}:"warning"===t?{bg:"#fff3cd",color:"#ccb81f"}:"success"===t?{bg:"#d4edda",color:"green"}:"primary"===t?{bg:"#cce5ff",color:"blue"}:void 0};return Object(M.jsx)("span",{style:{backgroundColor:n().bg,color:n().color,fontSize:s,padding:"3px 6px"},className:"text-capitalize rounded",children:a})},$=function(e){var t=e.value;return Object(M.jsx)(J,{title:1===parseInt(t)?"Yes":"No",variant:1===parseInt(t)?"success":"danger"})},X=a(910),Z=function(){return Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center pt-3 pb-3",children:Object(M.jsx)(X.a,{variant:"primary",animation:"border"})})},ee=Object(c.createContext)(!1),te=function(e){var t=e.title,a=e.onClick,s=e.totalRecords;e.permissionReq,Object(c.useContext)(ee);return Object(M.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(M.jsxs)("p",{className:"font-weight-bolder mb-0 lead",style:{verticalAlign:"center"},children:[t,s?Object(M.jsxs)("small",{style:{fontSize:14,marginLeft:5,opacity:.6},children:["(",s,")"]}):null]}),a&&Object(M.jsx)(O.a,{variant:"primary",onClick:a,size:"sm",children:Object(M.jsxs)("div",{className:"text-white d-flex align-items-center",children:[Object(M.jsx)(Q.h,{size:18}),Object(M.jsx)("p",{className:"mb-0 ml-1",children:"Create"})]})})]})},ae=a(929),ce=function(e){var t=e.currentPage,a=e.setPage,c=e.hasNextPage,s=e.hasPrevPage,n=e.lastPage;return Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-end",children:Object(M.jsxs)(ae.a,{children:[Object(M.jsx)(ae.a.First,{onClick:function(){return a("page",1)}}),s&&Object(M.jsx)(ae.a.Prev,{onClick:function(){return a("page",t-1)}}),Object(M.jsx)(ae.a.Item,{active:!0,children:Object(M.jsx)("span",{className:"text-secondary",children:t})}),c&&Object(M.jsx)(ae.a.Next,{onClick:function(){return a("page",t+1)}}),Object(M.jsx)(ae.a.Last,{onClick:function(){return a("page",n)}})]})})},se=a(44),ne=a(260),ie=a(922),re=a(912),le=a(911),de=a(491),oe=a(84),je=a(241),ue=a(204),be=a(153),me=[{id:"1",name:"Yes"},{id:"0",name:"No"}],xe=[{id:"percentage",name:"Percentage"},{id:"discount",name:"Discount"}],he=[{id:"admin",name:"Admin"},{id:"customer",name:"Customer"},{id:"agent",name:"Agent"}],Oe=[{id:"0",name:0},{id:"1",name:1},{id:"2",name:2},{id:"3",name:3},{id:"4",name:4},{id:"5",name:5},{id:"6",name:6},{id:"7",name:7}],pe=[{id:"razorpay",name:"Razor Pay"},{id:"cod",name:"COD"}],fe=[{id:"25",name:25},{id:"35",name:35},{id:"45",name:45}],ve=[{id:"Order related",name:"Order related"},{id:"Payment Related",name:"Payment Related"},{id:"Other Issue",name:"Other Issue"}],ge=[{id:"confirmed",name:"Confirmed"},{id:"pending_payment",name:"Pending Payment"},{id:"error_payment",name:"Payment Error"},{id:"fulfilled",name:"Fulfilled"},{id:"picked",name:"Picked"},{id:"transit",name:"Transit"},{id:"dispatched",name:"Dispatched"},{id:"delayed",name:"Delayed"},{id:"processing",name:"Processing"},{id:"reached",name:"Reached"},{id:"pending",name:"Pending"},{id:"hold",name:"Hold"},{id:"cancelled",name:"Cancelled"}],Ne=[{id:"normal",name:"Normal"}],ye=[{id:"active",name:"Active"},{id:"closed",name:"Closed"}],we=[{id:"active-users",name:"Active Users"},{id:"disabled-users",name:"Disabled Users"},{id:"subscribed-users",name:"Subscribed Users"},{id:"not-subscribed-users",name:"Not Subscribed Users"},{id:"agents",name:"Agents"}],Ce=["indeterminate"];function _e(e){var t=e.preGlobalFilteredRows,a=(e.globalFilter,e.setGlobalFilter,e.searchValue),c=e.onSearchChange,n=e.placeholder,i=t.length,l=s.a.useState(a),d=Object(r.a)(l,2),o=d[0],j=d[1];return Object(M.jsx)("input",{value:o||"",onChange:function(e){c("q",e.target.value),j(e.target.value)},placeholder:n||"Search ".concat(i," records...")})}var Se=s.a.forwardRef((function(e,t){e.indeterminate;var a=Object(se.a)(e,Ce),c=s.a.useRef(null)||t;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox",ref:c},a),{},{name:"row-check",id:"row-check"}))})}));var Fe=function(e){var t=e.provided,a=e.row,c=e.snapshot;return Object(M.jsx)("tr",Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({ref:t.innerRef},a.getRowProps()),t.draggableProps),t.dragHandleProps),{},{style:Object(j.a)(Object(j.a)({},t.draggableProps.style),{},{opacity:c.isDragging?".5":"1"}),children:a.cells.map((function(e){return Object(M.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{style:{verticalAlign:"middle"},children:e.render("Cell",{dragHandleProps:t.dragHandleProps,isSomethingDragging:c.isDragging})}))}))}))},ke=function(e){var t=e.row;return Object(M.jsx)("tr",Object(j.a)(Object(j.a)({},t.getRowProps()),{},{children:t.cells.map((function(e){return Object(M.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{style:{verticalAlign:"middle"},children:e.value||"selection"===e.column.id||"Actions"===e.column.id?e.render("Cell"):Object(M.jsx)("span",{className:"text-muted",children:"NA"})}))}))}))},Pe=function(e){var t=e.data,a=e.columns,n=e.updateOrder,i=e.initialState,d=e.isDraggable,o=void 0!==d&&d,u=e.setSelectedRows,b=e.filter,m=e.onFilterChange,x=e.isDataLoading,h=e.setSelectedRowIds,O=e.isSelectable,p=void 0===O||O,f=e.searchPlaceHolder,v=s.a.useState(t),g=Object(r.a)(v,2),N=g[0],y=g[1],w=Object(c.useContext)(ee);s.a.useEffect((function(){return y(t)}),[t]);var C=s.a.useCallback((function(e){return e.id}),[]),S=Object(be.useTable)({columns:a,data:N,initialState:Object(j.a)(Object(j.a)({},i),{},{pageSize:b.perPage})},be.useFilters,be.useGlobalFilter,be.useSortBy,be.usePagination,be.useRowSelect,C,(function(e){p&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(M.jsx)("div",{children:Object(M.jsx)(Se,Object(j.a)({},t()))})},Cell:function(e){var t=e.row;return Object(M.jsx)("div",{children:Object(M.jsx)(Se,Object(j.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(z.a)(e))}))})),F=S.getTableProps,k=(S.getTableBodyProps,S.headerGroups),P=S.rows,L=S.prepareRow,H=S.allColumns,D=S.state,T=S.preGlobalFilteredRows,A=S.setGlobalFilter,V=S.selectedFlatRows,R=S.setPageSize,E=S.state,I=E.selectedRowIds,Y=E.pageSize;return s.a.useEffect((function(){h&&h(I),u&&u((function(){var e=[];return V.map((function(t){e.push(t.original)})),e}))}),[I]),Object(M.jsxs)("div",{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card-header pb-3 d-flex align-items-end position-relative px-0 ",style:{flexDirection:w?"row":"column-reverse"},children:[Object(M.jsx)("div",{className:"w-100",children:Object(M.jsxs)("div",{className:"search-input",children:[Object(M.jsx)(Q.i,{size:18}),Object(M.jsx)(_e,{preGlobalFilteredRows:T,globalFilter:D.globalFilter,setGlobalFilter:A,searchValue:null===b||void 0===b?void 0:b.query,onSearchChange:m,placeholder:f})]})}),Object(M.jsxs)("div",{className:"d-flex ",children:[Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(M.jsx)("span",{className:"text-muted",children:"Records "}),Object(M.jsx)("select",{className:"text-primary font-weight-bold",style:{border:"none",marginRight:5},value:Y,onChange:function(e){var t=e.target.value;R(parseInt(t)),m("perPage",t)},children:fe.map((function(e){return Object(M.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(M.jsxs)(ie.a,{children:[Object(M.jsxs)(ie.a.Toggle,{id:"dropdown-basic",className:"filter-button bg-transparent border-0 text-primary",children:[Object(M.jsx)(je.b,{size:17,color:_})," ",Object(M.jsx)("span",{className:"text-muted my-auto",children:"Filter"})]}),Object(M.jsx)(ie.a.Menu,{className:"p-2",children:H.map((function(e){return e.disableGlobalFilter=!e.isVisible,Object(M.jsxs)("div",{className:"custom-control custom-checkbox w-100 px-2",children:[Object(M.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox"},e.getToggleHiddenProps()),{},{className:"d-none",id:e.id})),Object(M.jsxs)("div",{className:"custom-control custom-checkbox ",children:[Object(M.jsx)("input",Object(j.a)({type:"checkbox",className:"custom-control-input",id:e.id},e.getToggleHiddenProps())),Object(M.jsx)("label",{className:"custom-control-label",htmlFor:e.id,children:Object(M.jsx)("p",{style:{whiteSpace:"nowrap"},children:e.Header})})]})]},e.id)}))})]})]})]}),Object(M.jsx)(le.a,{backend:de.a,children:Object(M.jsx)("div",{className:"tableFixed",children:Object(M.jsxs)(re.a,Object(j.a)(Object(j.a)({className:"table-fixed"},F()),{},{responsive:!0,hover:!0,size:"sm",children:[Object(M.jsxs)("thead",{className:"bg-grey-primary",children:[x?Object(M.jsx)("tr",{children:Object(M.jsxs)("td",{className:"text-muted font-weight-bold w-100",children:["Loading ",Object(M.jsx)(X.a,{size:"sm",animation:"border"})]})}):null,k.map((function(e){return Object(M.jsx)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(M.jsxs)("th",Object(j.a)(Object(j.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(M.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(M.jsx)(ue.c,{}):Object(M.jsx)(ue.b,{}):""})]}))}))}))}))]}),Object(M.jsx)(ne.a,{onDragEnd:function(e){var t=e.source,a=e.destination;if(a){!function(e,t){var a=Object(z.a)(N),c=a.splice(e,1),s=Object(r.a)(c,1)[0];a.splice(t,0,s),y(a)}(t.index,a.index);var c=N[e.draggableId];n&&n(c.id,a.index,c)}},children:Object(M.jsx)(ne.c,{droppableId:"table-body",children:function(e,t){return Object(M.jsxs)("tbody",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[P.map((function(e,t){return L(e),o?Object(M.jsx)(ne.b,{draggableId:e.id,index:t,children:function(t,a){return Object(M.jsx)(Fe,{provided:t,row:e,snapshot:a})}},e.id):Object(M.jsx)(ke,{row:e})})),e.placeholder]}))}})})]}))})}),0===P.length?Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(M.jsx)(oe.b,{color:"#000",size:60}),Object(M.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No data found"})]})}):null]})};function Le(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var a in e)if(e.hasOwnProperty(a)){if(!t.hasOwnProperty(a))return!1;if(e[a]!==t[a]){if("object"!==typeof e[a])return!1;if(!Le(e[a],t[a]))return!1}}for(a in t)if(t.hasOwnProperty(a)&&!e.hasOwnProperty(a))return!1;return!0}var He=a(926),De=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,c,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in a=t.queryKey,console.log({queryKey:a}),c={},a[2])a[2][s]&&(c[s]=a[2][s]);return console.log({params:c}),e.next=7,L.get("".concat(a[0]),{params:c});case 7:if(200===(n=e.sent).status){e.next=12;break}throw E(n.status.toString()),Te.invalidateQueries("profile"),new Error;case 12:return e.next=14,n.data;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=new He.a({defaultOptions:{queries:{staleTime:3e5,queryFn:De,onError:function(e){E(e.message),Te.invalidateQueries("profile")},keepPreviousData:!0,retry:!1}}}),Ae=Object(H.a)(Object(D.combine)({toasts:[]},(function(e){return{hideToast:function(t){return e((function(e){return{toasts:e.toasts.filter((function(e){return e.id!==t}))}}))},showToast:function(t){return e((function(e){return{toasts:[].concat(Object(z.a)(e.toasts),[Object(j.a)(Object(j.a)({},t),{},{id:Object(V.a)()})])}}))}}}))),ze=function(e){Ae.getState().showToast({message:e})},Ve="banners/list",Re=function(e){return L.post("banners/delete",{id:e})},Ee={type:"offers",q:"",page:"",perPage:25,active:""},Ie=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,c,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in a=t.queryKey,c={},a[2])a[2][s]&&(c[s]=a[2][s]);return e.next=5,L.get("".concat(a[0],"/").concat(a[1].toLowerCase()),{params:c});case 5:return n=e.sent,e.next=8,n.data;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)(""),u=Object(r.a)(i,2),b=(u[0],u[1],Object(c.useState)([])),m=Object(r.a)(b,2),f=m[0],y=m[1];console.log(f.map((function(e){return e.id})));var w=Object(c.useState)(1),C=Object(r.a)(w,2),S=(C[0],C[1],Object(c.useState)(!1)),k=Object(r.a)(S,2),L=(k[0],k[1]),H=Object(c.useState)(!1),D=Object(r.a)(H,2),T=D[0],A=(D[1],Object(c.useState)(Ee)),z=Object(r.a)(A,2),V=z[0],R=z[1],E=Object(g.a)([Ve,V.type,V],Ie,{onError:function(e){I(e,n)}}),q=E.data,U=E.isLoading,Q=E.isFetching,K=E.error,J=Object(N.a)(Re,{onSuccess:function(){Te.invalidateQueries(Ve),L(!1),ze("Banner(s) deleted successfully")},onError:function(e){I(e,n)}}),X=J.mutate,ee=J.isLoading,ae=function(e,t){R((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},se=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(M.jsx)(v.a,{images:[{src:"".concat(F,"banners/").concat(e.row.values.image),title:e.row.values.image}],thumbnailWidth:"100px",thumbnailHeight:"50px"})}},{Header:"Name",accessor:"name"},{Header:"Deep Link",accessor:"deeplink",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(P)},children:e.row.values.deeplink})}},{Header:"Order",accessor:"order"},{Header:" Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Valid from",accessor:"valid_from",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.valid_from})}},{Header:"Valid To",accessor:"valid_to",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.valid_to})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/advertisements/create-edit",{id:t})}})}}]}),[]);return q||U&&Q?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Banners",onClick:function(){n.push("/advertisements/create-edit")},totalRecords:null===q||void 0===q?void 0:q.total}),(!U||!Q)&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:ae,value:"offers",currentValue:V.type,dataLength:null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.length,idx:"type",title:"Offers"}),Object(M.jsx)(Y,{onFilterChange:ae,value:"latest",currentValue:V.type,dataLength:null===q||void 0===q||null===(t=q.data)||void 0===t?void 0:t.length,idx:"type",title:"Latest"}),Object(M.jsx)(Y,{onFilterChange:ae,value:"trending",currentValue:V.type,dataLength:null===q||void 0===q||null===(a=q.data)||void 0===a?void 0:a.length,idx:"type",title:"Trending",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:U?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!K&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:V.active,data:me,label:"Is Active?",idx:"active",onFilterChange:ae,defaultSelectTitle:"Show All"})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(Ee,V)?"light":"primary",style:{fontSize:14},onClick:function(){return R(Ee)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:q.data,columns:se,setSelectedRows:y,onFilterChange:ae,filter:V,isDataLoading:Q,isDraggable:T,searchPlaceHolder:"Search using name"})]}),!K&&(null===q||void 0===q||null===(s=q.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===q||void 0===q?void 0:q.current_page,lastPage:null===q||void 0===q?void 0:q.last_page,setPage:ae,hasNextPage:!!(null===q||void 0===q?void 0:q.next_page_url),hasPrevPage:!!(null===q||void 0===q?void 0:q.prev_page_url)}):null," "]})})]}),f.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",f.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){X(f.map((function(e){return e.id})))},children:ee?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ye=a(27),qe=a.n(Ye),Ue=a(9),Be=a(914),Qe=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryKey,e.next=3,L.get("".concat(a[0],"/").concat(a[1]));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(e){var t=e.id,a=e.key,c=Object(d.g)();return Object(g.a)([a,t],Qe,{enabled:!!t,refetchOnMount:"always",onError:function(e){I(e,c)}})},Ke=function(e){var t=e.title,a=Object(d.g)();return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2 px-0",children:[Object(M.jsx)("p",{className:"font-weight-bold text-capitalize lead mb-0",children:t}),Object(M.jsx)(O.a,{variant:"primary",onClick:function(){return a.goBack()},size:"sm",children:Object(M.jsxs)("div",{className:"text-white d-flex align-items-center",children:[Object(M.jsx)(p.a,{size:18})," ",Object(M.jsx)("p",{className:"mb-0",children:"Back"})]})})]}),Object(M.jsx)("hr",{className:"my-2"})]})},Ge=["label","name","error","pickerType","setFieldValue"],Je=function(e){var t=e.label,a=e.name,s=e.error,n=e.pickerType,i=void 0===n?"datetime-local":n,l=e.setFieldValue,d=Object(se.a)(e,Ge),o=Object(Ue.e)(Object(j.a)(Object(j.a)({},d),{},{name:a})),u=Object(r.a)(o,1)[0],b=Object(c.useState)(U()(u.value).format("YYYY-MM-DDTHH:mm")),m=Object(r.a)(b,2),x=m[0],h=m[1];return Object(M.jsx)("div",{className:"w-100",children:Object(M.jsxs)(K.a.Group,{children:[t?Object(M.jsx)(K.a.Label,{htmlFor:u.name,children:t}):null,Object(M.jsx)(K.a.Control,{id:u.name,value:x,onChange:function(e){l(a,U()(e.target.value).format("YYYY-MM-DD HH:mm:ss")),h(e.target.value)},type:i}),s&&Object(M.jsx)(K.a.Text,{className:"text-danger",children:s})]})})},$e=["isFile","error","label","as","setFieldValue","size","selectData","selectValueKey","selectTitleKey","altTitleKey","multipleImages","isDisabled"],Xe=function(e){var t=e.isFile,a=e.error,c=e.label,s=e.as,n=void 0===s?"input":s,i=e.setFieldValue,l=(e.size,e.selectData),d=e.selectValueKey,o=e.selectTitleKey,u=e.altTitleKey,b=e.multipleImages,m=void 0!==b&&b,x=e.isDisabled,h=void 0!==x&&x,O=Object(se.a)(e,$e),p=Object(Ue.e)(O),f=Object(r.a)(p,1)[0];return Object(M.jsx)("div",{className:"w-100",children:Object(M.jsxs)(K.a.Group,{children:[c?Object(M.jsx)(K.a.Label,{htmlFor:f.name,children:c}):null,t?Object(M.jsx)(K.a.File,{name:f.name+"[]",id:"custom-file",label:"Choose file",custom:!0,onChange:function(e){var t=e.currentTarget.files;if(console.log(typeof t),t&&i){if(!m)return void i(f.name,t[0]);i(f.name,t)}},multiple:m}):"select"===n?Object(M.jsxs)(K.a.Control,Object(j.a)(Object(j.a)({},f),{},{id:f.name,as:"select",disabled:h,children:[Object(M.jsx)("option",{value:"",children:c}),l&&l.map((function(e){return Object(M.jsx)("option",{value:e[d||"id"],children:e[o||"name"]||e[u]})}))]})):Object(M.jsx)(K.a.Control,Object(j.a)(Object(j.a)(Object(j.a)({},f),O),{},{id:f.name,as:n,disabled:h})),a&&Object(M.jsx)(K.a.Text,{className:"text-danger",children:a})]})})},Ze=[{id:"Trending",name:"Trending"},{id:"Latest",name:"Latest"}],et=["image"],tt="banners",at=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(tt,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(tt),t,{headers:{"Content-Type":"multipart/form-data"}})},ct=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:tt}),n=s.data,i=s.isLoading,r=Object(N.a)(at,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries("banners/list")}),500),e.replace("/advertisements"),a)return ze("Banner updated successfully");ze("Bannner created successfully")},onError:function(t){I(t,e)}}),l=r.mutate,o=r.isLoading,j=r.error,u=r.status,b=n&&n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Banners"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:b||{valid_to:U()().format("YYYY-MM-DD hh:mm:ss"),valid_from:U()().format("YYYY-MM-DD hh:mm:ss")},onSubmit:function(e){var t=e.image,c=Object(se.a)(e,et);console.log({values:e});var s=new FormData;for(var n in c)s.append(n,c[n]);t&&s.append("image",e.image),l({formdata:s,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:["success"===u&&Object(M.jsx)(Be.a,{variant:"success",children:a?"Advertisement  updated successfully":"Advertisement created successfully"}),j&&Object(M.jsx)(Be.a,{variant:"danger",children:j.message}),Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name"}),Object(M.jsx)(Xe,{name:"title",placeholder:"Title",label:"Title"}),Object(M.jsx)(Xe,{name:"deeplink",placeholder:"Deep Link",label:"Deep Link"}),Object(M.jsx)(Xe,{type:"number",name:"order",placeholder:"Order",label:"Order"}),Object(M.jsx)(Je,{name:"valid_from",label:"Valid From",setFieldValue:t}),Object(M.jsx)(Je,{name:"valid_to",label:"Valid To",setFieldValue:t}),Object(M.jsx)(Xe,{name:"image",placeholder:"image",label:"Image",isFile:!0,setFieldValue:t}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(M.jsx)(Xe,{name:"type",placeholder:"Advertisement type",label:"Choose Type",as:"select",selectData:Ze})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},st=function(e){return e.id?Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){return e.onClick(e.id)},children:e.title||e.id}):Object(M.jsx)("p",{className:"text-muted m-0",children:"NA"})},nt={q:"",page:1,perPage:25,month:"",target:"",agent_id:""},it=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=(s[0],s[1]),i=Object(c.useState)(nt),u=Object(r.a)(i,2),b=u[0],m=u[1],f=Object(g.a)(["create-target",,b],{onError:function(e){I(e,t)}}),v=f.data,N=f.isLoading,y=f.isFetching,w=f.error,C=Object(g.a)(["users",,{role:"agent"}]),S=C.data,F=C.isLoading,k=function(e,t){m((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=function(e){e&&t.push("/users/create-edit",{id:e})},L=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Agent",accessor:"agent.name",Cell:function(e){return Object(M.jsx)(st,{onClick:P,id:e.row.original.agent_id,title:e.row.values["agent.name"]})}},{Header:"Month",accessor:"month"},{Header:"Assigned Target",accessor:"target"},{Header:"Achieved Target",accessor:"achieved"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var a;a=e.row.values.id,t.push("/agent-targets/create-edit",{id:a})}})}}]}),[]);return v||N&&y?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Agent Targets",onClick:function(){t.push("/agent-targets/create-edit")},totalRecords:null===v||void 0===v?void 0:v.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:N?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!w&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:b.agent_id,data:!F&&S.data,label:"Agents",idx:"agent_id",onFilterChange:k})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsxs)(K.a.Group,{children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:"Month"}),Object(M.jsx)(K.a.Control,{type:"month",value:U()(b.month).format("YYYY-MM"),onChange:function(e){var t=U()(e.target.value).format("MMMM YYYY");k("month",t)},style:{fontSize:14,height:35}})]})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-center justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(nt,b)?"light":"primary",style:{fontSize:14},onClick:function(){return m(nt)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===v||void 0===v?void 0:v.data,columns:L,setSelectedRows:n,filter:b,onFilterChange:k,isDataLoading:y,searchPlaceHolder:"Search using month, target",isSelectable:!1})]}),!w&&(null===v||void 0===v||null===(e=v.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===v||void 0===v?void 0:v.current_page,lastPage:null===v||void 0===v?void 0:v.last_page,setPage:k,hasNextPage:!!(null===v||void 0===v?void 0:v.next_page_url),hasPrevPage:!!(null===v||void 0===v?void 0:v.prev_page_url)}):null," "]})})]})}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},rt="create-target",lt=function(e){var t=e.formdata,a=e.id;return a?L.post("update-target/".concat(a),t):L.post("".concat(rt),t)},dt=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null,s=e?e.agent_id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var n=We({id:a,key:rt}),i=n.data,r=n.isLoading,l=(n.isFetching,Object(N.a)(lt,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(rt)}),500),Te.invalidateQueries("users"),s?t.goBack():t.replace("/agent-targets"),a)return ze("Target updated successfully");ze("Target created successfully")},onError:function(e){I(e,t)}})),o=l.mutate,u=l.isLoading,b=Object(g.a)(["users",,{role:"agent"}]),m=b.data,p=b.isLoading,f=a?"Update Target":"Add Target";return r?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:f}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:i?Object(j.a)(Object(j.a)({},i),{},{month:U()(i.month).format("YYYY-MM")}):{agent_id:s},onSubmit:function(e){var t=U()(e.month).format("MMMM YYYY");console.log({values:e,m:t}),o({formdata:Object(j.a)(Object(j.a)({},e),{},{month:t}),id:a})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"target",placeholder:"Target",label:"Target",required:!0}),Object(M.jsx)(Xe,{name:"agent_id",placeholder:"Select Agent",label:"Agent",as:"select",selectData:!p&&m.data,required:!0,isDisabled:!!a}),Object(M.jsx)(Xe,{name:"month",label:"Month",type:"month",required:!0})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:u,className:"w-100",children:u?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},ot=a(923),jt=a(469),ut=a.n(jt),bt="disabled-slots",mt=function(e){return L.delete("".concat(bt,"/").concat(e))},xt={start:U()().startOf("month").format("YYYY-MM-DD"),end:U()().endOf("month").format("YYYY-MM-DD")},ht=function(){var e=Object(d.g)(),t=Object(c.useState)([]),a=Object(r.a)(t,2),n=(a[0],a[1],Object(c.useState)(!1)),i=Object(r.a)(n,2),o=i[0],j=i[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),m=b[0],x=b[1],h=Object(c.useState)(null),f=Object(r.a)(h,2),v=f[0],y=f[1],w=Object(c.useState)(xt),C=Object(r.a)(w,2),S=C[0],F=(C[1],Object(g.a)([bt,,S],{onError:function(t){I(t,e)}})),k=F.data,P=F.isLoading,L=F.isFetching,H=(F.error,Object(N.a)(mt,{onSuccess:function(){Te.invalidateQueries(bt),j(!1),ze("Slot deleted successfully")},onError:function(t){I(t,e)}})),D=H.mutate,T=H.isLoading;s.a.useEffect((function(){!function(){var e=[];P||k&&(Object.values(k).map((function(t){t.map((function(t){console.log({dataTime:t.datetime});var a={id:t.id,from:U.a.utc(t.datetime).format("YYYY-MM-DD HH:mm:ss"),to:U.a.utc(t.datetime).add(1,"hour").format("YYYY-MM-DD HH:mm:ss"),title:"".concat(t.reason," ").concat(U.a.utc(t.datetime).format("HH"),"-").concat(U.a.utc(t.datetime).add(1,"hour").format("HH")," "),color:_};e.push(a)}))})),y(e),console.log(e))}()}),[k,P]);return k||P&&L?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Booking Slots",onClick:function(){e.push("/booking-slots/create-edit")},totalRecords:null===k||void 0===k?void 0:k.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(ut.a,{events:v,onClickEvent:function(e){x(e),j(!0)}})})})]}),Object(M.jsxs)(ot.a,{show:o,onHide:function(){return j(!1)},children:[Object(M.jsx)(ot.a.Header,{closeButton:!0,children:Object(M.jsx)(ot.a.Title,{children:"Are you sure?"})}),Object(M.jsx)(ot.a.Body,{children:"Do you really want to delete this disabled slot? This process cannot be undone"}),Object(M.jsxs)(ot.a.Footer,{children:[Object(M.jsx)(O.a,{variant:"bg-light",onClick:function(){return j(!1)},children:"Close"}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){D(m)},children:T?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ot="disabled-slots",pt=[{title:"10:00 - 11:00",value:"10"},{title:"11:00 - 12:00",value:"11"},{title:"12:00 - 1:00",value:"12"},{title:"1:00 - 2:00",value:"13"},{title:"2:00 - 3:00",value:"14"},{title:"3:00 - 4:00",value:"15"}],ft=function(e){var t=e.formdata;return L.post("".concat(Ot),t)},vt=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:Ot}),n=(s.data,s.isLoading),i=Object(N.a)(ft,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries(Ot)}),500),t.replace("/booking-slots"),ze("Slot has been  disabled successfully")},onError:function(e){I(e,t)}}),r=i.mutate,o=i.isLoading;return n?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ke,{title:"Booking Slots"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:{datetime:U()().format("YYYY-MM-DD"),reason:"",time_slot:""},onSubmit:function(e){var t={reason:e.reason,datetime:U()(e.datetime).set("hour",Number(e.time_slot)).format("YYYY-MM-DD HH:mm:ss")};r({formdata:t})},children:function(e){var t=e.setFieldValue,a=e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"reason",placeholder:"Reason",label:"Reason",required:!0}),Object(M.jsx)(Je,{name:"datetime",setFieldValue:t,label:"Date",pickerType:"date"})]}),Object(M.jsx)(l.a,{fluid:!0,className:"px-0 ",children:Object(M.jsxs)("div",{className:"card mx-auto w-50 view-padding",style:{width:""},children:[Object(M.jsx)("p",{className:"text-center text-muted",children:"Pick a slot to disable"}),Object(M.jsx)(x.a,{children:pt.map((function(e){return Object(M.jsx)(h.a,{sm:6,children:Object(M.jsx)("div",{className:"d-flex mx-auto p-2 align-items-center justify-content-center mt-2 w-100",style:{background:a.time_slot===e.value?_:"#fff",color:a.time_slot===e.value?"#fff":"#000",border:"1px solid ".concat(_),borderRadius:10},onClick:function(){return t("time_slot",e.value)},children:Object(M.jsx)("p",{className:"text-center m-0",children:e.title})})})}))})]})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start mt-2",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},gt=function(e){var t=e.file,a=e.folder;return t?Object(M.jsx)("div",{className:"table-image",children:Object(M.jsx)("img",{src:"".concat(F).concat(a,"/").concat(t),alt:t})}):Object(M.jsx)("p",{className:"text-muted text-center m-0",children:"NA"})},Nt="brand-models",yt=function(e){return L.post("".concat(Nt,"/delete"),{id:e})},wt={q:"",page:null,perPage:25,active:"",brand_id:""},Ct=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],m=u[1],f=Object(c.useState)(wt),v=Object(r.a)(f,2),y=v[0],w=v[1],C=Object(c.useState)(1),S=Object(r.a)(C,2),F=(S[0],S[1],Object(g.a)([Nt,,y],{onError:function(e){I(e,n)}})),k=F.data,L=F.isLoading,H=F.isFetching,D=F.error,T=Object(g.a)(["brands"]),A=T.data,z=T.isLoading,V=Object(N.a)(yt,{onSuccess:function(){Te.invalidateQueries(Nt),ze("Brand Model deleted successfully")},onError:function(e){I(e,n)}}),R=V.mutate,E=V.isLoading,q=function(e,t){w((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},U=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(M.jsx)(gt,{folder:"brand-models",file:e.row.values.image})}},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(P)},children:e.row.values.url})}},{Header:"Brand",accessor:"brand.name"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/brand-models/create-edit",{id:t})}})}}]}),[]);return k||L&&H?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Brand Models",onClick:function(){n.push("/brand-models/create-edit")},totalRecords:null===k||void 0===k?void 0:k.total}),!L&&Object(M.jsx)(l.a,{fluid:!0,className:"p-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:q,value:"",currentValue:y.active,dataLength:null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(M.jsx)(Y,{onFilterChange:q,value:"1",currentValue:y.active,dataLength:null===k||void 0===k||null===(t=k.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:q,value:"0",currentValue:y.active,dataLength:null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"my-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:L?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!D&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:y.brand_id,data:!z&&A.data,label:"Brands",idx:"brand_id",onFilterChange:q})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end  justify-md-content-center",children:Object(M.jsx)(O.a,{size:"sm",variant:Le(wt,y)?"light":"primary",style:{fontSize:14},onClick:function(){return w(wt)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"my-2"}),Object(M.jsx)(Pe,{data:null===k||void 0===k?void 0:k.data,columns:U,setSelectedRows:m,filter:y,onFilterChange:q,isDataLoading:H,searchPlaceHolder:"Search using name"})]}),!D&&(null===k||void 0===k||null===(s=k.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===k||void 0===k?void 0:k.current_page,lastPage:null===k||void 0===k?void 0:k.last_page,setPage:q,hasNextPage:!!(null===k||void 0===k?void 0:k.next_page_url),hasPrevPage:!!(null===k||void 0===k?void 0:k.prev_page_url)}):null," "]})})]}),b.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){R(b.map((function(e){return e.id})))},children:E?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},_t=["image"],St="brand-models",Ft=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(St,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(St),t,{headers:{"Content-Type":"multipart/form-data"}})},kt=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=Object(g.a)(["brands"]),n=s.data,i=s.isLoading,r=We({id:a,key:St}),l=r.data,o=r.isLoading,j=Object(N.a)(Ft,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(St)}),500),t.replace("/brand-models"),a)return ze("Brand Model updated successfully");ze("Brand Model created successfully")},onError:function(e){I(e,t)}}),u=j.mutate,b=j.isLoading,m=l&&l;return o?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Brands Model"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:m||{is_active:"1"},onSubmit:function(e){var t=new FormData,c=(e.image,Object(se.a)(e,_t));for(var s in c)t.append(s,c[s]);e.image&&"string"!==typeof e.image&&t.append("image",e.image),u({formdata:t,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(M.jsx)(Xe,{name:"image",placeholder:"image",label:"Choose Brand Model Image",isFile:!0,setFieldValue:t}),Object(M.jsx)(Xe,{name:"brand_id",placeholder:"Brand",label:"Choose Brand",as:"select",selectData:!i&&n.data}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},Pt="brands",Lt=function(e){return L.post("".concat(Pt,"/delete"),{id:e})},Ht={active:"",q:"",page:1,perPage:25},Dt=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],m=u[1];console.log(b.map((function(e){return e.id})));var x=Object(c.useState)(Ht),h=Object(r.a)(x,2),f=h[0],v=h[1];console.log({filter:f});var y=Object(g.a)([Pt,,f],{onError:function(e){I(e,n)}}),w=y.data,C=y.isLoading,S=y.isFetching,F=y.error,k=Object(N.a)(Lt,{onSuccess:function(){Te.invalidateQueries(Pt),ze("Brands deleted successfully")},onError:function(e){I(e,n)}}),L=k.mutate,H=k.isLoading,D=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},T=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Logo",accessor:"logo",Cell:function(e){return Object(M.jsx)(gt,{folder:"brands",file:e.row.values.logo})}},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(P)},children:e.row.values.url})}},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/brands/create-edit",{id:t})}})}}]}),[]);return w||C&&S?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Brands",onClick:function(){n.push("/brands/create-edit")},totalRecords:null===w||void 0===w?void 0:w.total}),!C&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:D,value:"",currentValue:f.active,dataLength:null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(M.jsx)(Y,{onFilterChange:D,value:"1",currentValue:f.active,dataLength:null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:D,value:"0",currentValue:f.active,dataLength:null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"my-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:C?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!F&&Object(M.jsx)(Pe,{data:null===w||void 0===w?void 0:w.data,columns:T,setSelectedRows:m,filter:f,onFilterChange:D,isDataLoading:S,searchPlaceHolder:"Search using brand name"}),!F&&(null===w||void 0===w||null===(s=w.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===w||void 0===w?void 0:w.current_page,lastPage:null===w||void 0===w?void 0:w.last_page,setPage:D,hasNextPage:!!(null===w||void 0===w?void 0:w.next_page_url),hasPrevPage:!!(null===w||void 0===w?void 0:w.prev_page_url)}):null," "]})})]}),b.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){L(b.map((function(e){return e.id})))},children:H?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Tt=["logo"],At="brands",zt=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(At,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(At),t,{headers:{"Content-Type":"multipart/form-data"}})},Vt=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null,s=We({id:a,key:At}),n=s.data,i=s.isLoading,r=Object(N.a)(zt,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(At)}),500),t.replace("/brands"),a)return ze("Brand updated successfully");ze("Brands created successfully")},onError:function(e){I(e,t)}}),l=r.mutate,o=r.isLoading;Object(c.useEffect)((function(){qe.a.init()}),[]);var j=n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Add brand"}),Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:j||{is_active:"1"},onSubmit:function(e){var t=e.logo,c=Object(se.a)(e,Tt),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("logo",t),l({formdata:s,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(M.jsx)(Xe,{name:"logo",placeholder:"logo",label:"Choose Brand Logo",isFile:!0,setFieldValue:t}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},Rt={status:"",user_id:"",agent_id:"",order_type:""},Et=Object(D.combine)({filter:Rt},(function(e){return{onFilterChange:function(t,a){return e((function(e){return Object(j.a)(Object(j.a)({},e),{},{filter:Object(j.a)(Object(j.a)({},e.filter),{},Object(o.a)({},t,a))})}))},resetFilter:function(){return e((function(e){return{filter:Rt}}))}}}));Et=Object(D.persist)(Et,{name:"carsafai_admin_order_filter"});var It=Object(H.a)(Et),Mt={q:"",page:null,perPage:25,created_at:"",inside_cart:"1"},Yt=function(){var e,t=Object(d.g)(),a=Object(c.useState)(1),s=Object(r.a)(a,2),n=(s[0],s[1],Object(c.useState)([])),i=Object(r.a)(n,2),u=(i[0],i[1]),b=Object(c.useState)(Mt),m=Object(r.a)(b,2),f=m[0],v=m[1],N=It((function(e){return e.filter})),y=It((function(e){return e.onFilterChange})),w=It((function(e){return e.resetFilter})),C=Object(g.a)(["bookings",,Object(j.a)(Object(j.a)({},N),f)],{onError:function(e){I(e,t)}}),S=C.data,F=C.isLoading,k=C.isFetching,P=C.error,L=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){I(e,t)}}),H=L.data,D=L.isLoading,T=function(e){var t=e.status;return Object(M.jsx)(J,{variant:"cancelled"===t||"error_payment"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success",title:t})},A=function(e){e&&t.push("/users/create-edit",{id:e})},z=function(e){e&&t.push("/orders/".concat(e))},V=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},R=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id",Cell:function(e){return Object(M.jsx)(st,{onClick:z,id:e.row.values.id,title:e.row.values.ref_id})}},{Header:"Customer",accessor:"user.name",Cell:function(e){return Object(M.jsx)(st,{onClick:A,id:e.row.original.user_id,title:e.row.values["user.name"]})}},{Header:"Order Type",accessor:"order_type",Cell:function(e){return Object(M.jsx)(T,{status:e.row.values.order_type})}},{Header:"Order Status",accessor:"status",Cell:function(e){return Object(M.jsx)(T,{status:e.row.values.status})}},{Header:"Scheduled At",accessor:"scheduled_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.scheduled_at})}},{Header:"Inside Cart",accessor:"inside_cart"},{Header:"Paid Amount",accessor:"payable_amount"},{Header:"Rating",accessor:"rating"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)("div",{className:"d-flex",children:Object(M.jsx)(O.a,{onClick:function(){return t.push("/orders/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return S||F&&k?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Inside Cart",totalRecords:null===S||void 0===S?void 0:S.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Object(M.jsx)(M.Fragment,{children:F?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!P&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-2 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:N.user_id,data:!D&&H.data,label:"Customer",idx:"user_id",onFilterChange:y})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:N.order_type,data:Ne,label:"Order Type",idx:"order_type",onFilterChange:y})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end justify-md-content-center",children:Object(M.jsx)(O.a,{onClick:function(){w(),v(Mt)},variant:Le(Object(j.a)(Object(j.a)({},Mt),Rt),Object(j.a)(Object(j.a)({},f),N))?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:S.data,columns:R,setSelectedRows:u,filter:N,onFilterChange:V,isDataLoading:k,isSelectable:!1,searchPlaceHolder:"Search using ref_id"})]}),!P&&(null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:V,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})})]})}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},qt="categories",Ut=function(e){return L.post("".concat(qt,"/delete"),{id:e})},Bt=function(){var e=Object(m.a)(b.a.mark((function e(t,a,c){var s,n,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in s=(parseInt(a)+1).toString(),n=new FormData,c)n.append(i,c[i]);return n.append("order",s),e.prev=4,e.next=7,L.post("".concat(qt,"/").concat(t),n,{headers:{"Content-Type":"multipart/form-data"}});case 7:r=e.sent,r.data&&(ze("Successfully updated order"),Te.invalidateQueries(qt)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),E(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a,c){return e.apply(this,arguments)}}(),Qt={q:"",page:null,perPage:25,active:""},Wt=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],m=u[1],h=Object(c.useState)(Qt),f=Object(r.a)(h,2),v=f[0],y=f[1],w=Object(c.useState)(!1),C=Object(r.a)(w,2),S=C[0],F=(C[1],Object(g.a)([qt,,v],{onError:function(e){I(e,n)}})),k=F.data,L=F.isLoading,H=F.isFetching,D=F.error,T=Object(N.a)(Ut,{onSuccess:function(){Te.invalidateQueries(qt),ze("Categories deleted successfully")},onError:function(e){I(e,n)}}),A=T.mutate,z=T.isLoading,V=function(e,t){y((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},R=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(P)},children:e.row.values.url})}},{Header:"Order",accessor:"order",isSortedDesc:!0},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/categories/create-edit",{id:t})}})}}]}),[]);return k||L&&H?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Categories",onClick:function(){n.push("/categories/create-edit")},totalRecords:null===k||void 0===k?void 0:k.total}),!L&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-between w-100",children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:V,value:"",currentValue:v.active,dataLength:null===k||void 0===k||null===(e=k.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(M.jsx)(Y,{onFilterChange:V,value:"1",currentValue:v.active,dataLength:null===k||void 0===k||null===(t=k.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:V,value:"0",currentValue:v.active,dataLength:null===k||void 0===k||null===(a=k.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:L?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!D&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{className:"pt-3",children:Object(M.jsx)(x.a,{className:"select-filter d-flex"})}),Object(M.jsx)("hr",{}),Object(M.jsx)(Pe,{data:null===k||void 0===k?void 0:k.data,columns:R,setSelectedRows:m,filter:v,onFilterChange:V,isDataLoading:H,isDraggable:S,updateOrder:Bt,searchPlaceHolder:"Search using name, url"})]}),!D&&(null===k||void 0===k||null===(s=k.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===k||void 0===k?void 0:k.current_page,lastPage:null===k||void 0===k?void 0:k.last_page,setPage:V,hasNextPage:!!(null===k||void 0===k?void 0:k.next_page_url),hasPrevPage:!!(null===k||void 0===k?void 0:k.prev_page_url)}):null," "]})})]}),b.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){A(b.map((function(e){return e.id})))},children:z?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Kt="categories",Gt=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(Kt,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(Kt),t,{headers:{"Content-Type":"application/json"}})},Jt=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:Kt}),n=s.data,i=s.isLoading,r=Object(N.a)(Gt,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(Kt)}),500),e.replace("/categories"),a)return ze("Category  updated successfully");ze("Categoryj  created successfully")},onError:function(t){I(t,e)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Categories"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:j||{},onSubmit:function(e){var t=new FormData;t.append("name",e.name),t.append("url",e.url),t.append("order",e.order),t.append("is_active",e.is_active),e.logo&&"string"!==typeof e.logo&&t.append("logo",e.logo),l({formdata:t,id:a})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{className:"w-100",children:[Object(M.jsxs)("div",{className:"form-container py-2",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(M.jsx)(Xe,{name:"order",placeholder:"order",label:"order",required:!0}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},$t="cities",Xt=function(e){return L.post("".concat($t,"/delete"),{id:e})},Zt={q:"",page:1,perPage:25},ea=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(Zt),b=Object(r.a)(u,2),m=b[0],x=b[1],h=Object(g.a)([$t,,m],{onError:function(e){I(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,C=Object(N.a)(Xt,{onSuccess:function(){Te.invalidateQueries($t),ze("Cities deleted successfully")},onError:function(e){I(e,t)}}),S=C.mutate,F=C.isLoading,k=function(e,t){x((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"State",accessor:"state"},{Header:"Lat",accessor:"lat"},{Header:"Lng",accessor:"lng"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var a;a=e.row.values.id,t.push("/cities/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Serviceable Cities",onClick:function(){t.push("/cities/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!w&&Object(M.jsx)(Pe,{data:null===f||void 0===f?void 0:f.data,columns:P,setSelectedRows:i,filter:m,onFilterChange:k,isDataLoading:y,searchPlaceHolder:"Search using city, state"}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:k,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})]}),n.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){S(n.map((function(e){return e.id})))},children:F?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ta=["logo"],aa="cities",ca=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(aa,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(aa),t,{headers:{"Content-Type":"multipart/form-data"}})},sa=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:aa}),n=s.data,i=s.isLoading,r=Object(N.a)(ca,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(aa)}),500),t.replace("/cities"),a)return ze("City updated successfully");ze("City created successfully")},onError:function(e){I(e,t)}}),l=r.mutate,o=r.isLoading,j=a?"Update City":"Add City",u=n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:j}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:u||{},onSubmit:function(e){var t=e.logo,c=Object(se.a)(e,ta),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("logo",t),l({formdata:s,id:a})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{name:"state",placeholder:"State",label:"State",required:!0}),Object(M.jsx)(Xe,{name:"lat",placeholder:"Latitude",label:"Latitude",required:!0}),Object(M.jsx)(Xe,{name:"lng",placeholder:"Longitude",label:"Longitude",required:!0})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},na="configuration",ia=function(e){return L.post("".concat(na,"/delete"),{id:e})},ra={q:"",page:1,perPage:25},la=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(ra),b=Object(r.a)(u,2),m=b[0],x=b[1],h=Object(g.a)([na,,m],{onError:function(e){I(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,C=Object(N.a)(ia,{onSuccess:function(){Te.invalidateQueries(na),ze("Configuration deleted successfully")},onError:function(e){I(e,t)}}),S=C.mutate,F=C.isLoading,k=function(e,t){x((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Key",accessor:"key"},{Header:"Value",accessor:"value"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var a;a=e.row.values.id,t.push("/configurations/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Configurations",onClick:function(){t.push("/configurations/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!w&&Object(M.jsx)(Pe,{data:null===f||void 0===f?void 0:f.data,columns:P,setSelectedRows:i,filter:m,onFilterChange:k,isDataLoading:y,searchPlaceHolder:"Search using title"}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:k,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})]}),n.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){S(n.map((function(e){return e.id})))},children:F?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},da="configuration",oa=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(da,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(da),t,{headers:{"Content-Type":"multipart/form-data"}})},ja=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:da}),n=s.data,i=s.isLoading,r=Object(N.a)(oa,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(da)}),500),t.replace("/configurations"),a)return ze("Config updated successfully");ze("Config created successfully")},onError:function(e){I(e,t)}}),l=r.mutate,o=r.isLoading,j=a?"Update Config":"Add Config";return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:j}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:n||{},onSubmit:function(e){console.log({values:e});var t=new FormData;for(var c in e)t.append(c,e[c]);l({formdata:t,id:a})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"key",placeholder:"key",label:"Key",required:!0}),Object(M.jsx)(Xe,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(M.jsx)(Xe,{name:"value",placeholder:"value",label:"Value",required:!0})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},ua="coupons",ba=function(e){return L.post("".concat(ua,"/delete"),{id:e})},ma={q:"",page:null,perPage:25,active:"",condition_type:""},xa=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],m=u[1];console.log(b.map((function(e){return e.id})));var f=Object(c.useState)(ma),v=Object(r.a)(f,2),y=v[0],w=v[1];console.log({filter:y});var C=Object(g.a)([ua,,y],{onError:function(e){I(e,n)}}),S=C.data,F=C.isLoading,k=C.isFetching,P=C.error,L=Object(N.a)(ba,{onSuccess:function(){Te.invalidateQueries(ua),ze("Coupons deleted successfully")},onError:function(e){I(e,n)}}),H=L.mutate,D=L.isLoading,T=function(e,t){w((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},A=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Coupon Code",accessor:"coupon_code",Cell:function(e){return Object(M.jsx)(J,{title:e.row.values.coupon_code,variant:"primary"})}},{Header:"Condition",accessor:"condition"},{Header:"Conditioin Type",accessor:"condition_type"},{Header:"Valid From",accessor:"valid_from",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.valid_from})}},{Header:"Valid To",accessor:"valid_to",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.valid_to})}},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/coupons/create-edit",{id:t})}})}}]}),[]);return S||F&&k?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Coupons",onClick:function(){n.push("/coupons/create-edit")},totalRecords:null===S||void 0===S?void 0:S.total}),!F&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:T,value:"",currentValue:y.active,dataLength:null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(M.jsx)(Y,{onFilterChange:T,value:"1",currentValue:y.active,dataLength:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:T,value:"0",currentValue:y.active,dataLength:null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0 ",children:F?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!P&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:y.condition_type,data:xe,label:"Condition Type",idx:"condition_type",onFilterChange:T})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(ma,y)?"light":"primary",style:{fontSize:14},onClick:function(){return w(ma)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===S||void 0===S?void 0:S.data,columns:A,setSelectedRows:m,filter:y,onFilterChange:T,isDataLoading:k})]}),!P&&(null===S||void 0===S||null===(s=S.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:T,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})]}),b.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){H(b.map((function(e){return e.id})))},children:D?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ha=a(182),Oa=a.n(ha),pa=["name","label","setFieldValue"],fa=function(e){var t=e.name,a=e.label,s=e.setFieldValue,n=Object(se.a)(e,pa),i=Object(Ue.e)(Object(j.a)({name:t},n)),d=Object(r.a)(i,1)[0],o=Object(c.useState)(Oa.a.createEditorState(d.value)),u=Object(r.a)(o,2),b=u[0],m=u[1];return Object(M.jsxs)(l.a,{fluid:!0,className:"p-0 my-2 rounded",style:{height:"400px",zIndex:-1,overflow:"hidden"},children:[Object(M.jsx)("span",{className:"text-black ",style:{fontWeight:500},children:a}),Object(M.jsx)("div",{className:"mx-auto",children:Object(M.jsx)(Oa.a,{value:b,onChange:function(e){s(t,e.toHTML()),m(e)},language:"en",style:{height:"100%",zIndex:0,background:"#f0f0f0",marginTop:10}})})]})},va="coupons",ga=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(va,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):L.post("".concat(va),t,{headers:{"Content-Type":"applicatioin/json"}})},Na=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:va}),n=s.data,i=s.isLoading,r=Object(N.a)(ga,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(va)}),500),e.replace("/coupons"),a)return ze("Brand updated successfully");ze("Brands created successfully")},onError:function(t){I(t,e)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return console.log("apiData",j),i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Coupons"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:j||{valid_to:U()().format("YYYY-MM-DD hh:mm:ss"),valid_from:U()().format("YYYY-MM-DD hh:mm:ss")},onSubmit:function(e){l({formdata:e,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(M.jsx)(Xe,{name:"coupon_code",placeholder:"Coupon Code",label:"Coupon Code",required:!0}),Object(M.jsx)(Xe,{type:"number",name:"condition",placeholder:"Condition",label:"Condition",required:!0}),Object(M.jsx)(Je,{name:"valid_from",label:"Valid From",setFieldValue:t}),Object(M.jsx)(Je,{name:"valid_to",label:"Valid To",setFieldValue:t}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(M.jsx)(Xe,{as:"select",selectData:xe,name:"condition_type",label:"Condition Type",placeholder:"Condition Type"})]}),Object(M.jsx)(fa,{name:"description",label:"Description",setFieldValue:t}),Object(M.jsx)(fa,{name:"terms",label:"Terms",setFieldValue:t}),Object(M.jsx)(x.a,{className:"d-flex justify-content-center",children:Object(M.jsx)(h.a,{md:"6",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},ya=a(470),wa=(a(697),a(151)),Ca=a(915),_a=a(916),Sa=a(176),Fa=a(177),ka=a(213),Pa=a(210),La=a(482),Ha=(a(920),a(484),a(921)),Da=a(493),Ta=function(e){var t=e.data,a=e.xAxisDataKey,c=e.dataKey;return Object(M.jsx)(Ca.a,{children:Object(M.jsxs)(_a.a,{width:"100%",height:300,data:t,margin:{top:10,right:30,left:0,bottom:0},children:[Object(M.jsx)(Sa.a,{dataKey:a,tickLine:!1,padding:{left:20,right:20}}),Object(M.jsx)(Fa.a,{tickLine:!1,axisLine:!1}),Object(M.jsx)(ka.a,{}),Object(M.jsx)(Pa.a,{}),Object(M.jsx)(La.a,{type:"monotone",dataKey:c,stroke:_,activeDot:{r:8}})]})})},Aa=function(e){var t=e.data,a=e.xAxisDataKey,c=e.dataKey1,s=e.dataKey2;return Object(M.jsx)(Ca.a,{children:Object(M.jsxs)(Ha.a,{width:"100%",height:300,data:t,children:[Object(M.jsx)(Sa.a,{dataKey:a,tickLine:!1,padding:{left:20,right:20}}),Object(M.jsx)(Fa.a,{axisLine:!1}),Object(M.jsx)(ka.a,{}),Object(M.jsx)(Pa.a,{}),Object(M.jsx)(Da.a,{dataKey:c,fill:_}),Object(M.jsx)(Da.a,{dataKey:s,fill:S})]})})},za=function(e,t){return(100*(e/(t||1))).toFixed(1)},Va={datefrom:U()().startOf("month").format("YYYY-MM-DD"),dateto:U()().endOf("month").format("YYYY-MM-DD"),duration:"month"},Ra=function(){var e=Object(d.g)(),t=Object(c.useState)(Va),a=Object(r.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(null),u=Object(r.a)(i,2),b=u[0],m=u[1],x=Object(c.useState)(U()().format("hh:mm a")),h=Object(r.a)(x,2),O=h[0],f=h[1],v=Object(g.a)(["analytics",,s],{onError:function(t){I(t,e)}}),N=v.data,y=v.isLoading,w=v.isFetching,S=Object(g.a)(["bookingAnalytics",,s],{onError:function(t){I(t,e)}}),F=S.data,k=S.isLoading,P=Object(g.a)(["revenueAnalytic",,s],{onError:function(t){I(t,e)}}),L=P.data,H=(P.isLoading,function(e,t){n((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))});return Object(c.useEffect)((function(){setInterval((function(){f(U()().format("hh:mm a"))}),1e3)}),[]),y?Object(M.jsx)(Z,{}):N||y&&w?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[C&&Object(M.jsx)("div",{className:"card",children:Object(M.jsxs)("div",{className:"card-content d-flex align-items-center justify-content-between",children:[Object(M.jsxs)(l.a,{fluid:!0,className:"d-flex align-items-center justify-content-start",children:[Object(M.jsx)(ya.DateRangePicker,{customInputIcon:Object(M.jsx)(wa.a,{color:_,size:24}),startDate:U()(s.datefrom),startDateId:"start_date",endDate:U()(s.dateto),endDateId:"end_date",isOutsideRange:function(){return!1},keepOpenOnDateSelect:!0,onDatesChange:function(e){var t=e.startDate,a=e.endDate;t&&H("datefrom",t.format("YYYY-MM-DD")),a&&H("dateto",a.format("YYYY-MM-DD"))},focusedInput:b,onFocusChange:function(e){return m(e)}}),Object(M.jsxs)(K.a.Control,{as:"select",custom:!0,onChange:function(e){H("duration",e.target.value)},className:"bg-transparent m-0 ml-4",style:{width:"100px",height:"44px"},value:s.duration,children:[Object(M.jsx)("option",{value:"month",children:"Month"}),Object(M.jsx)("option",{value:"week",children:"Week"}),Object(M.jsx)("option",{value:"day",children:"Daily"})]})]}),Object(M.jsxs)("div",{children:[Object(M.jsx)("p",{className:"m-0 text-right lead",children:U()().format("DD-MMMM")}),Object(M.jsx)("p",{style:{whiteSpace:"nowrap",fontSize:"20px"},className:"font-weight-bold  text-right",children:O})]})]})}),Object(M.jsx)(l.a,{children:Object(M.jsx)("h1",{children:w?Object(M.jsx)("h3",{className:"text-muted text-center",children:"Fetching data...."}):null})}),Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsxs)("div",{className:"my-3",style:{display:"grid",gridTemplateColumns:"repeat( auto-fit, minmax(200px, 1fr) )",gap:"10px"},children:[Object(M.jsx)("div",{className:"card hoverable stats-card d-flex w-100 ",children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"lead",children:"Customers"}),Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(M.jsx)("h1",{className:"text-black font-weight-bold",children:(null===N||void 0===N?void 0:N.customer)+(null===N||void 0===N?void 0:N.customerprev)})}),Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(M.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(M.jsx)(Q.g,{size:13}),Object(M.jsxs)("strong",{children:[za(N.customer,N.customerprev),"%"]})]}),Object(M.jsxs)("span",{className:"text-muted ml-2",children:["from ",null===N||void 0===N?void 0:N.customerprev]})]})]})}),Object(M.jsx)("div",{className:"card hoverable stats-card d-flex w-100 ",children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"lead",children:"Orders"}),Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(M.jsx)("h1",{className:"text-black font-weight-bold",children:(null===N||void 0===N?void 0:N.order)+(null===N||void 0===N?void 0:N.orderprev)})}),Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(M.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(M.jsx)(Q.g,{size:13}),Object(M.jsxs)("strong",{children:[za(null===N||void 0===N?void 0:N.order,null===N||void 0===N?void 0:N.orderprev),"%"]})]}),Object(M.jsxs)("span",{className:"text-muted ml-2",children:["from ",null===N||void 0===N?void 0:N.orderprev]})]})]})}),Object(M.jsx)("div",{className:"card hoverable stats-card d-flex w-100",children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"lead",children:"Active Subscriptions"}),Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(M.jsx)("h1",{className:"text-black font-weight-bold",children:(null===N||void 0===N?void 0:N.subscription)+(null===N||void 0===N?void 0:N.subscriptionprev)})}),Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(M.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(M.jsx)(Q.g,{size:13}),Object(M.jsxs)("strong",{children:[za(null===N||void 0===N?void 0:N.subscription,null===N||void 0===N?void 0:N.subscriptionprev),"%"]})]}),Object(M.jsxs)("span",{className:"text-muted ml-2",children:["from ",null===N||void 0===N?void 0:N.subscriptionprev]})]})]})}),Object(M.jsx)("div",{className:"card hoverable stats-card d-flex w-100",children:Object(M.jsxs)("div",{className:"card-content",children:[Object(M.jsx)("div",{className:"lead",children:"Agents"}),Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(M.jsx)("h1",{className:"text-black font-weight-bold",children:(null===N||void 0===N?void 0:N.agent)+(null===N||void 0===N?void 0:N.agentprev)})}),Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(M.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(M.jsx)(Q.g,{size:13}),Object(M.jsxs)("strong",{children:[za(null===N||void 0===N?void 0:N.agent,null===N||void 0===N?void 0:N.agentprev),"%"]})]}),Object(M.jsxs)("span",{className:"text-muted ml-2",children:["from ",null===N||void 0===N?void 0:N.agentprev]})]})]})})]})}),Object(M.jsxs)("div",{className:"dashboard-page w-100 mt-4",children:[Object(M.jsx)(l.a,{fluid:!0,className:"status-container mt-0 pl-2 pr-0",children:Object(M.jsxs)("div",{className:"card hoverable stats-card d-flex w-100",children:[Object(M.jsx)("div",{className:"card-header",children:Object(M.jsx)("p",{className:"text-black",children:"Reports overview"})}),Object(M.jsx)("div",{className:"card-content",children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsx)("tbody",{children:(null===N||void 0===N?void 0:N.data_total)&&Object.entries(null===N||void 0===N?void 0:N.data_total).map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-grey text-capitalize",children:Object(M.jsx)("p",{children:e[0].replace("_"," ")})}),Object(M.jsx)("td",{className:"text-left text-grey",style:{width:"30px"},children:Object(M.jsx)("p",{children:Object(M.jsx)("b",{children:e[1]})})})]})}))})})})]})}),Object(M.jsx)(l.a,{fluid:!0,className:"charts-container mt-0 pl-0 pr-2",children:Object(M.jsxs)("div",{className:"charts-row",children:[Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header pb-3 d-flex justify-content-between align-items-center",children:Object(M.jsx)("h5",{className:"mb-0",children:Object(M.jsx)("strong",{children:"Bookings"})})}),Object(M.jsx)("div",{className:"card-content chart-container",children:k?Object(M.jsx)(Z,{}):Object(M.jsx)(Ta,{data:null===F||void 0===F?void 0:F.booking,xAxisDataKey:"date",dataKey:"order"})})]}),Object(M.jsxs)("div",{className:"card",children:[Object(M.jsx)("div",{className:"card-header pb-3 d-flex justify-content-between align-items-center",children:Object(M.jsx)("h5",{className:"mb-0",children:Object(M.jsx)("strong",{children:"Revenue"})})}),Object(M.jsx)("div",{className:"card-content chart-container",children:k?Object(M.jsx)(Z,{}):Object(M.jsx)(Aa,{data:null===L||void 0===L?void 0:L.revenue,xAxisDataKey:"date",dataKey1:"total_amount",dataKey2:"discount_amount"})})]})]})})]})]})}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ea="faqs",Ia=function(e){return L.post("".concat(Ea,"/delete"),{id:e})},Ma={q:"",page:1,perPage:25,active:""},Ya=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],m=u[1],x=Object(c.useState)(Ma),h=Object(r.a)(x,2),f=h[0],v=h[1];console.log(b.map((function(e){return e.id})));var y=Object(g.a)([Ea,,f],{onError:function(e){I(e,n)}}),w=y.data,C=y.isLoading,S=y.isFetching,F=y.error,k=Object(N.a)(Ia,{onSuccess:function(){Te.invalidateQueries(Ea),ze("Faqs deleted successfully")},onError:function(e){I(e,n)}}),P=k.mutate,L=k.isLoading,H=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},D=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/faqs/create-edit",{id:t})}})}}]}),[]);return w||C&&S?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Faqs",onClick:function(){n.push("/faqs/create-edit")},totalRecords:null===w||void 0===w?void 0:w.total}),!C&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:H,value:"",currentValue:f.active,dataLength:null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(M.jsx)(Y,{onFilterChange:H,value:"1",currentValue:f.active,dataLength:null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:H,value:"0",currentValue:f.active,dataLength:null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:C?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!F&&Object(M.jsx)(Pe,{data:null===w||void 0===w?void 0:w.data,columns:D,setSelectedRows:m,filter:f,onFilterChange:H,isDataLoading:S,searchPlaceHolder:"Search using title"}),!F&&(null===w||void 0===w||null===(s=w.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===w||void 0===w?void 0:w.current_page,lastPage:null===w||void 0===w?void 0:w.last_page,setPage:H,hasNextPage:!!(null===w||void 0===w?void 0:w.next_page_url),hasPrevPage:!!(null===w||void 0===w?void 0:w.prev_page_url)}):null," "]})})]}),b.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){P(b.map((function(e){return e.id})))},children:L?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},qa="faqs",Ua=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(qa,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(qa),t,{headers:{"Content-Type":"multipart/form-data"}})},Ba=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:qa}),n=s.data,i=s.isLoading,r=Object(N.a)(Ua,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(qa)}),500),t.replace("/faqs"),a)return ze("Faq updated successfully");ze("Faq created successfully")},onError:function(e){I(e,t)}}),l=r.mutate,o=r.isLoading,j=n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Faqs"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:j||{is_active:1},onSubmit:function(e){var t=new FormData;t.append("title",e.title),t.append("description",e.description),t.append("is_active",e.is_active),l({formdata:t,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"title",placeholder:"title",label:"Title",required:!0}),Object(M.jsx)(Xe,{name:"is_active",placeholder:"Is Active?",label:"Is Active?",as:"select",selectData:me})]}),Object(M.jsx)(x.a,{children:Object(M.jsx)(h.a,{md:12,xl:12,children:Object(M.jsx)(fa,{name:"description",label:"Description",setFieldValue:t})})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},Qa={q:"",page:null,perPage:25,status:"active",user_id:"",related_to:"",created_at:""},Wa=function(){var e,t,a=Object(d.g)(),s=Object(c.useState)([]),n=Object(r.a)(s,2),i=n[0],u=n[1],b=Object(c.useState)(Qa),m=Object(r.a)(b,2),f=m[0],v=m[1],N=Object(g.a)(["tickets",,f],{onError:function(e){E(e.response.data.message)}}),y=N.data,w=N.isLoading,C=N.isFetching,S=N.error,F=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){I(e,a)}}),k=F.data,P=F.isLoading,L=function(e){var t=e.status;return Object(M.jsx)(J,{variant:"closed"===t?"danger":"success",title:t})},H=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},D=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Reference Id",accessor:"ref_id"},{Header:"Related to",accessor:"related_to"},{Header:"Issue Status",accessor:"status",Cell:function(e){return Object(M.jsx)(L,{status:e.row.values.status})}},{Header:"Raised by",accessor:"user.name",Cell:function(e){return e.row.original.user_id?Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.user_id)&&a.push("/users/create-edit",{id:t})},children:e.row.values["user.name"]}):"NA"}},{Header:"Order Id",accessor:"order.ref_id",Cell:function(e){return e.row.original.order_id?Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.order_id)&&a.push("/orders/".concat(t))},children:e.row.values["order.ref_id"]}):"NA"}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)("div",{className:"d-flex",children:Object(M.jsx)(O.a,{onClick:function(){return a.push("/issues/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return y||w&&C?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Issues",totalRecords:null===y||void 0===y?void 0:y.total}),!w&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:H,value:"active",currentValue:f.status,dataLength:null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.length,idx:"status",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:H,value:"closed",currentValue:f.status,dataLength:null===y||void 0===y||null===(t=y.data)||void 0===t?void 0:t.length,idx:"status",title:"Closed",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:w?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!S&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-2 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:f.user_id,data:!P&&k.data,label:"Customer",idx:"user_id",onFilterChange:H})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:f.related_to,data:ve,label:"Related to",idx:"related_to",onFilterChange:H})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsxs)(K.a.Group,{children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:"Raised At"}),Object(M.jsx)(K.a.Control,{type:"date",value:f.created_at,onChange:function(e){var t=U()(e.target.value).format("YYYY-MM-DD");H("created_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-center justify-md-content-center",children:Object(M.jsx)(O.a,{onClick:function(){v(Qa)},variant:Le(Qa,f)?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===y||void 0===y?void 0:y.data,columns:D,setSelectedRows:u,filter:f,onFilterChange:H,isDataLoading:C,isSelectable:!1,searchPlaceHolder:"Search using title,ref_id"})]}),!S&&y.length>0?Object(M.jsx)(ce,{currentPage:null===y||void 0===y?void 0:y.current_page,lastPage:null===y||void 0===y?void 0:y.last_page,setPage:H,hasNextPage:!!(null===y||void 0===y?void 0:y.next_page_url),hasPrevPage:!!(null===y||void 0===y?void 0:y.prev_page_url)}):null," "]})})]}),i.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",i.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",children:"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ka="tickets",Ga=function(e){var t=e.formdata;return L.post("".concat(Ka,"/create"),t,{headers:{"Content-Type":"application/json"}})},Ja=function(){var e=Object(d.h)().state;console.log({state:e});var t=Object(d.g)();Object(c.useEffect)((function(){qe.a.init()}),[]);var a=Object(N.a)(Ga,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries(Ka)}),500),t.replace("/issues"),ze("Issue created successfully")},onError:function(e){I(e,t)}}),s=a.mutate,n=a.isLoading;return e?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ke,{title:"Create issue for order #".concat(null===e||void 0===e?void 0:e.order_id)}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:e,onSubmit:function(e){s({formdata:e})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(M.jsx)(Xe,{as:"select",selectData:ye,name:"status",label:"Status",placeholder:"Choose Status"}),Object(M.jsx)(Xe,{name:"related_to",label:"Related To",placeholder:"Related To?",selectData:ve,as:"select"})]}),Object(M.jsx)(x.a,{children:Object(M.jsx)(h.a,{md:6,children:Object(M.jsx)(Xe,{name:"description",label:"Description",placeholder:"Description",as:"textarea"})})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:n,className:"w-100",children:n?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]}):Object(M.jsx)("h1",{children:"Order Id is required"})},$a=(a(305),a(95)),Xa=Object(D.combine)({user:null},(function(e){return{setUser:function(t){return e((function(e){return{user:t}}))},removeUser:function(){return e((function(e){return{user:null}}))}}}));Xa=Object(D.persist)(Xa,{name:"user"});var Za=Object(H.a)(Xa),ec="tickets",tc=function(e){var t=e.id,a=e.message;return L.post("".concat(ec,"/").concat(t,"/message"),{message:a},{headers:{"Content-Type":"application/json"}})},ac=function(e){var t=e.initialMessages,a=e.id,c=Object(d.g)(),n=Za((function(e){return e.user})),i=s.a.useState(t),o=Object(r.a)(i,2),j=o[0],u=(o[1],Object(N.a)(tc,{onSuccess:function(e){setTimeout((function(){Te.invalidateQueries(ec)}),500)},onError:function(e){I(e,c)}})),b=u.mutate,m=(u.isLoading,s.a.useRef()),x=function(e){return n.id===e};return Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"card d-flex flex-column justify-content-between ",style:{minHeight:"75vh",backgroundColor:"#7598ce2b"},children:[Object(M.jsxs)(l.a,{fluid:!0,className:"messages-container p-0 py-2 hide-scroll",style:{maxHeight:"70vh",overflow:"auto"},children:[0===j.length&&Object(M.jsx)("p",{className:"text-center text-muted",children:"Send Message to start a conversation"}),null===j||void 0===j?void 0:j.map((function(e,t){var a;return Object(M.jsx)("div",{className:"message w-100",style:{position:"relative",marginBottom:6},children:Object(M.jsxs)("div",{className:"d-flex",style:{display:"flex",minWidth:"50%",flexDirection:x(e.user_id)?"row-reverse":"row"},children:[Object(M.jsx)("div",{className:"user-image mx-1",style:{flex:0},children:Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-center text-black ",style:{height:30,width:30,borderRadius:"50%",backgroundColor:x(e.user_id)?"#7bbfff":"#ffd76a"},children:(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name.slice(0,1).toUpperCase())||"A"})}),Object(M.jsxs)("div",{className:"message-details d-flex flex-column",children:[Object(M.jsx)("p",{style:{backgroundColor:x(e.user_id)?_:"#fff",color:x(e.user_id)?"white":"black",boxShadow:x(e.user_id)?"":"4px 0 20px rgba(0,0,0,.12",maxWidth:"300px",minHeight:20},className:"p-1 rounded m-0",children:e.message}),Object(M.jsx)("span",{className:"small text-muted ",style:{fontSize:12,alignSelf:x(e.user_id)&&"flex-end"},children:U()(e.created_at).fromNow()})]})]})})})),Object(M.jsx)("div",{ref:m,className:"dummy-div "})]}),Object(M.jsx)(l.a,{fluid:!0,className:"send-message-form mb-1",children:Object(M.jsx)("div",{className:"bg-light rounded p-1",children:Object(M.jsx)(Ue.d,{initialValues:{text:""},onSubmit:function(e,t){var c=e.text,s=t.resetForm;b({id:a,message:c}),s()},children:function(e){var t=e.handleChange,a=e.values;return Object(M.jsx)(Ue.c,{children:Object(M.jsxs)("div",{className:"input-group d-flex align-items-center",children:[Object(M.jsx)("input",{type:"text",name:"text",id:"text",value:a.text,placeholder:"Type Message ...",className:"form-control shadow-none",style:{border:"none",outline:"none"},required:!0,onChange:t}),Object(M.jsx)("button",{type:"submit",children:Object(M.jsx)($a.g,{color:_,size:24})})]})})}})})})]})})},cc="tickets",sc=function(e){var t=e.formdata,a=e.id;return L.post("".concat(cc,"/").concat(a,"/update-status"),t,{headers:{"Content-Type":"application/json"}})},nc=function(){var e,t,a=Object(d.i)().id,s=Object(d.g)(),n=We({id:a,key:cc}),i=n.data,u=n.isLoading,b=n.isFetching,m=Object(N.a)(sc,{onSuccess:function(e){ze("Status changed successfully"),setTimeout((function(){Te.invalidateQueries(cc),Te.invalidateQueries("".concat(cc,"/").concat(a))}),500)}}),O=m.mutate,f=(m.isLoading,Object(c.useState)({status:null===i||void 0===i?void 0:i.status})),v=Object(r.a)(f,2),g=(v[0],v[1]),y=function(e){e&&s.push("/users/create-edit",{id:e})};return u||b?Object(M.jsx)(Z,{}):i||u&&b?Object(M.jsxs)(l.a,{fluid:!0,className:"component-wrapper ",children:[Object(M.jsx)(Ke,{title:"Issue #".concat(null===i||void 0===i?void 0:i.id)}),Object(M.jsxs)("div",{className:"dashboard-page w-100 ",children:[Object(M.jsxs)(l.a,{fluid:!0,className:"status-container mt-2 px-0",children:[Object(M.jsx)("div",{className:"card  view-padding right-div d-flex mb-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return y(null===i||void 0===i?void 0:i.user_id)},children:"Update Issue status"})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(M.jsx)(x.a,{children:Object(M.jsxs)(h.a,{md:"auto",children:[Object(M.jsx)(K.a.Group,{children:Object(M.jsx)(K.a.Control,{as:"select",value:null===i||void 0===i?void 0:i.status,onChange:function(e){var t,c;t="status",c=e.target.value,g((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t,c))})),O({formdata:{status:e.target.value},id:a})},style:{width:"200px",fontSize:14},children:ye.map((function(e){if(""!==e.id)return Object(M.jsx)("option",{value:e.id,children:e.name})}))})}),Object(M.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted"})]})})})]})}),Object(M.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return y(null===i||void 0===i?void 0:i.user_id)},children:"Issue Info"})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(M.jsx)(x.a,{children:Object(M.jsxs)(h.a,{md:"auto",className:"w-100",children:[Object(M.jsx)("p",{className:"font-weight-bold mb-1",children:null===i||void 0===i?void 0:i.title}),Object(M.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted",children:null===i||void 0===i?void 0:i.description}),Object(M.jsx)("table",{className:"w-100 ",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Order"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading text-primary",style:{cursor:"pointer"},onClick:function(){return function(e){e&&s.push("/orders/".concat(e))}(null===i||void 0===i?void 0:i.order_id)},children:i.order_id||"NA"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Related To"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:null===i||void 0===i?void 0:i.related_to})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Updated At"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:U()(null===i||void 0===i?void 0:i.updated_at).format("YYYY-MM-DD")})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Created At"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:U()(null===i||void 0===i?void 0:i.created_at).format("YYYY-MM-DD")})})]})]})})]})})})]})}),Object(M.jsx)("div",{className:"card p-2 view-padding right-div d-flex",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",children:"Customer"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Name"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:null===i||void 0===i?void 0:i.user.name})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Email"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("a",{href:"mailto:".concat(null===i||void 0===i?void 0:i.user.email),children:Object(M.jsx)("p",{className:"view-subheading text-primary",children:null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.email})})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.phone})})]})]})}),Object(M.jsx)("span",{className:"small text-primary font-weight-bold",style:{cursor:"pointer"},onClick:function(){return y(null===i||void 0===i?void 0:i.user_id)},children:"View Profile"})]}),Object(M.jsx)("hr",{className:"mb-3 mt-3"})]})})]}),Object(M.jsx)(l.a,{fluid:!0,className:"charts-container",children:Object(M.jsx)(ac,{initialMessages:null===i||void 0===i?void 0:i.messages,id:a})})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ic=a(78),rc=ic.a().shape({phone:ic.b().matches(/^[6-9]\d{9}$/,"Phone number is not valid").required("Phone number required")}),lc=function(e){return L.post("auth/send-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},dc=function(e){var t=Object(d.g)(),a=Object(N.a)(lc,{onSuccess:function(e){t.push("/verify-otp/",{phone:e.data.user.phone,otp:e.data.user.otp})},onError:function(e){I(e,t)}}),c=a.mutate,s=(a.data,a.isLoading);return Object(M.jsx)(l.a,{fluid:!0,className:"login-page",children:Object(M.jsx)(Ue.d,{initialValues:{phone:""},onSubmit:function(e){var t=new FormData;t.append("phone",e.phone),c(t)},validationSchema:rc,children:function(e){var t=e.errors;return Object(M.jsx)(Ue.c,{children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-between px-3 py-3",style:{width:"100vw",maxWidth:"450px"},children:[Object(M.jsx)("h1",{className:"text-black",children:Object(M.jsx)("b",{children:"Sign In"})}),Object(M.jsx)("p",{className:"text-muted",children:"OTP will be send to your number."}),Object(M.jsx)("br",{}),Object(M.jsx)(Xe,{name:"phone",placeholder:"Enter your phone number",label:"Phone number",type:"text",error:t.phone}),Object(M.jsx)(O.a,{variant:"primary",type:"submit",className:"full-width my-2",children:s?Object(M.jsx)(X.a,{animation:"border",variant:"secondary",size:"sm"}):Object(M.jsx)("div",{className:"text-white",children:Object(M.jsx)("b",{children:"Submit"})})})]})})}})})},oc=a(111),jc=a(209),uc=a(488),bc=a.p+"static/media/logo.81b7e47a.svg",mc=function(){return Object(M.jsx)("div",{className:"d-flex justify-content-start",children:Object(M.jsx)("div",{className:"logo text-left ml-4",style:{width:"5rem"},children:Object(M.jsx)("img",{src:bc,alt:"logo"})})})},xc=a(17),hc=function(e){var t=e.title,a=e.path,s=e.onClick,n=e.icon,i=(e.isNavOpen,Object(c.useContext)(ee),Object(d.h)().pathname);return Object(M.jsx)(xc.b,{to:a,children:Object(M.jsxs)("li",{className:i.includes(a)?"navLink active":"navLink my-1",onClick:s,children:[n&&n," ",t]})})},Oc=function(e){var t=e.onClick;return Object(M.jsx)("div",{className:"overlay",onClick:t||function(){}})},pc=a(489),fc=[{title:"Brands",path:"/brands",icon:Object(M.jsx)(uc.a,{})},{title:"Brand Models",path:"/brand-models",icon:Object(M.jsx)(ue.a,{})},{title:"Categories",path:"/categories",icon:Object(M.jsx)(oc.d,{})},{title:"Customers",path:"/users",icon:Object(M.jsx)(pc.a,{})},{title:"Admins",path:"/admin",icon:Object(M.jsx)($a.a,{})},{title:"Agents",path:"/agent",icon:Object(M.jsx)(oc.h,{})},{title:"Agent Targets",path:"/agent-targets",icon:Object(M.jsx)(jc.c,{})},{title:"Services",path:"/services",icon:Object(M.jsx)($a.h,{})},{title:"Faqs",path:"/faqs",icon:Object(M.jsx)(oc.f,{})},{title:"Plans",path:"/plans",icon:Object(M.jsx)(oc.g,{})},{title:"Coupons",path:"/coupons",icon:Object(M.jsx)($a.c,{})},{title:"Banners",path:"/advertisements",icon:Object(M.jsx)($a.b,{})},{title:"Permissions",path:"/permissions",icon:Object(M.jsx)(wa.d,{})},{title:"Roles",path:"/roles",icon:Object(M.jsx)(oc.i,{})},{title:"Configurations",path:"/configurations",icon:Object(M.jsx)(Q.f,{})},{title:"Booking Slots",path:"/booking-slots",icon:Object(M.jsx)(wa.b,{})},{title:"Cities",path:"/cities",icon:Object(M.jsx)(jc.b,{})},{title:"Testimonials",path:"/testimonials",icon:Object(M.jsx)(Q.d,{})},{title:"Static Pages",path:"/static-pages",icon:Object(M.jsx)($a.f,{})}],vc=[{title:"Orders",path:"/orders",icon:Object(M.jsx)(oc.c,{})},{title:"Cart",path:"/cart",icon:Object(M.jsx)(oe.c,{})},{title:"Subscriptions",path:"/subscriptions",icon:Object(M.jsx)(oc.a,{})},{title:"Transactions",path:"/transactions",icon:Object(M.jsx)(oc.e,{})},{title:"Issues",path:"/issues",icon:Object(M.jsx)(je.a,{})},{title:"Notifications",path:"/push-notifications",icon:Object(M.jsx)($a.e,{})}],gc=function(e){var t=e.isNavOpen,a=e.setIsNavOpen,s=Object(c.useContext)(ee),n=function(){s||a&&a(!1)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)("nav",{className:t?"active":"",children:[s&&Object(M.jsxs)("div",{className:"d-flex  justify-content-between align-items-center",children:[Object(M.jsx)(mc,{}),Object(M.jsx)(oc.b,{onClick:function(){a&&a(!t)},size:20,className:"mr-2",style:{cursor:"pointer",color:"#707070"}})]}),Object(M.jsxs)("div",{className:"all-links",children:[Object(M.jsx)("ul",{className:"pt-4",children:Object(M.jsx)(hc,{title:"Dashboard",path:"/dashboard",onClick:n,icon:Object(M.jsx)($a.d,{}),isNavOpen:t})}),Object(M.jsx)("p",{className:"text-muted mb-2",children:"Main"}),Object(M.jsx)("ul",{children:vc.map((function(e){var a=e.title,c=e.path,s=e.icon;return Object(M.jsx)(hc,{path:c,title:a,onClick:n,icon:s,isNavOpen:t},a)}))}),Object(M.jsx)("p",{className:"text-muted mb-2",children:"Manage"}),Object(M.jsx)("ul",{children:fc.map((function(e){var a=e.title,c=e.path,s=e.icon;return Object(M.jsx)(hc,{path:c,title:a,onClick:n,icon:s,isNavOpen:t},a)}))})]})]}),t&&!s&&Object(M.jsx)(Oc,{onClick:n})]})},Nc="fcm-notification",yc={q:"",page:null,perPage:25,sent:"",send_to:"",scheduled_at:""},wc=function(e){return L.post("".concat(Nc,"/delete"),{id:e})},Cc=function(){var e,t,a,s=Object(d.g)(),n=Object(c.useState)([]),i=Object(r.a)(n,2),u=i[0],b=i[1],m=Object(c.useState)(yc),f=Object(r.a)(m,2),v=f[0],y=f[1],w=Object(g.a)([Nc,,v],{onError:function(e){I(e,s)}}),C=w.data,S=w.isLoading,F=w.isFetching,k=w.error,P=Object(N.a)(wc,{onSuccess:function(){Te.invalidateQueries(Nc),ze("Notifications deleted successfully")},onError:function(e){I(e,s)}}),L=P.mutate,H=P.isLoading,D=function(e,t){y((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},T=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Sent ?",accessor:"sent",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.sent})}},{Header:"Send To ",accessor:"send_to",Cell:function(e){return Object(M.jsx)(J,{title:e.row.values.send_to,variant:"primary"})}},{Header:"Scheduled At",accessor:"scheduled_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.scheduled_at})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,s.push("/push-notifications/create-edit",{id:t})}})}}]}),[]);return C||S&&F?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Notifications",onClick:function(){s.push("/push-notifications/create-edit")},totalRecords:null===C||void 0===C?void 0:C.total}),!S&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:D,value:"",currentValue:v.sent,dataLength:null===C||void 0===C||null===(e=C.data)||void 0===e?void 0:e.length,idx:"sent",title:"All"}),Object(M.jsx)(Y,{onFilterChange:D,value:"1",currentValue:v.sent,dataLength:null===C||void 0===C||null===(t=C.data)||void 0===t?void 0:t.length,idx:"sent",title:"Sent"}),Object(M.jsx)(Y,{onFilterChange:D,value:"0",currentValue:v.sent,dataLength:null===C||void 0===C||null===(a=C.data)||void 0===a?void 0:a.length,idx:"sent",title:"Not Sent",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:S?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!k&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:v.send_to,data:we,label:"Send To",idx:"send_to",onFilterChange:D})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsxs)(K.a.Group,{children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:"Scheduled At"}),Object(M.jsx)(K.a.Control,{type:"date",value:v.scheduled_at,onChange:function(e){var t=U()(e.target.value).format("YYYY-MM-DD");D("scheduled_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-center justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(yc,v)?"light":"primary",style:{fontSize:14},onClick:function(){return y(yc)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{}),Object(M.jsx)(Pe,{data:null===C||void 0===C?void 0:C.data,columns:T,setSelectedRows:b,filter:v,onFilterChange:D,isDataLoading:F,searchPlaceHolder:"Search using title"})]}),!k&&C.length>0?Object(M.jsx)(ce,{currentPage:null===C||void 0===C?void 0:C.current_page,lastPage:null===C||void 0===C?void 0:C.last_page,setPage:D,hasNextPage:!!(null===C||void 0===C?void 0:C.next_page_url),hasPrevPage:!!(null===C||void 0===C?void 0:C.prev_page_url)}):null," "]})})]}),u.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",u.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){L(u.map((function(e){return e.id})))},children:H?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},_c="fcm-notification",Sc=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(_c,"/").concat(a),t):L.post("".concat(_c),t)},Fc={q:"",role:"",page:null,perPage:25},kc=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null,s=Object(c.useState)((function(){return!!a})),n=Object(r.a)(s,2),i=n[0],l=n[1],u=Object(c.useState)([]),b=Object(r.a)(u,2),m=b[0],p=b[1],f=Object(c.useState)({}),v=Object(r.a)(f,2),y=v[0],w=v[1],C=Object(c.useState)(Fc),S=Object(r.a)(C,2),F=S[0],k=S[1];Object(c.useEffect)((function(){qe.a.init()}),[]);var P=We({id:a,key:_c}),L=P.data,H=P.isLoading,D=Object(g.a)(["users",,F]),T=D.data,A=D.error,z=D.isLoading,V=D.isFetching,R=function(e,t){k((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},E=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Role",accessor:"role",Cell:function(e){return Object(M.jsx)(J,{variant:"primary",title:e.row.values.role})}},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.disabled})}}]}),[]),Y=Object(N.a)(Sc,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(_c)}),500),t.replace("/push-notifications"),a)return ze("Notification updated successfully");ze("Notification created successfully")},onError:function(e){I(e,t)}}),q=Y.mutate,B=Y.isLoading,Q=L,W=function(){return l(!0)},K=function(){return l(!1)};return H?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ke,{title:"Notification"}),Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:Q||{is_sms:"0"},onSubmit:function(e){var t=Object(j.a)(Object(j.a)({},e),{},{users:m.map((function(e){return e.id}))});(null===e||void 0===e?void 0:e.scheduled_at)||(t.scheduled_at=U()().format("YYYY-MM-DD hh:mm:ss")),q({formdata:t,id:a})},children:function(e){var t=e.setFieldValue,c=e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsxs)("label",{className:"d-flex align-items-center",children:[Object(M.jsx)(Ue.a,{type:"radio",name:"is_sms",value:"1"}),Object(M.jsxs)("p",{className:"m-0 mx-2 lead",children:["SMS",Object(M.jsx)("span",{className:"mx-1",children:Object(M.jsx)(oe.d,{})})]})]}),Object(M.jsxs)("label",{className:"d-flex align-items-center ml-4",children:[Object(M.jsx)(Ue.a,{type:"radio",name:"is_sms",value:"0"}),Object(M.jsxs)("p",{className:"m-0 mx-2 lead",children:["Notification",Object(M.jsx)("span",{className:"mx-1",children:Object(M.jsx)(oe.a,{})})]})]})]}),Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(M.jsx)(Xe,{as:"select",selectData:we,name:"send_to",label:"Send to ?",placeholder:"Choose user category"}),"0"===c.is_sms&&Object(M.jsx)(Xe,{name:"description",placeholder:"Description",label:"Description",as:"textarea",required:!0})]}),Object(M.jsxs)(x.a,{children:[Object(M.jsxs)(h.a,{md:12,xl:12,children:["0"===c.is_sms&&Object(M.jsxs)("h4",{className:"font-weight-bold d-flex align-items-center ",children:[Object(M.jsx)($a.i,{size:24})," ",Object(M.jsx)("span",{children:" Schedule"})]}),"0"===c.is_sms&&!a&&Object(M.jsxs)("div",{className:"navigation-tab mt-3",children:[Object(M.jsx)("button",{type:"button",className:i?"text-muted":"text-primary",style:{borderBottom:i?"":" 2px solid ".concat(_)},onClick:K,children:Object(M.jsx)("b",{children:"Now"})}),Object(M.jsx)("button",{type:"button",className:"".concat(i?"text-primary":"text-muted"," ml-2"),style:{borderBottom:i?" 2px solid ".concat(_):""},onClick:W,children:Object(M.jsx)("b",{children:"Schedule"})})]}),"0"===c.is_sms&&Object(M.jsx)("div",{className:"display-for-schedule mt-2",children:i?Object(M.jsx)("div",{style:{width:"200px"},children:Object(M.jsx)(Je,{name:"scheduled_at",setFieldValue:t,label:"Data\\time"})}):Object(M.jsx)("div",{className:"py-3",children:Object(M.jsx)("p",{children:"Notification will be send now"})})})]}),Object(M.jsx)(h.a,{md:12,xl:12,children:!A&&!z&&T&&Object(M.jsx)(Pe,{data:null===T||void 0===T?void 0:T.data,columns:E,setSelectedRows:p,filter:F,onFilterChange:R,isDataLoading:V,initialState:{selectedRowIds:y},setSelectedRowIds:w})})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:B,className:"w-100",children:B?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})})]})},Pc={page:null,perPage:25,created_at:"",inside_cart:"0",q:""},Lc=function(){var e,t,a,s,n,i,u,b,m,f,v=Object(d.g)(),N=Object(c.useContext)(ee),y=Object(c.useState)(1),w=Object(r.a)(y,2),C=(w[0],w[1],Object(c.useState)([])),S=Object(r.a)(C,2),F=(S[0],S[1]),k=Object(c.useState)(Pc),P=Object(r.a)(k,2),L=P[0],H=P[1];console.log({localFilter:L});var D=It((function(e){return e.filter})),T=It((function(e){return e.onFilterChange})),A=It((function(e){return e.resetFilter})),z=Object(g.a)(["bookings",,Object(j.a)(Object(j.a)({},D),L)],{onError:function(e){I(e,v)}}),V=z.data,R=z.isLoading,E=z.isFetching,q=z.error,Q=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){I(e,v)}}),W=Q.data,$=Q.isLoading,X=Object(g.a)(["users",1,{role:"agent"}],{onError:function(e){I(e,v)}}),ae=X.data,se=X.isLoading,ne=function(e){var t=e.status;return Object(M.jsx)(J,{variant:"cancelled"===t||"error_payment"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success",title:t})},ie=function(e){e&&v.push("/users/create-edit",{id:e})},re=function(e){e&&v.push("/orders/".concat(e))},le=function(e,t){H((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},de=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id",Cell:function(e){return Object(M.jsx)(st,{onClick:re,id:e.row.values.id,title:e.row.values.ref_id})}},{Header:"Customer",accessor:"user.name",Cell:function(e){return Object(M.jsx)(st,{onClick:ie,id:e.row.original.user_id,title:e.row.values["user.name"]})}},{Header:"Agent",accessor:"agent.name",Cell:function(e){return Object(M.jsx)(st,{onClick:ie,id:e.row.original.agent_id,title:e.row.values["agent.name"]})}},{Header:"Order Type",accessor:"order_type",Cell:function(e){return Object(M.jsx)(ne,{status:e.row.values.order_type})}},{Header:"Order Status",accessor:"status",Cell:function(e){return Object(M.jsx)(ne,{status:e.row.values.status})}},{Header:"Scheduled At",accessor:"scheduled_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.scheduled_at})}},{Header:"Paid Amount",accessor:"payable_amount"},{Header:"Payment Method",accessor:"payment_method"},{Header:"Rating",accessor:"rating"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return console.log({data:e}),Object(M.jsx)("div",{className:"d-flex",children:Object(M.jsx)(O.a,{onClick:function(){return v.push("/orders/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return V||R&&E?Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Orders",totalRecords:null===V||void 0===V?void 0:V.total}),(!R||!E)&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:N&&Object(M.jsxs)("div",{className:"filter mb-4",children:[Object(M.jsx)(Y,{onFilterChange:T,value:"",currentValue:D.status,dataLength:null===V||void 0===V||null===(e=V.data)||void 0===e?void 0:e.length,idx:"status",title:"All"}),Object(M.jsx)(Y,{onFilterChange:T,value:"confirmed",currentValue:D.status,dataLength:null===V||void 0===V||null===(t=V.data)||void 0===t?void 0:t.length,idx:"status",title:"Confirmed"}),Object(M.jsx)(Y,{onFilterChange:T,value:"fulfilled",currentValue:D.status,dataLength:null===V||void 0===V||null===(a=V.data)||void 0===a?void 0:a.length,idx:"status",title:"Fulfilled"}),Object(M.jsx)(Y,{onFilterChange:T,value:"picked",currentValue:D.status,dataLength:null===V||void 0===V||null===(s=V.data)||void 0===s?void 0:s.length,idx:"status",title:"Picked"}),Object(M.jsx)(Y,{onFilterChange:T,value:"pending",currentValue:D.status,dataLength:null===V||void 0===V||null===(n=V.data)||void 0===n?void 0:n.length,idx:"status",title:"Pending"}),Object(M.jsx)(Y,{onFilterChange:T,value:"pending_payment",currentValue:D.status,dataLength:null===V||void 0===V||null===(i=V.data)||void 0===i?void 0:i.length,idx:"status",title:"Pending Payment"}),Object(M.jsx)(Y,{onFilterChange:T,value:"error_payment",currentValue:D.status,dataLength:null===V||void 0===V||null===(u=V.data)||void 0===u?void 0:u.length,idx:"status",title:"Payment Errors"}),Object(M.jsx)(Y,{onFilterChange:T,value:"cancelled",currentValue:D.status,dataLength:null===V||void 0===V||null===(b=V.data)||void 0===b?void 0:b.length,idx:"status",title:"Cancelled"}),Object(M.jsx)(Y,{onFilterChange:T,value:"failed",currentValue:D.status,dataLength:null===V||void 0===V||null===(m=V.data)||void 0===m?void 0:m.length,idx:"status",title:"Failed",isLast:!0})]})}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Object(M.jsx)(M.Fragment,{children:R?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!q&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-2 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:D.user_id,data:!$&&W.data,label:"Customer",idx:"user_id",onFilterChange:T})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:D.agent_id,data:!se&&ae.data,label:"Agents",idx:"agent_id",onFilterChange:T})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:D.status,data:ge,label:"Status",idx:"status",onFilterChange:T})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:D.order_type,data:Ne,label:"Order Type",idx:"order_type",onFilterChange:T})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsxs)(K.a.Group,{children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:"Ordered At"}),Object(M.jsx)(K.a.Control,{type:"date",value:L.created_at,onChange:function(e){var t=U()(e.target.value).format("YYYY-MM-DD");le("created_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-md-content-center",children:Object(M.jsx)(O.a,{onClick:function(){A(),H(Pc)},variant:Le(Object(j.a)(Object(j.a)({},Pc),Rt),Object(j.a)(Object(j.a)({},L),D))?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{}),Object(M.jsx)(Pe,{data:V.data,columns:de,setSelectedRows:F,filter:D,onFilterChange:le,isDataLoading:E,searchPlaceHolder:"Search using ref_id",isSelectable:!1})]}),!q&&(null===V||void 0===V||null===(f=V.data)||void 0===f?void 0:f.length)>0?Object(M.jsx)(ce,{currentPage:null===V||void 0===V?void 0:V.current_page,lastPage:null===V||void 0===V?void 0:V.last_page,setPage:le,hasNextPage:!!(null===V||void 0===V?void 0:V.next_page_url),hasPrevPage:!!(null===V||void 0===V?void 0:V.prev_page_url)}):null," "]})})})]})}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Hc="bookings",Dc=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/users",{params:{role:"agent"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Tc=function(e){var t=e.formdata,a=e.id;return L.post("bookings/".concat(a,"/assign-agent"),t,{headers:{"Content-Type":"application/json"}})},Ac=function(){var e=Object(d.i)().id,t=Object(d.g)(),a=Object(g.a)("agent",(function(){return Dc()})),c=a.data,s=a.isLoading,n=Object(N.a)(Tc,{onSuccess:function(a){setTimeout((function(){Te.invalidateQueries(Hc),Te.invalidateQueries("".concat(Hc,"/").concat(e)),t.goBack()}),500)}}),i=(n.data,n.mutate),r=n.isLoading,o=(n.error,n.status);return s?Object(M.jsx)(Z,{}):Object(M.jsxs)(l.a,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(M.jsx)("h2",{className:"font-weight-bold",children:"Assign Aggent"}),Object(M.jsx)(O.a,{variant:"primary",onClick:function(){return t.goBack()},children:Object(M.jsxs)("div",{className:"text-white",children:[Object(M.jsx)(p.a,{size:25})," ",Object(M.jsx)("b",{children:"Back"})]})})]}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{initialValues:{agent_id:""},onSubmit:function(t){i({formdata:t,id:e})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:["success"===o&&Object(M.jsx)(Be.a,{variant:"success",children:"Agent Successfully Assigned"}),Object(M.jsx)(x.a,{className:"align-items-center justify-content-center",children:Object(M.jsx)(h.a,{sm:!0,md:6,children:Object(M.jsx)(Xe,{name:"agent_id",placeholder:"Select Agent",label:"Select Agent",as:"select",selectData:c.data})})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:r,className:"w-100",children:r?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},zc=a(108),Vc=a(28),Rc=a(29),Ec=a(64),Ic=a(67),Mc=function(e){Object(Ec.a)(a,e);var t=Object(Ic.a)(a);function a(){return Object(Vc.a)(this,a),t.apply(this,arguments)}return Object(Rc.a)(a,[{key:"_redraw",value:function(e){var t=e.width,a=e.height,c=e.ctx,s=e.isDragging,n=e.project,i=(e.unproject,this.props),r=i.points,l=i.color,d=void 0===l?"blue":l,o=i.lineWidth,j=void 0===o?2:o,u=i.renderWhileDragging,b=void 0===u||u;c.clearRect(0,0,t,a),c.globalCompositeOperation="lighter",!b&&s||!r||(c.lineWidth=j,c.strokeStyle=d,c.beginPath(),r.forEach((function(e){var t=n([e[0],e[1]]);c.lineTo(t[0],t[1])})),c.stroke())}},{key:"render",value:function(){return Object(M.jsx)(zc.a,{redraw:this._redraw.bind(this)})}}]),a}(c.PureComponent),Yc="pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw",qc=function(e){var t=e.order,a=t.address;console.log({order:t});var n=Object(c.useState)(null),i=Object(r.a)(n,2),l=i[0],d=(i[1],Object(c.useState)()),o=Object(r.a)(d,2),u=o[0],x=o[1],h=s.a.useState({latitude:Number(null===a||void 0===a?void 0:a.lat)||28.6139,longitude:Number(null===a||void 0===a?void 0:a.lng)||77.209,zoom:15}),O=Object(r.a)(h,2),p=O[0],f=O[1];Object(c.useEffect)((function(){l&&(v(),g())}),[l]);var v=function(){var e=Object(m.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w.a.get("https://api.mapbox.com/directions/v5/mapbox/driving/".concat(a.lng,",").concat(a.lat,";").concat(l.lng,",").concat(l.lat,"?geometries=geojson&access_token=").concat(Yc));case 4:(t=e.sent)&&x(t.data.routes[0].geometry.coordinates);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(!a)return Object(M.jsx)("h3",{style:{width:"100%",textAlign:"center",marginTop:"10px"},children:"No address found"});var g=function(){l&&f(Object(j.a)(Object(j.a)({},p),{},{longitude:l.lng,latitude:l.lat,zoom:15,transitionDuration:5e3,transitionInterpolator:new zc.b}))};return Object(M.jsxs)(zc.d,Object(j.a)(Object(j.a)({},p),{},{mapboxApiAccessToken:Yc,height:"350px",width:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:function(e){return f(e)},children:[u&&Object(M.jsx)(Mc,{points:u}),(null===a||void 0===a?void 0:a.lat)&&(null===a||void 0===a?void 0:a.lng)&&Object(M.jsx)(zc.c,{latitude:Number(null===a||void 0===a?void 0:a.lat),longitude:Number(null===a||void 0===a?void 0:a.lng),children:Object(M.jsx)(Q.c,{size:30,color:_})}),(null===l||void 0===l?void 0:l.lat)&&(null===l||void 0===l?void 0:l.lng)&&Object(M.jsx)(zc.c,{latitude:Number(null===l||void 0===l?void 0:l.lat),longitude:Number(null===l||void 0===l?void 0:l.lng),children:Object(M.jsx)(Q.a,{size:30,color:_})})]}))},Uc="bookings",Bc=function(e){var t=e.formdata,a=e.id;return L.post("bookings/".concat(a,"/assign-agent"),t,{headers:{"Content-Type":"application/json"}})},Qc=function(e){var t=e.formdata,a=e.id;return L.post("".concat(Uc,"/").concat(a,"/update-status"),t,{headers:{"Content-Type":"application/json"}})},Wc=function(){var e,t,a=Object(d.i)().id,s=Object(d.g)(),n=Object(c.useState)(!1),i=Object(r.a)(n,2),u=i[0],f=i[1],v=We({id:a,key:Uc}),y=v.data,w=v.isLoading,C=v.isFetching,S=Object(c.useState)(!1),F=Object(r.a)(S,2),k=F[0],P=F[1],H=function(){var e=Object(m.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,L.get("/bookings/"+t+"/download-invoice",{headers:{"Content-Type":"application/pdf"}});case 4:(a=e.sent)&&console.log({res:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),I(e.t0,s);case 11:return e.prev=11,P(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),D=Object(N.a)(Bc,{onSuccess:function(e){ze("Agent assigned successfully"),setTimeout((function(){Te.invalidateQueries(Uc),Te.invalidateQueries("".concat(Uc,"/").concat(a))}),500)}}),T=D.mutate,A=(D.isLoading,Object(N.a)(Qc,{onSuccess:function(e){ze("Order Status  updated successfully"),setTimeout((function(){Te.invalidateQueries(Uc),Te.invalidateQueries("".concat(Uc,"/").concat(a))}),500)}})),z=A.mutate,V=(A.isLoading,Object(c.useState)({agent_id:null===y||void 0===y?void 0:y.agent_id,status:null===y||void 0===y?void 0:y.status})),R=Object(r.a)(V,2),E=R[0],Y=R[1],q=function(e,t){Y((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))})),f(!1)},B=Object(g.a)(["users",,{role:"agent"}],{onError:function(e){I(e,s)}}),W=B.data,G=B.isLoading,$=function(e){e&&s.push("/users/create-edit",{id:e})};return w||C?Object(M.jsx)(Z,{}):y||w&&C?Object(M.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(M.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2 flex-column flex-md-row",children:[Object(M.jsxs)("div",{className:"d-flex align-md-items-center flex-column flex-md-row",children:[Object(M.jsxs)("div",{className:"d-flex align-items-center mb-1 mb-md-0",children:[Object(M.jsx)("p",{className:" mb-0",children:"Order"}),Object(M.jsxs)("p",{className:"lead mx-2 mb-0 font-weight-bold",children:["#",y.ref_id]})]}),Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsx)(J,{title:y.order_type,variant:"primary"}),Object(M.jsx)("span",{className:"mx-2 my-1 my-md-0"}),Object(M.jsx)(J,{title:y.status,variant:function(e){var t=e.toLowerCase();return t.includes("error")||t.includes("cancelled")?"danger":t.includes("pending")||t.includes("delay")||t.includes("hold")?"warning":"success"}(y.status)})]})]}),Object(M.jsxs)("div",{className:"mt-1 mt-md-0",children:[!w&&y.transaction&&y.transaction.length>0&&Object(M.jsx)(O.a,{size:"sm",variant:"success",onClick:function(){var e;return H(null===y||void 0===y||null===(e=y.transaction[0])||void 0===e?void 0:e.id)},disabled:k,children:k?Object(M.jsx)("p",{className:"text-white m-0",children:"Downloading..."}):Object(M.jsxs)("div",{className:" d-flex align-items-center text-white",children:[Object(M.jsx)(p.b,{size:18}),Object(M.jsx)("p",{className:"mb-0 ml-1",children:"Invoice"})]})}),Object(M.jsx)(O.a,{size:"sm",className:"ml-2",onClick:function(){s.push("/issues/create-edit",{id:null===y||void 0===y?void 0:y.user_id,order_id:a,ref_id:null===y||void 0===y?void 0:y.ref_id})},children:Object(M.jsxs)("div",{className:"d-flex text-white align-items-center",children:[Object(M.jsx)(Q.e,{size:18})," ",Object(M.jsx)("p",{className:"mb-0 ml-1",children:"Issue"})]})}),Object(M.jsx)(O.a,{className:"ml-2",onClick:function(){return s.goBack()},size:"sm",children:Object(M.jsxs)("div",{className:"text-white d-flex align-items-center",children:[Object(M.jsx)(p.a,{size:18})," ",Object(M.jsx)("p",{className:"ml-1 mb-0",children:"Back"})]})})]})]}),y.cancellation_reason&&Object(M.jsx)(l.a,{fluid:!0,children:Object(M.jsx)("p",{className:"text-danger",children:y.cancellation_reason})}),Object(M.jsxs)("div",{className:"dashboard-page w-100",children:[Object(M.jsxs)(l.a,{fluid:!0,className:"status-container mt-2",children:[Object(M.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return $(y.user_id)},children:"Update order status"})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(M.jsx)(x.a,{children:Object(M.jsxs)(h.a,{md:"auto",children:[Object(M.jsx)(K.a.Group,{children:Object(M.jsx)(K.a.Control,{as:"select",value:null===y||void 0===y?void 0:y.status,onChange:function(e){q("status",e.target.value),z({formdata:{status:e.target.value},id:a})},style:{width:"200px",fontSize:14},children:ge.map((function(e){if(""!==e.id)return Object(M.jsx)("option",{value:e.id,children:e.name})}))})}),Object(M.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted",children:"Do note: Status should be changed by the agent from the app, as it should be to avoid complection in the database. Please try to avoid changing from here if possible."})]})})})]})}),Object(M.jsx)("div",{className:"card p-2  view-padding right-div d-flex mb-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return $(y.user_id)},children:w||(null===y||void 0===y?void 0:y.agent_id)?"Assigned Agent":"Assign Agent"}),Object(M.jsx)("div",{className:"text-primary small",onClick:function(){return f(!u)},children:u&&(null===y||void 0===y?void 0:y.agent_id)?"Close":"Assign agent"})]}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[!w&&(!(null===y||void 0===y?void 0:y.agent_id)||u)&&Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(K.a.Group,{children:Object(M.jsxs)(K.a.Control,{as:"select",value:E.agent_id||"",onChange:function(e){q("agent_id",e.target.value),T({formdata:{agent_id:e.target.value},id:a})},style:{width:"200px",fontSize:14},children:[Object(M.jsx)("option",{value:"",children:"Select Agent"}),!G&&(null===W||void 0===W?void 0:W.data.map((function(e){return Object(M.jsx)("option",{value:e.id,children:e.name})})))]})})}),y.agent&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Name"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.agent.name})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Email"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.agent.email})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.agent.phone})})]})]})}),Object(M.jsx)("span",{className:"small text-primary font-weight-bold",onClick:function(){return $(y.agent_id)},style:{cursor:"pointer"},children:"View Profile"})]})]})]})}),Object(M.jsx)("div",{className:"card p-2 view-padding right-div d-flex",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return $(y.user_id)},children:"Customer"}),Object(M.jsx)("div",{className:"text-primary small",onClick:function(){return $(y.user_id)},children:"Edit Info"})]})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Name"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.user.name})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Email"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("a",{href:"mailto:".concat(y.user.email),children:Object(M.jsx)("p",{className:"view-subheading text-primary",children:y.user.email})})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.user.phone})})]})]})}),Object(M.jsx)("span",{className:"small text-primary font-weight-bold",onClick:function(){return $(y.user_id)},style:{cursor:"pointer"},children:"View Profile"})]}),Object(M.jsx)("hr",{className:"mb-3 mt-3"}),(null===y||void 0===y?void 0:y.address)?Object(M.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(M.jsx)("p",{className:"view-heading font-weight-bold",children:"Billing Address"}),Object(M.jsxs)("p",{className:"view-subheading",children:[y.address.address,", ",y.address.city,", ",y.address.pincode," "]})]}):Object(M.jsx)("p",{className:"view-subheading",children:"Billing Address not available"}),Object(M.jsx)("hr",{className:"mb-3 mt-2"}),(null===y||void 0===y?void 0:y.address)&&Object(M.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(M.jsx)("p",{className:"view-heading font-weight-bold",children:"Shipping Address"}),Object(M.jsxs)("p",{className:"view-subheading",children:[y.address.address,", ",y.address.city,", ",y.address.pincode," "]})]})]})})]}),Object(M.jsxs)(l.a,{fluid:!0,className:"charts-container",children:[Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsx)("div",{className:"d-flex flex-column",children:Object(M.jsx)("div",{style:{width:"100%",height:"350px",position:"relative"},children:Object(M.jsx)(qc,{order:y})})})}),(null===y||void 0===y||null===(e=y.tickets)||void 0===e?void 0:e.length)>0&&Object(M.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Order Issues"})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:null===y||void 0===y?void 0:y.tickets.map((function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(x.a,{children:Object(M.jsxs)(h.a,{md:"auto",children:[Object(M.jsxs)(l.a,{fluid:!0,className:" m-0 p-0 d-flex align-items-center justify-content-between w-100",children:[Object(M.jsx)("p",{className:"m-0 mr-2 w-100",children:Object(M.jsx)("b",{children:e.title})}),Object(M.jsx)(J,{title:e.status,variant:"active"===e.status?"danger":"success"})]}),Object(M.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted",children:e.description}),Object(M.jsx)("span",{className:"small text-primary font-weight-bold ml-auto",style:{cursor:"pointer"},onClick:function(){return s.push("/issues/".concat(e.id))},children:"View Issue"})]})}),Object(M.jsx)("hr",{className:"my-2"})]})}))})]})}),Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return $(y.user_id)},children:"Summary"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[y.vehicle&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading py-2",children:"Pick-up Vehicle"}),Object(M.jsx)("td",{className:"view-subheading py-2 text-right",children:y.vehicle.name})]})}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Scheduled At"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.scheduled_at?U()(y.scheduled_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Picked At"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.pickup_at?U()(y.pickup_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Closed At"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.closed_at?U()(y.closed_at).format("DD/MM/YY(hh:mm)"):"-"})})]})]})})})]})}),(null===y||void 0===y||null===(t=y.services)||void 0===t?void 0:t.length)?Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Services"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column",children:Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsx)("tbody",{children:y.services.map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading text-primary",style:{cursor:"pointer"},onClick:function(){return s.push("/services/create-edit",{id:e.id})},children:null===e||void 0===e?void 0:e.name}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",null===e||void 0===e?void 0:e.price]})})]})}))})})})})]})}):null,Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return $(y.user_id)},children:"Payment Summary"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"Payment Method"}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:y.payment_method})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"Total Cost"}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",y.total_cost]})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"Discount"}),Object(M.jsx)("td",{className:"text-success font-weight-bold text-right",children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",y.discount]})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"GST(18%)"}),Object(M.jsx)("td",{className:"text-success font-weight-bold text-right",children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",null===y||void 0===y?void 0:y.tax_amount]})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading pt-3",children:"Total Payable Amount"}),Object(M.jsx)("td",{className:"text-primary pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",y.payable_amount]})})]})]})})})]})}),y.plan&&Object(M.jsx)("div",{className:"card p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("h5",{children:"Plan"})}),Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"Name"}),Object(M.jsx)("td",{className:"view-subheading font-weight-bold text-right",children:y.plan.name})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading py-2",children:"Description"}),Object(M.jsx)("td",{className:"view-subheading font-weight-light text-capitalize",children:y.plan.description})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading pt-3",children:"Price"}),Object(M.jsxs)("td",{className:"view-subheading pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:["\u20b9",y.plan.price]})]})]})})})]})})]})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Kc="get-all-permission",Gc=function(e){return L.post("".concat(Kc,"/delete"),{id:e})},Jc={active:"",q:"",page:1,perPage:25},$c=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(Jc),b=Object(r.a)(u,2),m=b[0],x=b[1];console.log({filter:m});var h=Object(g.a)([Kc,,m],{onError:function(e){I(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,C=Object(g.a)(["roles-with-permission",,m],{onError:function(e){I(e,t)}}),S=C.data,F=C.isLoading,k=C.isFetching,P=(C.error,Object(N.a)(Gc,{onSuccess:function(){Te.invalidateQueries(Kc),ze("Permission deleted successfully")},onError:function(e){I(e,t)}})),L=P.mutate,H=P.isLoading,D=function(e,t){x((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},T=Object(c.useMemo)((function(){return[{Header:"Role",accessor:"name"},{Header:"Permissions",accessor:"permissions",Cell:function(e){var t=e.row.values.permissions.map((function(e){return e.name})).join(", ");return Object(M.jsx)("span",{children:t})}},{Header:"Actions",Cell:function(e){return Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsx)(O.a,{variant:"outline-primary",onClick:function(){var a;a=e.row.original.id,t.push("/assign-permission/create-edit",{id:a})},children:"Give"}),Object(M.jsx)(O.a,{className:"ml-2",variant:"outline-danger",onClick:function(){var a;a=e.row.original.id,t.push("/revoke-permission/create-edit",{id:a})},children:"Revoke"})]})}}]}),[]),A=Object(c.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}}]}),[]);return(f||v&&y)&&(S||F&&k)?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding mb-3",children:[Object(M.jsx)(te,{title:"Assign Permission"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:F?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:!w&&Object(M.jsx)(Pe,{data:null===S||void 0===S?void 0:S.role,columns:T,filter:m,onFilterChange:D,isDataLoading:k,isSelectable:!1})})})]}),Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Permissions",onClick:function(){t.push("/permissions/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!w&&Object(M.jsx)(Pe,{data:f,columns:A,setSelectedRows:i,filter:m,onFilterChange:D,isDataLoading:y}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:D,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})]}),n.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){L(n.map((function(e){return e.id})))},children:H?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Xc=function(e){var t=e.formdata;e.id;return L.post("give-permission",t,{headers:{"Content-Type":"application/json"}})},Zc=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:"get-roles"}),n=s.data,i=s.isLoading,r=Object(g.a)(["get-all-permission"]),l=r.data,o=(r.isLoading,Object(N.a)(Xc,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries("roles-with-permission")}),500),t.replace("/permissions"),ze("Permission assigned successfully")},onError:function(e){I(e,t)}})),u=o.mutate,b=o.isLoading,m=n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Assign Permission to Role"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:m?Object(j.a)(Object(j.a)({},m),{},{permission:null===m||void 0===m?void 0:m.permissions.map((function(e){return e.id}))}):{},onSubmit:function(e){u({formdata:e,id:a})},children:function(e){e.setFieldValue;var t=e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsx)("div",{className:"form-container ",children:Object(M.jsx)("p",{className:"text-capitalize font-weight-bold",children:null===m||void 0===m?void 0:m.name})}),Object(M.jsx)(x.a,{children:Object(M.jsxs)(h.a,{children:[Object(M.jsx)("p",{className:"text-muted",children:"Permissions"}),Object(M.jsx)(Ue.b,{name:"permission",render:function(e){return Object(M.jsx)("div",{children:null===l||void 0===l?void 0:l.map((function(a){var c;return Object(M.jsx)("div",{children:Object(M.jsxs)("label",{className:"d-flex align-items-center",children:[Object(M.jsx)("input",{name:"permission",type:"checkbox",value:a.id,checked:null===t||void 0===t||null===(c=t.permission)||void 0===c?void 0:c.includes(a.id),onChange:function(c){if(c.target.checked)e.push(a.id);else{var s,n=null===t||void 0===t||null===(s=t.permission)||void 0===s?void 0:s.indexOf(a.id);e.remove(n)}}}),Object(M.jsx)("span",{className:" ml-2 ",children:a.name})]},a.id)})}))})}})]})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},es="create-permission",ts=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(es,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):L.post("".concat(es),t,{headers:{"Content-Type":"application/json"}})},as=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:"get-permission"}),n=s.data,i=s.isLoading,r=Object(N.a)(ts,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries("get-all-permission")}),500),t.replace("/permissions"),a)return ze("Permission updated successfully");ze("Permission created successfully")},onError:function(e){I(e,t)}}),l=r.mutate,o=r.isLoading,j=n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:a?"Update Permission":"Add Permission"}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:j||{},onSubmit:function(e){l({formdata:e,id:a})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsx)("div",{className:"form-container ",children:Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},cs=function(e){var t=e.formdata,a=e.id;return L.post("revoke-permission/".concat(a),t,{headers:{"Content-Type":"application/json"}})},ss=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:"get-roles"}),n=s.data,i=s.isLoading,r=Object(g.a)(["get-all-permission"]),l=(r.data,r.isLoading,Object(N.a)(cs,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries("roles-with-permission")}),500),t.replace("/permissions"),ze("Permission revoked successfully")},onError:function(e){I(e,t)}})),o=l.mutate,u=l.isLoading,b=n;return i?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ke,{title:"Revoke Permission Role"}),Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:b?Object(j.a)({},b):{},onSubmit:function(e){console.log({values:e}),o({formdata:e,id:a})},children:function(e){e.setFieldValue;var t=e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsx)("div",{className:"form-container ",children:Object(M.jsx)("p",{className:"text-capitalize font-weight-bold",children:null===b||void 0===b?void 0:b.name})}),Object(M.jsx)(x.a,{children:Object(M.jsxs)(h.a,{children:[Object(M.jsx)("p",{className:"text-muted",children:"Permissions"}),Object(M.jsx)(Xe,{as:"select",label:"Select Permissoin to Revoke",name:"permission",selectData:t.permissions,selectTitleKey:"name",selectValueKey:"name"})]})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:u,className:"w-100",children:u?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},ns="plans",is=function(e){return L.post("".concat(ns,"/delete"),{id:e})},rs={q:"",page:null,perPage:25,active:"",is_popular:"",category_id:"",allowed_usage:""},ls=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],m=u[1];console.log(b.map((function(e){return e.id})));var f=Object(c.useState)(rs),v=Object(r.a)(f,2),y=v[0],w=v[1];console.log({filter:y});var C=Object(g.a)([ns,,y],{onError:function(e){I(e,n)}}),S=C.data,F=C.isLoading,k=C.isFetching,P=C.error,L=Object(g.a)(["categories"]),H=L.data,D=L.isLoading,T=Object(N.a)(is,{onSuccess:function(){Te.invalidateQueries(ns),ze("Plans deleted successfully")},onError:function(e){I(e,n)}}),A=T.mutate,z=T.isLoading,V=function(e,t){w((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},R=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(M.jsx)(gt,{file:e.row.values.image,folder:"plans"})}},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Category",accessor:"category.name"},{Header:"Allowed Usage",accessor:"allowed_usage"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Is Popular",accessor:"is_popular",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_popular})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,n.push("/plans/create-edit",{id:t})}})}}]}),[]);return S||F&&k?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Plans",onClick:function(){n.push("/plans/create-edit")},totalRecords:null===S||void 0===S?void 0:S.total}),!F&&Object(M.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:V,value:"",currentValue:y.active,dataLength:null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(M.jsx)(Y,{onFilterChange:V,value:"1",currentValue:y.active,dataLength:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:V,value:"0",currentValue:y.active,dataLength:null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:F?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!P&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:y.category_id,data:!D&&H.data,label:"Categories",idx:"category_id",onFilterChange:V})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:y.allowed_usage,data:Oe,label:"Allowed Usage",idx:"allowed_usage",width:"80px",onFilterChange:V})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:y.is_popular,data:me,label:"Is Popular?",idx:"is_popular",onFilterChange:V,defaultSelectTitle:"Show All"})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(rs,y)?"light":"primary",style:{fontSize:14},onClick:function(){return w(rs)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===S||void 0===S?void 0:S.data,columns:R,setSelectedRows:m,filter:y,onFilterChange:V,isDataLoading:k,searchPlaceHolder:"Search using name"})]}),!P&&(null===S||void 0===S||null===(s=S.data)||void 0===s?void 0:s.length)>0?Object(M.jsx)(ce,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:V,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})]}),b.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){A(b.map((function(e){return e.id})))},children:z?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ds=function(e){var t=e.imageId;return"services"===e.type?L.post("services/delete-image",{id:t}):L.post("plans/delete-image",{id:t})},os=function(e){var t=e.images,a=e.folder,c=Object(d.g)(),s=Object(N.a)(ds,{onSuccess:function(){"services"===a?Te.invalidateQueries("services"):Te.invalidateQueries("plans"),ze("Image deleted successfully")},onError:function(e){I(e,c)}}),n=s.mutate,i=s.isLoading;s.error,s.status;return t||(null===t||void 0===t?void 0:t.length)?Object(M.jsxs)(M.Fragment,{children:[i&&Object(M.jsx)("p",{className:"text-muted text-center",children:"Deleting..."}),Object(M.jsx)(x.a,{className:"mt-3 ",children:t.map((function(e){return Object(M.jsx)(h.a,{sm:6,className:"mt-2",children:Object(M.jsxs)("div",{className:"card shadow p-relative",style:{height:"200px",position:"relative"},children:[Object(M.jsx)("div",{style:{top:0,right:0,position:"absolute",background:"red"},className:"p-1",onClick:function(){n({imageId:e.id,type:a})},children:Object(M.jsx)("button",{type:"button",className:"p-0",children:Object(M.jsx)(wa.c,{color:"#fff",size:14})})}),Object(M.jsx)("img",{src:"".concat(F).concat(a,"/").concat(e.image),alt:e.image})]})})}))})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(M.jsx)(oe.b,{color:"#000",size:60}),Object(M.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No Images found"})]})})},js=["image","services","images"],us="plans",bs=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(us,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(us),t,{headers:{"Content-Type":"multipart/form-data"}})},ms=function(e){var t=e.formdata;return L.post("".concat(us,"/add-images"),t,{headers:{"Content-Type":"multipart/form-data"}})},xs=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=Object(g.a)(["categories"]),n=s.data,i=s.isLoading,r=Object(g.a)(["services"]),l=r.data,o=r.isLoading,u=We({id:a,key:us}),b=u.data,m=u.isLoading,p=Object(N.a)(bs,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(us)}),500),e.replace("/plans"),a)return ze("Plan updated successfully");ze("Plan created successfully")},onError:function(t){I(t,e)}}),f=p.mutate,v=p.isLoading,y=(p.error,p.status,Object(N.a)(ms,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries(us)}),500),ze("Plan images added successfully")},onError:function(t){I(t,e)}})),w=y.mutate,C=y.isLoading,_=(y.error,y.status,b&&b);return m?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Plans"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:_?Object(j.a)(Object(j.a)({},_),{},{services:null===_||void 0===_?void 0:_.allowed_services.map((function(e){return e.id}))}):{is_active:1},onSubmit:function(e){var t=e.image,c=e.services,s=(e.images,Object(se.a)(e,js)),n=new FormData;for(var i in s)n.append(i,s[i]);for(var r in c)n.append("services[]",c[r]);t&&"string"!==typeof t&&n.append("image",t),f({formdata:n,id:a})},children:function(e){var t=e.setFieldValue,a=e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{type:"number",name:"price",placeholder:"Price",label:"Price",required:!0}),Object(M.jsx)(Xe,{type:"number",name:"allowed_usage",placeholder:"Allowed Usage",label:"Allowed Usage",required:!0}),Object(M.jsx)(Xe,{name:"image",placeholder:"image",label:"Choose Plan Feature Image",isFile:!0,setFieldValue:t}),Object(M.jsx)(Xe,{name:"category_id",placeholder:"Category",label:"Choose Category",as:"select",selectData:!i&&n.data}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_popular",label:"Is Popular?",placeholder:"Choose is popular"})]}),Object(M.jsxs)(x.a,{children:[Object(M.jsxs)(h.a,{xl:12,sm:12,children:[Object(M.jsx)("p",{className:"text-black font-weight-bold small",children:"Services"}),Object(M.jsx)(Ue.b,{name:"services",render:function(e){var t;return Object(M.jsx)("div",{className:"d-flex flex-wrap",children:!o&&(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.map((function(t){var c;return Object(M.jsx)("div",{className:"mr-2",children:Object(M.jsxs)("label",{className:"d-flex align-items-center",children:[Object(M.jsx)("input",{name:"services",type:"checkbox",value:t.id,checked:null===a||void 0===a||null===(c=a.services)||void 0===c?void 0:c.includes(t.id),onChange:function(c){if(c.target.checked)e.push(t.id);else{var s,n=null===a||void 0===a||null===(s=a.services)||void 0===s?void 0:s.indexOf(t.id);e.remove(n)}}}),Object(M.jsx)("span",{className:" ml-2 ",children:t.name})]},t.id)})})))})}})]}),Object(M.jsx)(h.a,{xl:12,sm:12,children:Object(M.jsx)(fa,{name:"description",label:"Description",setFieldValue:t})})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:v,className:"w-100",children:v?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})}),a&&Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3 ",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Plans Images"})})}),Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:Object(M.jsx)(Ue.d,{initialValues:{images:[]},onSubmit:function(e){var t=e.images,c=new FormData;for(var s in t)c.append("images[]",t[s]);c.append("id",a),w({formdata:c})},children:function(e){var t=e.setFieldValue;e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsx)("div",{className:"w-100 d-flex align-items-start ",children:Object(M.jsx)(Xe,{name:"images",label:"Choose Plans Images",isFile:!0,multipleImages:!0,setFieldValue:t})}),Object(M.jsx)(O.a,{type:"submit",disabled:C,children:C?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Add Imges"})]})}})})})}),Object(M.jsx)(os,{folder:"plans",images:!v&&(null===b||void 0===b?void 0:b.images)})]})]})})},hs="get-all-roles",Os=function(e){return L.get("remove-role/".concat(e))},ps={q:"",page:1,perPage:25},fs=function(){var e=Object(d.g)(),t=Object(c.useState)([]),a=Object(r.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(ps),u=Object(r.a)(i,2),b=u[0],m=u[1],x=Object(g.a)([hs,,b],{onError:function(t){I(t,e)}}),h=x.data,f=x.isLoading,v=x.isFetching,y=x.error,w=Object(N.a)(Os,{onSuccess:function(){Te.invalidateQueries(hs),ze("Role removed successfully")},onError:function(t){I(t,e)}}),C=w.mutate,S=w.isLoading,F=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}}]}),[]);return h||f&&v?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Roles",onClick:function(){e.push("/roles/create-edit")},totalRecords:null===h||void 0===h?void 0:h.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:f?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:!y&&Object(M.jsx)(Pe,{data:h,columns:F,setSelectedRows:n,filter:b,onFilterChange:function(e,t){m((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},isDataLoading:v})})})]}),s.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",s.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){C(s.map((function(e){return e.id}))[0])},children:S?"Loading...":"Remove"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},vs=["logo"],gs="create-roles",Ns=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(gs,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(gs),t,{headers:{"Content-Type":"multipart/form-data"}})},ys=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:"get-roles"}),n=s.data,i=s.isLoading,r=Object(N.a)(Ns,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries("get-all-roles/1")}),500),t.replace("/roles"),a)return ze("Role updated successfully");ze("Role created successfully")},onError:function(e){I(e,t)}}),l=r.mutate,o=r.isLoading,j=a?"Update Role":"Add Role",u=n;return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:j}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:u||{},onSubmit:function(e){var t=e.logo,c=Object(se.a)(e,vs),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("logo",t),l({formdata:s,id:a})},children:function(e){e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsx)("div",{className:"form-container ",children:Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},ws="services",Cs=function(e){return L.post("".concat(ws,"/delete"),{id:e})},_s={q:"",page:null,perPage:25},Ss=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(_s),b=Object(r.a)(u,2),m=b[0],x=b[1];console.log({filter:m});var h=Object(g.a)([ws,,m],{onError:function(e){I(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,C=Object(N.a)(Cs,{onSuccess:function(){Te.invalidateQueries(ws),ze("Services deleted successfully")},onError:function(e){I(e,t)}}),S=C.mutate,F=C.isLoading,k=function(e,t){x((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(M.jsx)(gt,{file:e.row.values.image,folder:"services"})}},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Category",accessor:"category.name"},{Header:"Url",accessor:"url"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var a;a=e.row.values.id,t.push("/services/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Services",onClick:function(){t.push("/services/create-edit")},totalRecords:50}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!w&&Object(M.jsx)(Pe,{data:null===f||void 0===f?void 0:f.data,columns:P,setSelectedRows:i,filter:m,onFilterChange:k,isDataLoading:y}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:k,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})]}),n.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){S(n.map((function(e){return e.id})))},children:F?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Fs=["image","images"],ks="services",Ps=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(ks,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(ks),t,{headers:{"Content-Type":"multipart/form-data"}})},Ls=function(e){var t=e.formdata;return L.post("".concat(ks,"/add-images"),t,{headers:{"Content-Type":"multipart/form-data"}})},Hs=function(){var e=Object(d.h)().state,t=e?e.id:null,a=Object(d.g)();Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:t,key:ks}),n=s.data,i=s.isLoading,r=Object(g.a)("categories"),l=r.data,o=r.isLoading,j=Object(N.a)(Ps,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(ks)}),500),a.replace("/services"),t)return ze("Service updated successfully");ze("Service created successfully")},onError:function(e){I(e,a)}}),u=j.mutate,b=j.isLoading,m=(j.error,j.status,Object(N.a)(Ls,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries(ks)}),500),ze("Services images added successfully")},onError:function(e){I(e,a)}})),p=m.mutate,f=m.isLoading,v=(m.error,m.status,n&&n);return i?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:"Services"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:v||{},onSubmit:function(e){var a=new FormData,c=(e.image,e.images),s=Object(se.a)(e,Fs);for(var n in s)a.append(n,s[n]);for(var i in c)a.append("images[]",c[i]);e.image&&a.append("image",e.image),u({formdata:a,id:t})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(M.jsx)(Xe,{name:"price",placeholder:"Price",label:"Price",type:"number"}),Object(M.jsx)(Xe,{name:"category_id",placeholder:"Category",label:"Choose Category",as:"select",selectData:!o&&l.data}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(M.jsx)(Xe,{name:"image",placeholder:"image",label:"Choose Service  Featured Image",isFile:!0,setFieldValue:t})]}),Object(M.jsx)(fa,{name:"details",label:"Details",setFieldValue:t}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})}),t&&Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3 ",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Service Images"})})}),Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:Object(M.jsx)(Ue.d,{initialValues:{images:[]},onSubmit:function(e){var a=e.images,c=new FormData;for(var s in a)c.append("images[]",a[s]);c.append("id",t),p({formdata:c})},children:function(e){var t=e.setFieldValue;e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsx)("div",{className:"w-100 d-flex align-items-start ",children:Object(M.jsx)(Xe,{name:"images",label:"Choose Plans Images",isFile:!0,multipleImages:!0,setFieldValue:t})}),Object(M.jsx)(O.a,{type:"submit",disabled:f,children:f?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Add Imges"})]})}})})})}),Object(M.jsx)(os,{folder:"services",images:!b&&(null===n||void 0===n?void 0:n.images)})]})]})})},Ds="staticPages",Ts=function(e){var t=e.formdata,a=e.id;return L.post("".concat(Ds,"/").concat(a),t)},As=function(e){return L.post("".concat(Ds,"/delete"),{id:e})},zs=function(){var e=Object(d.g)(),t=Object(g.a)([Ds]),a=t.data,s=t.isLoading,n=t.isFetching,i=Object(N.a)(Ts,{onSuccess:function(){ze("Page  saved successfully"),setTimeout((function(){return Te.invalidateQueries(Ds)}),500)},onError:function(t){I(t,e)}}),o=i.mutate,u=i.isLoading,b=Object(N.a)(As,{onSuccess:function(){ze("Page  deleted successfully"),setTimeout((function(){return Te.invalidateQueries(Ds)}),500)},onError:function(t){I(t,e)}}),m=b.mutate,x=b.isLoading,h=Object(c.useState)([]),f=Object(r.a)(h,2),v=f[0],y=f[1],w=Object(c.useState)(v[0]),C=Object(r.a)(w,2),S=C[0],F=C[1];Object(c.useEffect)((function(){s||n||a&&y(null===a||void 0===a?void 0:a.data.map((function(e){return e.title})))}),[a,s,n]),Object(c.useEffect)((function(){v.length>0&&F(v[0])}),[v.length]);return a||s&&n?s?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Static Pages",onClick:function(){e.push("/static-pages/create-edit")}}),Object(M.jsx)("p",{className:"small text-muted",children:'Press "Ctrl+S" inside editor to save content'}),Object(M.jsx)(l.a,{fluid:!0,className:"px-0 my-3",children:null===v||void 0===v?void 0:v.map((function(e){return Object(M.jsx)(O.a,{size:"sm",variant:S===e?"primary":"outline-primary",className:"mr-2",onClick:function(){return F(e)},children:e})}))}),null===a||void 0===a?void 0:a.data.map((function(e){return Object(M.jsx)(l.a,{fluid:!0,className:"p-0 mb-3",style:{display:S===e.title?"block":"none"},children:Object(M.jsxs)("div",{className:"",children:[Object(M.jsxs)("div",{className:"card-title d-flex align-items-center justify-content-between",children:[Object(M.jsx)("p",{className:"text-black px-2 lead font-weight-bold",children:e.title}),Object(M.jsx)("div",{className:"d-flex align-items-center",children:Object(M.jsx)(O.a,{size:"sm",className:"mr-2",variant:"danger",onClick:function(){return t=e.id,console.log("delete page",t),void m(t);var t},disabled:x,children:x?"Loading...":"Delete page"})})]}),Object(M.jsx)("p",{className:"text-muted px-2",children:e.description}),Object(M.jsx)("div",{className:"mx-auto",children:n||u?Object(M.jsx)(Z,{}):Object(M.jsx)("div",{className:"bg-light rounded",children:Object(M.jsx)(Oa.a,{value:Oa.a.createEditorState(e.content),onSave:function(t){return function(e,t){var a=e.toHTML(),c=Object(j.a)(Object(j.a)({},t),{},{content:a});o({formdata:c,id:t.id})}(t,e)},language:"en"})})})]})})}))]})}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Vs="staticPages",Rs=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(Vs,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):L.post("".concat(Vs),t,{headers:{"Content-Type":"applicatioin/json"}})},Es=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=We({id:a,key:Vs}),n=s.data,i=s.isLoading,r=Object(N.a)(Rs,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(Vs)}),500),e.replace("/static-pages"),a)return ze("Page updated successfully");ze("Page created successfully")},onError:function(t){I(t,e)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return console.log("apiData",j),i?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Ke,{title:"Static Page"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:j||{},onSubmit:function(e){l({formdata:e,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container  py-2 ",children:[Object(M.jsx)(Xe,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(M.jsx)(Xe,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(M.jsx)(Xe,{name:"description",placeholder:"Description",label:"Description",as:"textarea",required:!0})]}),Object(M.jsx)(x.a,{children:Object(M.jsx)(h.a,{md:12,xl:12,children:Object(M.jsx)(fa,{name:"content",label:"Content",setFieldValue:t})})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-center",children:Object(M.jsx)(h.a,{md:"6",children:Object(M.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},Is={q:"",page:null,perPage:25,plan_id:"",status:"active",allowed_usage:"",created_at:"",user_id:"",last_used_at:""},Ms=function(){var e,t,a,s=Object(d.g)(),n=Object(c.useState)([]),i=Object(r.a)(n,2),u=i[0],b=i[1];console.log(u.map((function(e){return e.id})));var m=Object(c.useState)(Is),f=Object(r.a)(m,2),v=f[0],N=f[1],y=Object(g.a)(["user-subscriptions",,v],{onError:function(e){I(e,s)}}),w=y.data,C=y.isLoading,S=y.isFetching,F=y.error,k=Object(g.a)(["plans"]),P=k.data,L=k.isLoading,H=Object(g.a)(["users",,{}]),D=H.data,T=H.isLoading,A=function(e){var t=e.status;return Object(M.jsx)(J,{title:t,variant:"active"===t?"success":"danger"})},z=function(e,t){N((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},V=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Razorpay Id",accessor:"razerpay_order_id"},{Header:"User Name",accessor:"user.name",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.user_id)&&s.push("/users/create-edit",{id:t})},children:e.row.values["user.name"]})}},{Header:"Plan ID",accessor:"plan.name",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.plan_id)&&s.push("/plans/create-edit",{id:t})},children:e.row.values["plan.name"]})}},{Header:"Allowed Usage",accessor:"allowed_usage"},{Header:"Status",accessor:"status",Cell:function(e){return Object(M.jsx)(A,{status:e.row.values.status})}},{Header:"Transaction Id",accessor:"transaction_id"},{Header:"No. Times Used",accessor:"used"},{Header:"Last Used",accessor:"last_used_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.last_used_at})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)("div",{className:"d-flex",children:Object(M.jsx)(O.a,{onClick:function(){return s.push("/subscriptions/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return w||C&&S?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Subscriptions",totalRecords:null===w||void 0===w?void 0:w.total}),(!C||!S)&&Object(M.jsxs)("div",{className:"filter mb-2",children:[Object(M.jsx)(Y,{onFilterChange:z,value:"active",currentValue:v.status,dataLength:null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.length,idx:"status",title:"Active"}),Object(M.jsx)(Y,{onFilterChange:z,value:"expired",currentValue:v.status,dataLength:null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length,idx:"status",title:"Expired",isLast:!0})]}),Object(M.jsx)("hr",{}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:C?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-2 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:v.user_id,data:!T&&D.data,label:"User",idx:"user_id",onFilterChange:z})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:v.plan_id,data:!L&&P.data,label:"Plan",idx:"plan_id",onFilterChange:z})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:v.allowed_usage,data:Oe,label:"Allowed Usage",idx:"allowed_usage",onFilterChange:z})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsxs)(K.a.Group,{children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:"Purchased on"}),Object(M.jsx)(K.a.Control,{type:"date",value:v.created_at,onChange:function(e){var t=U()(e.target.value).format("YYYY-MM-DD");z("created_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsxs)(K.a.Group,{children:[Object(M.jsx)(K.a.Label,{className:"text-muted",children:"Last used at"}),Object(M.jsx)(K.a.Control,{type:"date",value:v.last_used_at,onChange:function(e){var t=U()(e.target.value).format("YYYY-MM-DD");z("last_used_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-md-content-center",children:Object(M.jsx)(O.a,{onClick:function(){return N(Is)},variant:Le(Is,v)?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),!F&&Object(M.jsx)(Pe,{data:null===w||void 0===w?void 0:w.data,columns:V,setSelectedRows:b,filter:v,onFilterChange:z,isDataLoading:S,isSelectable:!1,searchPlaceHolder:"Search using rzr order id, allowed usage, transaction id"}),!F&&(null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.length)>0?Object(M.jsx)(ce,{currentPage:null===w||void 0===w?void 0:w.current_page,lastPage:null===w||void 0===w?void 0:w.last_page,setPage:z,hasNextPage:!!(null===w||void 0===w?void 0:w.next_page_url),hasPrevPage:!!(null===w||void 0===w?void 0:w.prev_page_url)}):null," "]})})]}),u.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",u.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",children:"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ys=function(){var e,t,a=Object(d.i)().id,c=Object(d.g)(),s=We({id:a,key:"user-subscriptions"}),n=s.data,i=s.isLoading,r=s.isFetching,o=function(e){e&&c.push("/users/create-edit",{id:e})};return i||r?Object(M.jsx)(Z,{}):Object(M.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(M.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(M.jsxs)("div",{className:"d-flex align-items-center",children:[Object(M.jsxs)("div",{className:"d-flex align-items-center mr-2",children:[Object(M.jsx)("p",{className:"mb-0",children:"Subscription"}),Object(M.jsxs)("p",{className:"mb-0 lead font-weight-bold",children:["#",null===n||void 0===n?void 0:n.id]})]}),Object(M.jsx)(J,{title:null===n||void 0===n?void 0:n.status,variant:(t=null===n||void 0===n?void 0:n.status,"active"===t.toLowerCase()?"success":"danger")})]}),Object(M.jsx)("div",{children:Object(M.jsx)(O.a,{className:"ml-2",size:"sm",onClick:function(){return c.goBack()},children:Object(M.jsxs)("div",{className:"text-white d-flex align-items-center",children:[Object(M.jsx)(p.a,{size:18})," ",Object(M.jsx)("p",{className:"mb-0 mr-1",children:"Back"})]})})})]}),Object(M.jsxs)("div",{className:"dashboard-page w-100",children:[Object(M.jsx)(l.a,{fluid:!0,className:"status-container mt-2",children:Object(M.jsx)("div",{className:"card p-2 view-padding right-div d-flex",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return o(n.user_id)},children:"Customer"}),Object(M.jsx)("div",{className:"text-primary small",onClick:function(){return o(n.user_id)},children:"Edit Info"})]})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted",children:Object(M.jsx)("p",{className:"view-heading",children:"Name"})}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.user.name})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Email"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("a",{href:"mailto:".concat(n.user.email),children:Object(M.jsx)("p",{className:"view-subheading text-primary",children:n.user.email})})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.user.phone})})]})]})}),Object(M.jsx)("span",{className:"small text-primary font-weight-bold",onClick:function(){return o(n.user_id)},style:{cursor:"pointer"},children:"View Profile"})]})]})})}),Object(M.jsxs)(l.a,{fluid:!0,className:"charts-container",children:[Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return o(n.user_id)},children:"Basic Information"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Last User At"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.last_used_at?U()(n.last_used_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Valid Till"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.last_used_at?U()(null===n||void 0===n?void 0:n.valid_till).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Created At"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.last_used_at?U()(null===n||void 0===n?void 0:n.created_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Transaction Id"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:null===n||void 0===n?void 0:n.transaction_id})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Used"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:null===n||void 0===n?void 0:n.used})})]})]})})})]})}),(null===n||void 0===n||null===(e=n.services)||void 0===e?void 0:e.length)?Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Services"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column",children:Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsx)("tbody",{children:n.services.map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:e.name}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",e.cost]})})]})}))})})})})]})}):null,n.plan&&Object(M.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsx)("div",{className:"text-primary pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return function(e){e&&c.push("/plans/create-edit",{id:e})}(n.plan_id)},children:"Plan"})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Name"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.plan.name})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Price"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsxs)("p",{className:"view-subheading",children:["\u20b9",n.plan.price]})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Allowed Usage"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:n.plan.allowed_usage})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Is Popular?"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:Object(M.jsx)($,{value:n.plan.is_active})})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"text-muted ",children:Object(M.jsx)("p",{className:"view-heading",children:"Is Active?"})}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:Object(M.jsx)($,{value:n.plan.is_popular})})})]})]})})})]})})]})]})]})},qs="testimonial",Us=function(e){return L.post("".concat(qs,"/delete"),{id:e})},Bs={q:"",page:1,perPage:25},Qs=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(Bs),b=Object(r.a)(u,2),m=b[0],x=b[1],h=Object(g.a)([qs,,m],{onError:function(e){I(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,C=Object(N.a)(Us,{onSuccess:function(){Te.invalidateQueries(qs),ze("Testimonials deleted successfully")},onError:function(e){I(e,t)}}),S=C.mutate,F=C.isLoading,k=function(e,t){x((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Picture",accessor:"picture",Cell:function(e){return Object(M.jsx)(gt,{file:e.row.original.user.profile_pic,folder:"profile_pic"})}},{Header:"Name",accessor:"name"},{Header:"Link",accessor:"link"},{Header:"User",accessor:"user.name",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var a;(a=e.row.original.user_id)&&t.push("/users/create-edit",{id:a})},children:e.row.values["user.name"]||"NA"})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var a;a=e.row.values.id,t.push("/testimonials/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Testimonials",onClick:function(){t.push("/testimonials/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!w&&Object(M.jsx)(Pe,{data:null===f||void 0===f?void 0:f.data,columns:P,setSelectedRows:i,filter:m,onFilterChange:k,isDataLoading:y,searchPlaceHolder:"Search using name, link"}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:k,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})]}),n.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){S(n.map((function(e){return e.id})))},children:F?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ws=["picture"],Ks="testimonial",Gs=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(Ks,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(Ks),t,{headers:{"Content-Type":"multipart/form-data"}})},Js=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var s=Object(g.a)(["users",,{}]),n=s.data,i=(s.error,s.isLoading),r=(s.isFetching,We({id:a,key:Ks})),l=r.data,o=r.isLoading,j=Object(N.a)(Gs,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(Ks)}),500),a&&setTimeout((function(){return Te.invalidateQueries("".concat(Ks,"/").concat(a))}),500),t.replace("/testimonials"),a)return ze("Testimonial updated successfully");ze("Testimonial created successfully")},onError:function(e){I(e,t)}}),u=j.mutate,b=j.isLoading,m=a?"Update Testimonial":"Add Testimonial",p=l;return o?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:m}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:p||{},onSubmit:function(e){var t=e.picture,c=Object(se.a)(e,Ws),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("picture",t),console.log({formdata:s}),u({formdata:s,id:a})},children:function(e){var t=e.setFieldValue;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name"}),Object(M.jsx)(Xe,{name:"picture",placeholder:"picture",label:"Picture",isFile:!0,setFieldValue:t}),Object(M.jsx)(Xe,{name:"link",placeholder:"Link",label:"Link"}),Object(M.jsx)(Xe,{name:"user_id",placeholder:"User",label:"Choose User",as:"select",selectData:!i&&n.data,altTitleKey:"id"})]}),Object(M.jsx)(x.a,{children:Object(M.jsx)(h.a,{md:12,xl:12,children:Object(M.jsx)(fa,{name:"description",label:"Description",setFieldValue:t})})}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})},$s=a.p+"static/media/profile.aba28314.svg",Xs=function(){return L.post("/auth/logout")},Zs=function(e){var t=e.isNavOpen,a=e.setIsNavOpen,s=Object(c.useContext)(ee),n=Object(d.g)(),i=A((function(e){return e.removeToken})),r=Za((function(e){return e.removeUser})),o=Za((function(e){return e.user})),j=Object(N.a)(Xs,{onSuccess:function(){r(),i(),n.push("/login")},onError:function(){r(),i(),n.push("/login")}}),u=j.mutate,b=j.isLoading;return Object(M.jsxs)(l.a,{fluid:!0,className:"top-bar d-flex align-items-center justify-content-between",style:{width:t?"100%":"98vw"},children:[t?null:Object(M.jsx)("div",{className:"menu-hamburger",style:{cursor:"pointer"},children:Object(M.jsx)(jc.a,{size:28,onClick:function(){a&&a(!0)}})}),s&&!t&&Object(M.jsx)(mc,{}),!s&&Object(M.jsx)(mc,{}),Object(M.jsxs)("div",{className:s?"d-flex align-items-center ml-auto":"d-flex align-items-center",children:[s&&Object(M.jsxs)(K.a.Group,{className:"form-group store-select ",children:[Object(M.jsx)(K.a.Label,{className:"text-muted font-weight-bold",children:"Select Store"}),Object(M.jsx)(K.a.Control,{as:"select",style:{width:150,fontSize:14},disabled:!0,children:Object(M.jsx)("option",{value:"carsafai",children:"Car Safai"})})]}),Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-center ml-4",children:[Object(M.jsxs)(ie.a,{className:"ml-4",children:[Object(M.jsx)(ie.a.Toggle,{id:"dropdown-basic",className:"filter-button bg-transparent border-0",style:{color:"#000"},children:b?"Loading":Object(M.jsx)("img",{src:$s,alt:"profile",className:"profile"})}),Object(M.jsxs)(ie.a.Menu,{children:[Object(M.jsx)(ie.a.Item,{href:"/profile",children:"Profile"}),Object(M.jsx)(ie.a.Item,{onClick:function(){return u()},children:b?"Loading":"Log out"})]})]}),o&&Object(M.jsx)("p",{className:"text-muted small mb-0",children:null===o||void 0===o?void 0:o.name})]})]})]})},en={status:"",user_id:"",payment_method:""},tn=Object(D.combine)({filter:en},(function(e){return{onFilterChange:function(t,a){return e((function(e){return Object(j.a)(Object(j.a)({},e),{},{filter:Object(j.a)(Object(j.a)({},e.filter),{},Object(o.a)({},t,a))})}))},resetFilter:function(){return e((function(e){return{filter:en}}))}}}));tn=Object(D.persist)(tn,{name:"carsafai_admin_transaction_filter"});var an=Object(H.a)(tn),cn={q:"",page:null,perPage:25},sn=function(){var e,t,a,s=Object(d.g)(),n=Object(c.useState)([]),i=Object(r.a)(n,2),u=i[0],b=i[1],m=Object(c.useState)(1),f=Object(r.a)(m,2),v=(f[0],f[1]),N=Object(c.useState)(cn),y=Object(r.a)(N,2),w=y[0],C=y[1],S=an((function(e){return e.filter})),F=an((function(e){return e.onFilterChange})),k=an((function(e){return e.resetFilter})),P=Object(g.a)(["transactions",,Object(j.a)(Object(j.a)({},w),S)],{onError:function(e){E(e.response.data.message)}}),L=P.data,H=P.isLoading,D=P.isFetching,T=P.error,A=Object(g.a)(["users",1,{}],{onError:function(e){E(e.response.data.message)}}),z=A.data,V=A.isLoading,R=function(e){var t=e.status;return Object(M.jsx)(J,{title:t,variant:"success"===t?"success":"danger"})},I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id"},{Header:"User",accessor:"user.name",Cell:function(e){return Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.user_id)&&s.push("/users/create-edit",{id:t})},children:e.row.values["user.name"]})}},{Header:"Order",accessor:"order.ref_id",Cell:function(e){return console.log({data:e}),Object(M.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){return t=e.row.original.order_id,console.log({id:t}),void(t&&s.push("/orders/".concat(t)));var t},children:e.row.values["order.ref_id"]})}},{Header:"Paid Amount",accessor:"paid_amount"},{Header:"Payment Method",accessor:"payment_method"},{Header:"Status",accessor:"status",Cell:function(e){return Object(M.jsx)(R,{status:e.row.values.status})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.updated_at})}}]}),[]);return L||H&&D?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Transactions",totalRecords:null===L||void 0===L?void 0:L.total}),!H&&Object(M.jsx)("div",{children:Object(M.jsx)("div",{children:Object(M.jsxs)("div",{className:"filter",children:[Object(M.jsx)(Y,{onFilterChange:F,value:"",currentValue:S.status,dataLength:null===L||void 0===L||null===(e=L.data)||void 0===e?void 0:e.length,idx:"status",title:"All"}),Object(M.jsx)(Y,{onFilterChange:F,value:"success",currentValue:S.status,dataLength:null===L||void 0===L||null===(t=L.data)||void 0===t?void 0:t.length,idx:"status",title:"Success"}),Object(M.jsx)(Y,{onFilterChange:F,value:"failed",currentValue:S.status,dataLength:null===L||void 0===L?void 0:L.data.length,idx:"status",title:"Failed",isLast:!0})]})})}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0 ",children:H?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!T&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-2 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:S.user_id,data:!V&&z.data,label:"Customers",idx:"user_id",onFilterChange:F})}),Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:S.payment_method,data:pe,label:"Payment Method",idx:"payment_method",onFilterChange:F})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end justify-md-content",children:Object(M.jsx)(O.a,{onClick:function(){return k()},variant:Le(Object(j.a)(Object(j.a)({},cn),en),Object(j.a)(Object(j.a)({},w),S))?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===L||void 0===L?void 0:L.data,columns:I,setSelectedRows:b,filter:S,onFilterChange:function(e,t){C((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},isDataLoading:D,isSelectable:!1,searchPlaceHolder:"Search using ref id"})]}),!T&&(null===L||void 0===L||null===(a=L.data)||void 0===a?void 0:a.length)>0?Object(M.jsx)(ce,{currentPage:null===L||void 0===L?void 0:L.current_page,lastPage:null===L||void 0===L?void 0:L.last_page,setPage:v,hasNextPage:!!(null===L||void 0===L?void 0:L.next_page_url),hasPrevPage:!!(null===L||void 0===L?void 0:L.prev_page_url)}):null," "]})})]}),u.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",u.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",children:"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},nn="users",rn=function(e){return L.post("".concat(nn,"/delete"),{id:e})},ln={role:"customer",q:"",page:null,perPage:25,disabled:""},dn=function(){var e,t=Object(d.g)(),a=Object(c.useState)(!1),s=Object(r.a)(a,2),n=s[0],i=s[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),m=(b[0],b[1],Object(c.useState)([])),f=Object(r.a)(m,2),v=f[0],y=f[1],w=Object(c.useState)(ln),C=Object(r.a)(w,2),S=C[0],F=C[1];console.log(v.map((function(e){return e.id})));var k=Object(c.useState)(1),P=Object(r.a)(k,2),L=(P[0],P[1],Object(c.useState)("")),H=Object(r.a)(L,2),D=(H[0],H[1],Object(g.a)([nn,,S],{onError:function(e){I(e,t)}})),T=D.data,A=D.isLoading,z=D.isFetching,V=D.error,R=Object(N.a)(rn,{onSuccess:function(){Te.invalidateQueries(nn),ze("Users deleted successfully")},onError:function(e){I(e,t)}}),E=R.mutate,Y=R.isLoading,q=function(e,t){F((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},U=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Profile Pic",accessor:"profile_pic",Cell:function(e){return Object(M.jsx)(gt,{folder:"profile_pic",file:e.row.values.profile_pic})}},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Email",accessor:"email"},{Header:"Role",accessor:"role",Cell:function(e){return Object(M.jsx)(J,{variant:"primary",title:e.row.values.role})}},{Header:"Wallet Balance",accessor:"wallets.balance"},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.disabled})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){!function(e,a){t.push("/users/create-edit",{id:e,role:a})}(e.row.values.id,e.row.values.role)}})}}]}),[]);return T||A&&z?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Customers",onClick:function(){t.push("/users/create-edit",{role:"customer"})},totalRecords:null===T||void 0===T?void 0:T.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0 ",children:A?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!V&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:S.disabled,data:me,label:"Disabled Users?",idx:"disabled",onFilterChange:q,defaultSelectTitle:"Show All"})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end  justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(ln,S)?"light":"primary",style:{fontSize:14},onClick:function(){return F(ln)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===T||void 0===T?void 0:T.data,columns:U,setSelectedRows:y,filter:S,onFilterChange:q,isDataLoading:z,searchPlaceHolder:"Search using name, phone, email"})]}),!V&&(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===T||void 0===T?void 0:T.current_page,lastPage:null===T||void 0===T?void 0:T.last_page,setPage:q,hasNextPage:!!(null===T||void 0===T?void 0:T.next_page_url),hasPrevPage:!!(null===T||void 0===T?void 0:T.prev_page_url)}):null," "]})})]}),Object(M.jsxs)(ot.a,{show:n,onHide:function(){return i(!1)},children:[Object(M.jsx)(ot.a.Header,{closeButton:!0,children:Object(M.jsx)(ot.a.Title,{children:"Are you sure?"})}),Object(M.jsx)(ot.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(M.jsxs)(ot.a.Footer,{children:[Object(M.jsx)(O.a,{variant:"bg-light",onClick:function(){return i(!1)},children:"Close"}),Object(M.jsx)(O.a,{variant:"danger",children:Y?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Disable"})]})]}),v.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",v.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){E(v.map((function(e){return e.id})))},children:Y?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},on="users",jn=function(e){return L.post("".concat(on,"/delete"),{id:e})},un={q:"",role:"admin",page:null,perPage:25,disabled:""},bn=function(){var e,t=Object(d.g)(),a=Object(c.useState)(!1),s=Object(r.a)(a,2),n=s[0],i=s[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),m=(b[0],b[1],Object(c.useState)([])),f=Object(r.a)(m,2),v=f[0],y=f[1],w=Object(c.useState)(un),C=Object(r.a)(w,2),S=C[0],F=C[1];console.log(v.map((function(e){return e.id})));var k=Object(c.useState)(1),P=Object(r.a)(k,2),L=(P[0],P[1],Object(c.useState)("")),H=Object(r.a)(L,2),D=(H[0],H[1],Object(g.a)([on,,S],{onError:function(e){I(e,t)}})),T=D.data,A=D.isLoading,z=D.isFetching,V=D.error,R=Object(N.a)(jn,{onSuccess:function(){Te.invalidateQueries(on),ze("Users deleted successfully")},onError:function(e){I(e,t)}}),E=R.mutate,Y=R.isLoading,q=function(e,t){F((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},U=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Profile Pic",accessor:"profile_pic",Cell:function(e){return Object(M.jsx)(gt,{folder:"profile_pic",file:e.row.values.profile_pic})}},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Phone",accessor:"email"},{Header:"Role",accessor:"role",Cell:function(e){return Object(M.jsx)(J,{variant:"primary",title:e.row.values.role})}},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.disabled})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){!function(e,a){t.push("/users/create-edit",{id:e,role:a})}(e.row.values.id,e.row.values.role)}})}}]}),[]);return T||A&&z?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Admins",onClick:function(){t.push("/users/create-edit",{role:"admin"})},totalRecords:null===T||void 0===T?void 0:T.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:A?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!V&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:S.disabled,data:me,label:"Disabled Users?",idx:"disabled",onFilterChange:q,defaultSelectTitle:"Show All"})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end  justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(un,S)?"light":"primary",style:{fontSize:14},onClick:function(){return F(un)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===T||void 0===T?void 0:T.data,columns:U,setSelectedRows:y,filter:S,onFilterChange:q,isDataLoading:z,searchPlaceHolder:"Search using name, phone, email"})]}),!V&&(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===T||void 0===T?void 0:T.current_page,lastPage:null===T||void 0===T?void 0:T.last_page,setPage:q,hasNextPage:!!(null===T||void 0===T?void 0:T.next_page_url),hasPrevPage:!!(null===T||void 0===T?void 0:T.prev_page_url)}):null," "]})})]}),Object(M.jsxs)(ot.a,{show:n,onHide:function(){return i(!1)},children:[Object(M.jsx)(ot.a.Header,{closeButton:!0,children:Object(M.jsx)(ot.a.Title,{children:"Are you sure?"})}),Object(M.jsx)(ot.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(M.jsxs)(ot.a.Footer,{children:[Object(M.jsx)(O.a,{variant:"bg-light",onClick:function(){return i(!1)},children:"Close"}),Object(M.jsx)(O.a,{variant:"danger",children:Y?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Disable"})]})]}),v.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",v.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){E(v.map((function(e){return e.id})))},children:Y?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},mn="users",xn=function(e){return L.post("".concat(mn,"/delete"),{id:e})},hn={role:"agent",perPage:25,q:"",page:null,disabled:""},On=function(){var e,t=Object(d.g)(),a=Object(c.useState)(!1),s=Object(r.a)(a,2),n=s[0],i=s[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),m=(b[0],b[1],Object(c.useState)([])),f=Object(r.a)(m,2),v=f[0],y=f[1],w=Object(c.useState)(hn),C=Object(r.a)(w,2),S=C[0],F=C[1];console.log(v.map((function(e){return e.id})));var k=Object(c.useState)(1),P=Object(r.a)(k,2),L=(P[0],P[1],Object(c.useState)("")),H=Object(r.a)(L,2),D=(H[0],H[1],Object(g.a)([mn,,S],{onError:function(e){I(e,t)}})),T=D.data,A=D.isLoading,z=D.isFetching,V=D.error,R=Object(N.a)(xn,{onSuccess:function(){Te.invalidateQueries(mn),ze("Users deleted successfully")},onError:function(e){I(e,t)}}),E=R.mutate,Y=R.isLoading,q=function(e,t){F((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},U=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Profile Pic",accessor:"profile_pic",Cell:function(e){return Object(M.jsx)(gt,{folder:"profile_pic",file:e.row.values.profile_pic})}},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Phone",accessor:"email"},{Header:"Role",accessor:"role",Cell:function(e){return Object(M.jsx)(J,{variant:"primary",title:e.row.values.role})}},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(M.jsx)($,{value:e.row.values.disabled})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(M.jsx)(B,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(M.jsx)("div",{className:"d-flex",children:Object(M.jsx)(W,{onClick:function(){!function(e,a){t.push("/users/create-edit",{id:e,role:a})}(e.row.values.id,e.row.values.role)}})})}}]}),[]);return T||A&&z?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Agents",onClick:function(){t.push("/users/create-edit",{role:"agent"})},totalRecords:null===T||void 0===T?void 0:T.total}),Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:A?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!V&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(l.a,{fluid:!0,className:"pt-3 px-0",children:Object(M.jsxs)(x.a,{className:"select-filter d-flex",children:[Object(M.jsx)(h.a,{md:"auto",children:Object(M.jsx)(G,{currentValue:S.disabled,data:me,label:"Disabled Users?",idx:"disabled",onFilterChange:q,defaultSelectTitle:"Show All"})}),Object(M.jsx)(h.a,{md:"auto",className:"d-flex align-items-end  justify-md-content-center",children:Object(M.jsx)(O.a,{variant:Le(hn,S)?"light":"primary",style:{fontSize:14},onClick:function(){return F(hn)},children:"Reset Filters"})})]})}),Object(M.jsx)("hr",{className:"mt-2"}),Object(M.jsx)(Pe,{data:null===T||void 0===T?void 0:T.data,columns:U,setSelectedRows:y,filter:S,onFilterChange:q,isDataLoading:z,searchPlaceHolder:"Search using name, phone, email"})]}),!V&&(null===T||void 0===T||null===(e=T.data)||void 0===e?void 0:e.length)>0?Object(M.jsx)(ce,{currentPage:null===T||void 0===T?void 0:T.current_page,lastPage:null===T||void 0===T?void 0:T.last_page,setPage:q,hasNextPage:!!(null===T||void 0===T?void 0:T.next_page_url),hasPrevPage:!!(null===T||void 0===T?void 0:T.prev_page_url)}):null," "]})})]}),Object(M.jsxs)(ot.a,{show:n,onHide:function(){return i(!1)},children:[Object(M.jsx)(ot.a.Header,{closeButton:!0,children:Object(M.jsx)(ot.a.Title,{children:"Are you sure?"})}),Object(M.jsx)(ot.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(M.jsxs)(ot.a.Footer,{children:[Object(M.jsx)(O.a,{variant:"bg-light",onClick:function(){return i(!1)},children:"Close"}),Object(M.jsx)(O.a,{variant:"danger",children:Y?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Disable"})]})]}),v.length>0&&Object(M.jsxs)("div",{className:"delete-button rounded",children:[Object(M.jsx)("span",{children:Object(M.jsxs)("b",{children:["Delete ",v.length," rows"]})}),Object(M.jsx)(O.a,{variant:"danger",onClick:function(){E(v.map((function(e){return e.id})))},children:Y?"Loading...":"Delete"})]})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},pn=ic.a().shape({phone:ic.b().nullable().matches(/^[6-9]\d{9}$/,"Phone number is not valid").required("Phone number required"),email:ic.b().email().required(),name:ic.b().required("Name is required")}),fn="profile",vn=function(e){var t=e.formdata;return L.post("".concat(fn),t,{headers:{"Content-Type":"application/json"}})},gn=function(e){var t=e.formdata;return L.post("".concat(fn,"/picture"),t,{headers:{"Content-Type":"multipart/form-data"}})},Nn=function(){var e,t=Object(d.g)(),a=Za((function(e){return e.user}));console.log({loggedInUser:a});var c=Object(N.a)(vn,{onSuccess:function(){Te.invalidateQueries(fn),ze("Profile updated successfully")},onError:function(e){I(e,t)}}),s=c.mutate,n=c.isLoading,i=(c.error,c.status,Object(N.a)(gn,{onSuccess:function(){Te.invalidateQueries(fn),ze("Profile Image updated successfully")},onError:function(e){I(e,t)}})),r=i.mutate,o=i.isLoading;return Object(M.jsxs)(l.a,{fluid:!0,className:"card component-wrapper view-padding",children:[Object(M.jsx)(te,{title:"Edit Profile"}),Object(M.jsxs)(l.a,{fluid:!0,className:"profile-card d-flex flex-column align-items-center",children:[Object(M.jsx)("div",{className:"mx-auto",style:{height:100,width:100},children:(null===a||void 0===a?void 0:a.profile_pic)?Object(M.jsx)("img",{src:F+"profile_pic/"+a.profile_pic,style:{borderRadius:"50%",objectFit:"cover"}}):Object(M.jsx)("div",{className:"d-flex align-items-center justify-content-center bg-primary",style:{height:100,width:100,borderRadius:"50%"},children:Object(M.jsx)("p",{className:"mb-0 text-white display-4",children:(null===a||void 0===a||null===(e=a.name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"A"})})}),Object(M.jsxs)("div",{className:"update-profile-pic mt-3",children:[Object(M.jsx)("input",{accept:"image/*",className:"d-none",id:"contained-button-file",type:"file",onChange:function(e){return function(e){var t=e.target.files[0],a=new FormData;a.append("image",t),r({formdata:a})}(e)}}),Object(M.jsx)("label",{htmlFor:"contained-button-file",children:Object(M.jsxs)("div",{className:"d-flex bg-primary text-white align-items-center px-2 py-1 rounded",children:[Object(M.jsx)(p.d,{size:18,color:"#fff"}),o?"Uploading...":Object(M.jsx)("p",{className:"mb-0  ml-2",children:"Change Profile Picture"})]})})]}),Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:a,onSubmit:function(e){console.log({values:e});var t={name:e.name,email:e.email};s({formdata:t})},validationSchema:pn,children:function(e){var t=e.errors;return Object(M.jsxs)(Ue.c,{className:"w-100 mt-2",children:[Object(M.jsxs)("div",{className:"form-container",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",error:t.name}),Object(M.jsx)(Xe,{name:"phone",placeholder:"Phone",label:"Phone",isDisabled:!0,error:t.phone}),Object(M.jsx)(Xe,{name:"email",placeholder:"email",label:"Email",error:t.email})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:n,className:"w-100",children:n?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})]})]})},yn={q:"",page:1,perPage:25,month:"",target:""},wn=function(){var e,t,a,s=Object(d.g)(),n=Object(d.h)().state,i=n?n.id:null,u=Object(c.useState)([]),b=Object(r.a)(u,2),m=(b[0],b[1]),x=Object(c.useState)(yn),h=Object(r.a)(x,2),O=h[0],f=h[1],v=Object(g.a)(["create-target",,Object(j.a)(Object(j.a)({},O),{},{agent_id:i})],{onError:function(e){I(e,s)}}),N=v.data,y=v.isLoading,w=v.isFetching,C=v.error,S=function(e,t){f((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},F=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Month",accessor:"month"},{Header:"Assigned Target",accessor:"target"},{Header:"Achieved Target",accessor:"achieved"},{Header:"Actions",Cell:function(e){return Object(M.jsx)(W,{onClick:function(){var t;t=e.row.values.id,s.push("/agent-targets/create-edit",{id:t,agent_id:i})}})}}]}),[]);return N||y&&w?Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(te,{title:"".concat((null===N||void 0===N||null===(e=N.data[0])||void 0===e||null===(t=e.agent)||void 0===t?void 0:t.name)||"Agent"," Targets"),onClick:function(){s.push("/agent-targets/create-edit",{agent_id:i})},totalRecords:null===N||void 0===N?void 0:N.total}),Object(M.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(M.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:y?Object(M.jsx)(Z,{}):Object(M.jsxs)(M.Fragment,{children:[!C&&Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(Pe,{data:null===N||void 0===N?void 0:N.data,columns:F,setSelectedRows:m,filter:O,onFilterChange:S,isDataLoading:w,searchPlaceHolder:"Search using month, target",isSelectable:!1})}),!C&&(null===N||void 0===N||null===(a=N.data)||void 0===a?void 0:a.length)>0?Object(M.jsx)(ce,{currentPage:null===N||void 0===N?void 0:N.current_page,lastPage:null===N||void 0===N?void 0:N.last_page,setPage:S,hasNextPage:!!(null===N||void 0===N?void 0:N.next_page_url),hasPrevPage:!!(null===N||void 0===N?void 0:N.prev_page_url)}):null," "]})})})]}):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(M.jsx)(p.c,{color:_}),Object(M.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Cn=a(490),_n=(a(897),function(e){var t=e.userAddress,a=s.a.useState({latitude:Number(null===t||void 0===t?void 0:t.lat)||28.6139,longitude:Number(null===t||void 0===t?void 0:t.lng)||77.209,zoom:15}),c=Object(r.a)(a,2),n=c[0],i=c[1];return t.lng||t.lat?Object(M.jsx)(zc.d,Object(j.a)(Object(j.a)({},n),{},{mapboxApiAccessToken:"pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw",height:"250px",width:"98%%",mapStyle:"mapbox://styles/mapbox/streets-v11",onViewportChange:function(e){return i(e)},children:Object(M.jsx)(zc.c,{latitude:Number(t.lat),longitude:Number(t.lng),children:Object(M.jsx)(Cn.a,{size:40,color:"red"})})})):Object(M.jsx)("p",{children:"No Address found"})}),Sn=function(e){var t=e.address;return Object(M.jsxs)("div",{className:"d-flex justify-content-between flex-column ",children:[t.lat&&t.lng?Object(M.jsx)(_n,{userAddress:t}):Object(M.jsx)("div",{style:{minHeight:"250px"},className:"d-flex align-items-center justify-content-center",children:Object(M.jsx)("p",{className:" text-muted",children:"User latitude and longitude are not available"})}),Object(M.jsxs)("div",{className:" p-2",children:[Object(M.jsx)("span",{className:"text-black font-weight-bold",children:t.name}),Object(M.jsx)("br",{}),Object(M.jsxs)("span",{className:"text-muted",children:[t.address,","]}),Object(M.jsx)("br",{}),Object(M.jsxs)("span",{className:"text-muted",children:[t.city,","]}),Object(M.jsx)("span",{className:"text-muted",children:t.state}),Object(M.jsx)("br",{}),Object(M.jsx)("span",{className:"text-muted",children:t.pincode})]})]})},Fn=function(){var e=Object(d.h)().state,t=e?e.id:null,a=We({id:t,key:"users"}),c=a.data,s=c&&c;return a.isLoading?null:Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(te,{title:"".concat(s.name||"Users"," Address")}),Object(M.jsx)(x.a,{className:"rounded mt-3 ",children:s&&s.addresses&&s.addresses.length>0?s.addresses.map((function(e){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(h.a,{md:6,className:"mt-2",children:Object(M.jsx)("div",{className:"card",children:Object(M.jsx)(Sn,{address:e})})})})})):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(M.jsx)(oe.b,{color:"#000",size:60}),Object(M.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No address found"})]})})})]})})},kn=["profile_pic"],Pn="users",Ln=ic.a().shape({phone:ic.b().nullable().matches(/^[6-9]\d{9}$/,"Phone number is not valid").required("Phone number required")}),Hn=function(e){var t=e.formdata,a=e.id;return a?L.post("".concat(Pn,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):L.post("".concat(Pn),t,{headers:{"Content-Type":"multipart/form-data"}})},Dn=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null,s=e?e.role:null;Object(c.useEffect)((function(){qe.a.init()}),[]);var n=We({id:a,key:Pn}),i=n.data,r=n.isLoading,l=Object(N.a)(Hn,{onSuccess:function(){if(setTimeout((function(){return Te.invalidateQueries(Pn)}),500),t.replace("/users"),a)return ze("User updated successfully");ze("User created successfully")},onError:function(e){I(e,t)}}),o=l.mutate,j=l.isLoading,u=(l.error,l.status,i&&i);return r?Object(M.jsx)(Z,{}):Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(Ke,{title:s||"User"}),Object(M.jsx)(x.a,{className:"rounded",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:u||{role:s},onSubmit:function(e){console.log(e);var t=e.profile_pic,c=Object(se.a)(e,kn),s=new FormData;for(var n in c)s.append(n,c[n]);"string"!==typeof t&&t&&s.append("profile_pic",t),o({formdata:s,id:a})},validationSchema:Ln,children:function(e){var t=e.setFieldValue,a=e.errors;return Object(M.jsxs)(Ue.c,{className:"w-100",children:[Object(M.jsxs)("div",{className:"form-container py-2",children:[Object(M.jsx)(Xe,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(M.jsx)(Xe,{name:"phone",placeholder:"phone",label:"Phone",error:a.phone,required:!0}),Object(M.jsx)(Xe,{name:"email",placeholder:"Email",label:"Email",required:!0}),Object(M.jsx)(Xe,{as:"select",selectData:me,name:"disabled",label:"Disabled?",placeholder:"Is User Disabled?"}),Object(M.jsx)(Xe,{as:"select",selectData:he,name:"role",label:"Role",placeholder:"Role"}),Object(M.jsx)(Xe,{name:"profile_pic",placeholder:"Profile Pic",label:"Choose Profile Pic",isFile:!0,setFieldValue:t})]}),Object(M.jsx)(x.a,{className:"d-flex justify-content-start",children:Object(M.jsx)(h.a,{md:"2",children:Object(M.jsx)(O.a,{type:"submit",disabled:j,className:"w-100",children:j?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})})};var Tn=function(e){var t,a,c=e.vehicle;return Object(M.jsx)("div",{className:"card view-padding p-2 d-flex",children:Object(M.jsxs)("div",{className:"d-flex flex-column",children:[Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsxs)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:[c.name," ",Object(M.jsx)("span",{children:c.is_default&&Object(M.jsx)(J,{variant:"primary",title:"Default"})})]})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(M.jsx)("table",{className:"w-100",children:Object(M.jsxs)("tbody",{children:[Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"Brand"}),Object(M.jsx)("td",{className:"text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:(null===c||void 0===c||null===(t=c.brand)||void 0===t?void 0:t.name)||"NA"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading",children:"Model"}),Object(M.jsx)("td",{className:"text-success font-weight-bold text-right",children:Object(M.jsx)("p",{className:"view-subheading",children:(null===c||void 0===c||null===(a=c.model)||void 0===a?void 0:a.name)||"NA"})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading ",children:"Manf. Year"}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(M.jsx)("p",{className:"view-subheading",children:c.manufactoring_year})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading ",children:"Fuel Type"}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(M.jsx)("p",{className:"view-subheading",children:c.fuel_type})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading ",children:"Reg. Number"}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(M.jsx)("p",{className:"view-subheading",children:c.registration_number})})]}),Object(M.jsxs)("tr",{children:[Object(M.jsx)("td",{className:"view-heading ",children:"Reg. State"}),Object(M.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(M.jsx)("p",{className:"view-subheading",children:c.registration_state})})]})]})})})]})})},An=function(){var e=Object(d.h)().state,t=e?e.id:null,a=We({id:t,key:"users"}),c=a.data,s=c&&c;return a.isLoading?null:Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(te,{title:"".concat(s.name||"Users"," Vehicles")}),Object(M.jsx)(x.a,{className:"rounded mt-3",children:s&&s.vehicles&&s.vehicles.length>0?s.vehicles.map((function(e){return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)(h.a,{md:6,className:"mt-2",children:Object(M.jsx)(Tn,{vehicle:e})})})})):Object(M.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(M.jsx)(oe.b,{color:"#000",size:60}),Object(M.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No vehicle found"})]})})})]})})},zn=function(e){var t=e.formdata;return"deposit"===t.action?L.post("user-deposit",t):L.post("user-withdraw",t)},Vn=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null,c=We({id:a,key:"user-balance"}),s=c.data,n=c.isLoading;console.log({data:s});var i=Object(N.a)(zn,{onSuccess:function(){setTimeout((function(){return Te.invalidateQueries("users")}),500),ze("Transaction successfull")},onError:function(t){return I(t,e)}}),r=i.mutate,l=i.isLoading;i.error,i.status;return n?null:Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(M.jsx)(te,{title:"User Wallet"}),Object(M.jsx)("div",{className:"text-primary",children:Object(M.jsx)("div",{className:"d-flex justify-content-between",children:Object(M.jsxs)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:["Wallet Balance: \u20b9",s]})})}),Object(M.jsx)("hr",{className:"mb-3"}),Object(M.jsx)(x.a,{className:"rounded mt-3 ",children:Object(M.jsx)(h.a,{className:"mx-auto",children:Object(M.jsx)(Ue.d,{enableReinitialize:!0,initialValues:{action:"deposit",amount:0},onSubmit:function(e){return r({formdata:Object(j.a)({id:a},e)})},children:function(e){var t=e.values;return Object(M.jsxs)(Ue.c,{children:[Object(M.jsxs)("div",{className:"form-container ",children:[Object(M.jsx)(Xe,{name:"amount",label:"Amount",placeholder:"amount",type:"number",required:!0}),Object(M.jsx)(Xe,{name:"action",label:"Select Action",as:"select",selectData:[{id:"deposit",name:"Deposit"},{id:"withdraw",name:"Withdraw"}]})]}),Object(M.jsxs)(O.a,{type:"submit",disabled:l,children:[l?Object(M.jsx)(X.a,{animation:"border",size:"sm"}):null,"deposit"===t.action?"Deposit":"Withdraw"]})]})}})})})]})})},Rn=function(){var e=Object(d.h)().state,t=e?e.id:null,a=e?e.role:null;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(Dn,{}),Object(M.jsx)("br",{}),t&&Object(M.jsxs)(M.Fragment,{children:["customer"===a&&Object(M.jsx)(Vn,{}),"agent"===a&&Object(M.jsx)(wn,{}),Object(M.jsx)(Fn,{}),Object(M.jsx)(An,{})]})]})},En=ic.a().shape({otp:ic.b().max(4).min(4).required("Otp is required")}),In=function(e){return L.post("auth/verify-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},Mn=function(e){return L.post("auth/send-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},Yn=function(e){var t=Object(d.h)().state,a=Object(d.g)(),c=A((function(e){return e.setToken})),s=Za((function(e){return e.setUser})),n=Object(N.a)(In,{onSuccess:function(e){c(e.data.token),s(Object(j.a)(Object(j.a)({},e.data.user),{role:"admin",permissions:["update_brand","create_brand","delete_brand","read_brand"]})),a.push("/")},onError:function(e){E(e.message)}}),i=n.mutate,r=n.isLoading,o=Object(N.a)(Mn,{onSuccess:function(e){ze("OTP resend successfully")},onError:function(e){I(e,a)}}).mutate;return Object(M.jsx)(l.a,{fluid:!0,className:"login-page",children:Object(M.jsx)(Ue.d,{initialValues:{otp:""},onSubmit:function(e){var a=new FormData;a.append("phone",t.phone),a.append("otp",e.otp),i(a)},validationSchema:En,children:function(e){var a=e.errors;return Object(M.jsx)(Ue.c,{children:Object(M.jsxs)("div",{className:"d-flex flex-column align-items-center px-3 py-5",style:{width:"100vw",maxWidth:"450px"},children:[Object(M.jsx)("h1",{className:"text-black",children:Object(M.jsx)("b",{children:"Verify"})}),Object(M.jsx)("p",{className:"text-muted text-center",children:"Please enter the code sent on your mobile number"}),Object(M.jsx)("br",{}),Object(M.jsx)(Xe,{name:"otp",placeholder:"Enter the Otp",label:"Verify Otp",error:a.otp}),Object(M.jsx)("div",{className:"w-100",children:Object(M.jsx)("p",{className:"text-primary text-right m-0",onClick:function(){var e=new FormData;e.append("phone",t.phone),o(e)},style:{cursor:"pointer"},children:"Resend OTP"})}),Object(M.jsx)(O.a,{variant:"primary",type:"submit",className:"full-width my-2",children:r?Object(M.jsx)(X.a,{animation:"border",variant:"secondary",size:"sm"}):Object(M.jsx)("div",{className:"text-white",children:Object(M.jsx)("b",{children:"Verify"})})})]})})}})})},qn=function(){var e=Object(m.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryKey,e.next=3,w.a.get("".concat(k).concat(a[0]),{headers:{Authorization:"Bearer ".concat(a[1])}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(d.g)(),t=A((function(e){return e.accessToken})),a=Za((function(e){return e.setUser}));return Object(g.a)(["profile",t],qn,{onSuccess:function(e){a(Object(j.a)(Object(j.a)({},e),{},{roles:{role:"admin",permissions:["update_brand","create_brand","delete_brand","read_brand"]}}))},onError:function(t){I(t,e)}})},Bn=function(e){var t=R(),a=t.toasts,c=t.hideToast;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"position-fixed",style:{bottom:"2%",right:"2%",zIndex:1001,minWidth:"200px"},children:a.map((function(e){return setTimeout((function(){return c(e.id)}),3e3),Object(M.jsx)(Be.a,{variant:"danger",children:e.message})}))})})},Qn=function(e){var t=Ae(),a=t.toasts,c=t.hideToast;return Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{className:"position-fixed ",style:{bottom:"2%",right:"2%",zIndex:1001,minWidth:"200px"},children:a.map((function(e){return setTimeout((function(){return c(e.id)}),3e3),Object(M.jsx)(Be.a,{variant:"success",children:e.message})}))})})},Wn=["component","permissionReq"],Kn=function(e){var t=e.component,a=(e.permissionReq,Object(se.a)(e,Wn)),c=Za((function(e){var t,a;return null===e||void 0===e||null===(t=e.user)||void 0===t||null===(a=t.roles)||void 0===a?void 0:a.permissions}));console.log({loggedInUserPermissoins:c});return Object(M.jsx)(d.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return Object(M.jsx)(t,Object(j.a)({},e))}}))},Gn=function(){return Object(M.jsx)(l.a,{fluid:!0,style:{position:"fixed",height:"100vh",width:"100vw",zIndex:1e10},className:"d-flex align-items-center justify-content-center ",children:Object(M.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-column ",children:[Object(M.jsx)(Z,{}),Object(M.jsx)("p",{className:"text-center text-primary font-weight-bold",children:"Verifing..."})]})})},Jn=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],s=t[1],n=Un().isLoading,i=Object(c.useState)(!1),o=Object(r.a)(i,2),j=o[0],u=o[1],b=Object(d.h)().pathname,m=A((function(e){return e.accessToken}));m&&(L.defaults.headers.common.Authorization="Bearer ".concat(m)),Object(c.useEffect)((function(){return x(),window.addEventListener("resize",x),function(){return window.removeEventListener("resize",x)}}),[]),Object(c.useEffect)((function(){if(a)return u(!0);u(!1)}),[a]);var x=function(){var e=window.innerWidth;s(e>800)};function h(){return!b.includes("login")&&!b.includes("verify-otp")}return n?Object(M.jsx)(Gn,{}):Object(M.jsx)(ee.Provider,{value:a,children:Object(M.jsxs)("div",{className:"App",children:[h()?Object(M.jsx)(gc,{isNavOpen:j,setIsNavOpen:u}):"",j&&Object(M.jsx)("div",{}),h()?Object(M.jsx)(Zs,{isNavOpen:j,setIsNavOpen:u}):"",Object(M.jsxs)(l.a,{fluid:!0,className:"main-layout",style:{gridColumn:j?"2/3":"1/3",minWidth:!j&&"100vw"},children:[Object(M.jsxs)(d.d,{children:[Object(M.jsx)(d.b,{exact:!0,path:"/",children:Object(M.jsx)(d.a,{to:"/dashboard"})}),Object(M.jsx)(Kn,{path:"/dashboard",exact:!0,component:Ra,permissionReq:"read_dashboard"}),Object(M.jsx)(Kn,{path:"/profile",exact:!0,component:Nn}),Object(M.jsx)(Kn,{path:"/brands",exact:!0,component:Dt,permissionReq:"read_brand"}),Object(M.jsx)(Kn,{path:"/brand-models",exact:!0,component:Ct}),Object(M.jsx)(Kn,{path:"/categories",exact:!0,component:Wt}),Object(M.jsx)(Kn,{path:"/users",exact:!0,component:dn}),Object(M.jsx)(Kn,{path:"/admin",exact:!0,component:bn}),Object(M.jsx)(Kn,{path:"/agent",exact:!0,component:On}),Object(M.jsx)(Kn,{path:"/services",exact:!0,component:Ss}),Object(M.jsx)(Kn,{path:"/faqs",exact:!0,component:Ya}),Object(M.jsx)(Kn,{path:"/plans",exact:!0,component:ls}),Object(M.jsx)(Kn,{path:"/coupons",exact:!0,component:xa}),Object(M.jsx)(Kn,{path:"/orders",exact:!0,component:Lc}),Object(M.jsx)(Kn,{path:"/cities",exact:!0,component:ea}),Object(M.jsx)(Kn,{path:"/testimonials",exact:!0,component:Qs}),Object(M.jsx)(Kn,{path:"/agent-targets",exact:!0,component:it}),Object(M.jsx)(Kn,{path:"/configurations",exact:!0,component:la}),Object(M.jsx)(Kn,{path:"/advertisements",exact:!0,component:Me}),Object(M.jsx)(Kn,{path:"/brands/create-edit",exact:!0,component:Vt,permissionReq:"read_brand"}),Object(M.jsx)(Kn,{path:"/brand-models/create-edit",exact:!0,component:kt}),Object(M.jsx)(Kn,{path:"/categories/create-edit",exact:!0,component:Jt}),Object(M.jsx)(Kn,{path:"/agent-targets/create-edit",exact:!0,component:dt}),Object(M.jsx)(Kn,{path:"/configurations/create-edit",exact:!0,component:ja}),Object(M.jsx)(Kn,{path:"/users/create-edit",exact:!0,component:Rn}),Object(M.jsx)(Kn,{path:"/services/create-edit",exact:!0,component:Hs}),Object(M.jsx)(Kn,{path:"/plans/create-edit",exact:!0,component:xs}),Object(M.jsx)(Kn,{path:"/coupons/create-edit",exact:!0,component:Na}),Object(M.jsx)(Kn,{path:"/faqs/create-edit",exact:!0,component:Ba}),Object(M.jsx)(d.b,{path:"/cities/create-edit",exact:!0,component:sa}),Object(M.jsx)(Kn,{path:"/advertisements/create-edit",exact:!0,component:ct}),Object(M.jsx)(Kn,{path:"/transactions",exact:!0,component:sn}),Object(M.jsx)(Kn,{path:"/issues",exact:!0,component:Wa}),Object(M.jsx)(Kn,{path:"/issues/create-edit",exact:!0,component:Ja}),Object(M.jsx)(Kn,{path:"/permissions",exact:!0,component:$c}),Object(M.jsx)(Kn,{path:"/roles",exact:!0,component:fs}),Object(M.jsx)(Kn,{path:"/push-notifications",exact:!0,component:Cc}),Object(M.jsx)(Kn,{path:"/cart",exact:!0,component:Yt}),Object(M.jsx)(Kn,{path:"/booking-slots",exact:!0,component:ht}),Object(M.jsx)(Kn,{path:"/booking-slots/create-edit",exact:!0,component:vt}),Object(M.jsx)(Kn,{path:"/push-notifications/create-edit",exact:!0,component:kc}),Object(M.jsx)(Kn,{path:"/testimonials/create-edit",exact:!0,component:Js}),Object(M.jsx)(Kn,{path:"/assign-permission/create-edit",exact:!0,component:Zc}),Object(M.jsx)(Kn,{path:"/revoke-permission/create-edit",exact:!0,component:ss}),Object(M.jsx)(Kn,{path:"/permissions/create-edit",exact:!0,component:as}),Object(M.jsx)(Kn,{path:"/roles/create-edit",exact:!0,component:ys}),Object(M.jsx)(Kn,{path:"/subscriptions",exact:!0,component:Ms}),Object(M.jsx)(Kn,{path:"/static-pages",exact:!0,component:zs}),Object(M.jsx)(Kn,{path:"/static-pages/create-edit",exact:!0,component:Es}),Object(M.jsx)(Kn,{path:"/subscriptions/:id",exact:!0,component:Ys}),Object(M.jsx)(Kn,{path:"/orders/:id",exact:!0,component:Wc}),Object(M.jsx)(Kn,{path:"/issues/:id",exact:!0,component:nc}),Object(M.jsx)(Kn,{path:"/orders/assign-agent/:id",exact:!0,component:Ac}),Object(M.jsx)(d.b,{path:"/login",exact:!0,component:dc}),Object(M.jsx)(d.b,{path:"/verify-otp",exact:!0,component:Yn})]}),Object(M.jsx)(Bn,{}),Object(M.jsx)(Qn,{})]})]})})},$n=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,931)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))},Xn=a(243);i.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(Xn.a,{client:Te,children:Object(M.jsx)(xc.a,{children:Object(M.jsx)(Jn,{})})})}),document.getElementById("root")),$n()}},[[898,1,2]]]);
//# sourceMappingURL=main.b65ea0c2.chunk.js.map