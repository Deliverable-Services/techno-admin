{"version":3,"sources":["utils/constants.ts","utils/API.ts","hooks/useTokenStore.tsx","shared-components/ErrorToast/useErrorToastStore.ts","utils/showErrorToast.ts","hooks/handleApiErrors.ts","shared-components/BreadCrumb.tsx","shared-components/CreatedUpdatedAt.tsx","shared-components/EditButton.tsx","shared-components/FilterSelect.tsx","shared-components/CustomBadge.tsx","shared-components/IsActiveBadge.tsx","shared-components/isLoading.tsx","shared-components/PageHeading.tsx","shared-components/Pagination.tsx","utils/arrays.ts","shared-components/ReactTable.tsx","utils/queryClient.ts","shared-components/MsgToast/useMsgToastStore.ts","utils/showMsgToast.ts","components/Advertisements/index.tsx","hooks/useGetSingleQuery.tsx","shared-components/BackButton.tsx","shared-components/DatePicker.tsx","shared-components/InputFeild.tsx","components/Advertisements/AdvertisementTypes.tsx","components/Advertisements/AdvertisementUpdateCreateForm.tsx","components/BookingSlots/index.tsx","components/BookingSlots/BookingSlotsCreateUpdateForm.tsx","shared-components/TableImage.tsx","utils/areTwoObjEqual.js","components/BrandModels/index.tsx","components/BrandModels/BrandModelsUpdateCreateForm.tsx","components/Brands/index.tsx","components/Brands/BrandsCreateUpdateForm.tsx","hooks/useOrderFilterStore.tsx","shared-components/TableLink.tsx","components/Cart/index.tsx","components/Categories/index.tsx","components/Categories/CategoriesCreateUpdateForm.tsx","components/Cities/index.tsx","components/Cities/CitiesCreateUpdateForm.tsx","components/Coupons/index.tsx","shared-components/TextEditor.tsx","components/Coupons/CouponsCreateUpdateForm.tsx","components/Dashboard/Chart.tsx","components/Dashboard/index.tsx","components/Faqs/index.tsx","components/Faqs/FaqsCreateUpdateForm.tsx","components/Issues/index.tsx","components/Issues/IssuesCreateForm.tsx","hooks/useUserProfileStore.tsx","components/Issues/ChatBox.tsx","components/Issues/single.tsx","components/LoginPage.tsx","context/IsDesktopContext.ts","assets/logo.svg","shared-components/Logo.tsx","shared-components/Navlink.tsx","shared-components/Overlay.tsx","components/NavBar.tsx","components/Notification/index.tsx","components/Notification/NotificationCreateUpdateForm.tsx","components/Orders/index.tsx","components/Orders/assignAgent.tsx","components/Map/index.js","components/Orders/single.tsx","components/Permissions/index.tsx","components/Permissions/AssignPermissonCreateUpdateForm.tsx","components/Permissions/PermissoinsCreateUpdateForm.tsx","components/Permissions/RevokePermissions.tsx","components/Plans/index.tsx","components/Plans/PlansCreateUpdateForm.tsx","components/Roles/index.tsx","components/Roles/RolesCreateUpdateForm.tsx","components/Servicies/index.tsx","components/Servicies/ServiciesCreateUpdateForm.tsx","components/StaticPages/index.tsx","components/StaticPages/StaticPageCreateUpdateForm.tsx","components/Subscriptions/index.tsx","components/Subscriptions/single.tsx","components/Testimonials/index.tsx","components/Testimonials/TestimonialCreateUpdateForm.tsx","assets/profile.svg","components/TopBar.tsx","hooks/useTranscationFilterStore.tsx","components/Transactions/index.tsx","components/Transactions/TransactionUpdateForm.tsx","components/Users/index.tsx","components/Users/admin.tsx","shared-components/UserMap.jsx","components/Users/AddressCard.tsx","components/Users/UserAddresses.tsx","components/Users/UserBasics.tsx","components/Users/VehicleCard.tsx","components/Users/UserVechiles.tsx","components/Users/UsersCreateUpdateForm.tsx","components/VerifyOtp.tsx","hooks/useMeQuery.tsx","shared-components/ErrorToast/ErrorToast.tsx","shared-components/MsgToast/MsgToast.tsx","shared-components/PrivateRoute.tsx","shared-components/VerifingUserLoader.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["primaryColor","window","innerHeight","adminApiBaseUrl","baseUploadUrl","clientWebUrl","API","axios","create","baseURL","store","combine","accessToken","set","setToken","token","state","removeToken","persist","name","useTokenStore","useErrorToastStore","toasts","hideToast","id","x","filter","y","showToast","t","v4","showErrorToast","m","getState","message","handleApiError","error","history","a","response","status","data","post","console","log","access_token","push","BreadCrumb","onFilterChange","title","dataLength","currentValue","value","idx","isLast","onClick","className","style","cursor","opacity","CreatedUpdatedAt","date","moment","format","EditButton","props","Button","variant","size","FilterSelect","width","defaultSelectTitle","isDefaultDisabled","label","valueSelector","nameSelector","Form","Group","Label","Control","as","onChange","e","target","fontSize","disabled","map","item","CustomBadge","setBgAndColor","bg","color","backgroundColor","padding","IsActiveBadge","parseInt","IsLoading","Container","fluid","Spinner","animation","PageHeading","totalRecords","marginLeft","TablePagination","currentPage","setPage","hasNextPage","hasPrevPage","lastPage","Pagination","First","Prev","Item","active","Next","Last","isActiveArray","conditionType","userRoles","InsideCart","PaymentMethods","RowsPerPage","IssueRelatedTo","OrderStatus","OrderType","IssueStatus","NotificationSendToCategories","SearchInput","preGlobalFilteredRows","searchValue","globalFilter","setGlobalFilter","onSearchChange","count","length","React","useState","setValue","placeholder","IndeterminateCheckbox","forwardRef","ref","indeterminate","rest","resolvedRef","useRef","type","DnDRow","provided","row","snapshot","innerRef","getRowProps","draggableProps","dragHandleProps","isDragging","cells","cell","getCellProps","verticalAlign","render","isSomethingDragging","Row","ReactTable","columns","updateOrder","initialState","isDraggable","setSelectedRows","isDataLoading","setSelectedRowIds","isSelectable","records","setRecords","useEffect","getRowId","useCallback","useTable","pageSize","perPage","useFilters","useGlobalFilter","useSortBy","usePagination","useRowSelect","hooks","visibleColumns","Header","getToggleAllRowsSelectedProps","Cell","getToggleRowSelectedProps","getTableProps","headerGroups","getTableBodyProps","rows","prepareRow","allColumns","selectedFlatRows","setPageSize","selectedRowIds","d","original","query","border","marginRight","Dropdown","Toggle","Menu","column","disableGlobalFilter","isVisible","getToggleHiddenProps","htmlFor","whiteSpace","DndProvider","backend","HTML5Backend","Table","responsive","hover","headerGroup","getHeaderGroupProps","headers","getHeaderProps","getSortByToggleProps","isSorted","isSortedDesc","onDragEnd","result","source","destination","startIndex","endIndex","newData","splice","movedRow","reorderData","index","draggableId","droppableId","droppableProps","i","defaultQueryFn","k","queryKey","params","get","r","toString","queryClient","invalidateQueries","Error","QueryClient","defaultOptions","queries","refetchOnMount","staleTime","queryFn","onError","keepPreviousData","retry","useMsgToastStore","showMsgToast","key","deleteAd","initialFilter","q","page","getBanners","toLowerCase","Advertisements","useHistory","selectedRows","setDeletePopup","setFilter","useQuery","isLoading","isFetching","useMutation","onSuccess","mutate","isDeleteLoading","_onFilterChange","prev","useMemo","accessor","images","src","values","image","thumbnailWidth","thumbnailHeight","open","deeplink","is_active","valid_from","valid_to","created_at","updated_at","total","Col","md","current_page","last_page","next_page_url","prev_page_url","getSingle","useGetSingleQuery","enabled","BackButton","goBack","DatePicker","setFieldValue","useField","field","Text","InputField","isFile","selectData","selectValueKey","selectTitleKey","File","custom","input","currentTarget","files","types","createUpdataAdvertisement","formdata","AdvertisementCreateUpdateForm","useLocation","bsCustomFileInput","init","dataLoading","setTimeout","replace","apiData","initialValues","onSubmit","FormData","append","Alert","deleteSlot","delete","intitialFilter","start","startOf","end","endOf","BookingSlots","deletePopup","selectedRowId","setSelectedRowId","formattedDataForCalendar","setFormattedDataForCalendar","events","Object","items","event","from","datetime","to","add","reason","formataData","entries","onClickEvent","Modal","show","onHide","closeButton","Title","Body","Footer","createSlot","SlotCreateUpdateForm","required","TableImage","file","folder","alt","areTwoObjEqual","constructor","p","hasOwnProperty","deleteBrandModels","brand_id","BrandModels","Brands","isBrandsLoading","url","createUpdataBrand","BrandModlesCreateUpdateForm","brands","isBrandLoading","deleteBrand","logo","BrandsCreateUpdateForm","fontWeight","INITIAL_FILTER","user_id","agent_id","order_type","resetFilter","LocalStorageKey","useOrderStoreFilter","TableLink","inside_cart","localFilter","role","Customers","isCustomerLoading","Status","_onUserClick","_onOrderClick","scheduled_at","deleteCategories","destinationIndex","finalIn","Categories","createUpdataCategories","CategoriesCreateUpdateForm","order","deleteCities","Cities","CitiesCreateUpdateForm","deleteCoupons","condition_type","Coupons","coupon_code","TextEditor","BraftEditor","createEditorState","height","zIndex","editorState","toHTML","language","createUpdataCoupons","CouponCreateUpdateForm","BookingLineChart","xAxisDataKey","dataKey","ResponsiveContainer","LineChart","margin","top","right","left","bottom","XAxis","tickLine","YAxis","axisLine","Tooltip","Legend","Line","stroke","activeDot","returnPercentage","lastTotal","toFixed","bookingFilter","datefrom","dateto","duration","Dashboard","focusedInput","setFocusInput","currentTime","setCurrentTime","BookingAnalytics","isBookingAnalyticsLoading","setInterval","startDate","startDateId","endDate","endDateId","isOutsideRange","keepOpenOnDateSelect","onDatesChange","onFocusChange","customer","customerprev","orderprev","subscription","subscriptionprev","agent","agentprev","data_total","toUpperCase","booking","deleteFaqs","Faqs","createUpdataFaq","FaqCreateUpdateForm","description","xl","related_to","Issues","err","order_id","createTicket","IssuesCreateForm","user","setUser","removeUser","useUserProfileStore","addMessageToServer","ChatBox","initialMessages","loggedInUser","messages","scrollDiv","isMsgFromMe","minHeight","maxHeight","overflow","msg","position","marginBottom","display","minWidth","flexDirection","flex","borderRadius","slice","boxShadow","maxWidth","alignSelf","fromNow","text","resetForm","handleChange","outline","changeStatus","SingleIssue","useParams","setForm","lineHeight","href","email","phone","LoginSchema","Yup","shape","matches","sendOtp","formData","LoginPage","otp","validationSchema","errors","IsDesktopContext","createContext","Logo","Navlink","path","icon","pathname","includes","Overlay","manageLinks","mainLinks","NavBar","isNavOpen","setIsNavOpen","isDesktop","useContext","closeNavBar","sent","send_to","deleteNotification","Notifications","NotificationCreateUpdateForm","isScheduleOpen","setIsScheduleOpen","Users","isUsersLoading","_openSchedulTab","_closeSchedulTab","users","borderBottom","Orders","Agents","isAgentLoading","getAgents","assignAgent","AssignAgent","agents","sm","Map","userAddress","address","mapContainer","setMap","lat","lng","zoom","viewport","userLocation","agentLocation","directions","setDirections","current","mapboxgl","container","center","interactive","dragPan","attachMap","locationInterval","getAgentLocation","clearInterval","addDestinationMarker","setMapDirections","initializedMapboxDirections","isValidLocation","location","el","document","createElement","Marker","setLngLat","addTo","newMapboxDirection","MapboxDirections","controls","instructions","unit","profile","addControl","setOrigin","keys","getDestination","setDestination","textAlign","marginTop","updateOrderStatus","SingleOrder","showAssignAgent","setShowAssignAgent","_onDownloadInvoice","res","mutateOrderStatus","form","_onformChange","ref_id","Badge","_status","statusBadgeVairant","transaction","cancellation_reason","city","pincode","tickets","ticket","vehicle","picked_at","closed_at","services","service","price","total_cost","discount","payable_amount","plan","Permissions","RolesPermission","isRolesPermissionLoading","isRolesPermissoinFetch","list","permissions","join","permissionColumn","AssignPermissionForm","permission","arrayHelpers","checked","indexOf","remove","PermissionsCreateUpdateForm","RevokePermission","deletePlans","is_popular","category_id","allowed_usage","Plans","isCategoresLoading","PlanCreateUpdateForm","categories","isCategoriesLoading","Services","isServicesLoading","allowed_services","s","removeRole","Roles","isRemoveLoading","RolesCreateUpdateForm","deleteServices","createUpdataServices","ServicesCreateUpdateForm","updatePageData","deletePage","StaticPages","isUpdatedLoading","mutateDelete","titles","setTitles","selectedTitle","setSelectedTitle","pageId","content","onSave","pagedata","handleSave","createUpdataStaticPages","StaticPageCreateForm","plan_id","last_used_at","Subscription","isPlansLoading","isCustomersLoading","SingleSubscription","valid_till","transaction_id","used","cost","_onPlanClick","Testimonial","profile_pic","createUpdataTestimonial","TestimonialCreateUpdateForm","picture","logout","TopBar","payment_method","useTransactionStoreFilter","Transactions","deleteUsers","Admins","UserMap","AddressCard","UserAddress","addresses","ValidationSchema","nullable","createUpdateUser","UserBasics","VehicleCard","is_default","model_id","manufactoring_year","fuel_type","registration_number","registration_state","UserVehicles","vehicles","UserCreateUpdateForm","VerifySchema","max","min","verifyOtp","VerifyOtp","getProfile","Authorization","useMeQuery","ErrorToast","MsgToast","PrivateRoute","Component","component","VerifingUserLoader","App","setIsDesktop","isVerifingLoggedInUser","defaults","common","updateDimensions","addEventListener","removeEventListener","innerWidth","showNavTopBar","Provider","exact","Cart","TransactionUpdateForm","Subscriptions","SingleSubscriptions","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","QueryClientProvider","client","getElementById"],"mappings":"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","file":"static/js/main.485c665d.chunk.js","sourcesContent":["export const isDesktop = window.innerHeight <= 800;\r\nexport const primaryColor = \"#2c7be5\";\r\nexport const secondaryColor = \"#ECB054\";\r\nexport const LocalStorageKey = \"carsafai_admin_\";\r\n// export const adminApiBaseUrl = process.env.REACT_APP_ADMIN_API_URL;\r\nexport const adminApiBaseUrl =\r\n  \"https://carsafai.deliverable.services/admin/v1/\";\r\n// export const adminApiBaseUrl = \"http://localhost:8000/admin/v1/\";\r\n\r\nexport const appApiBaseUrl = process.env.REACT_APP_APP_API_URL;\r\n// export const baseUploadUrl = process.env.REACT_APP_UPLOAD_URL;\r\nexport const baseUploadUrl = \"https://carsafai.deliverable.services/upload/\";\r\n// export const clientWebUrl = process.env.REACT_APP_CLIENT_WEB_URL;\r\nexport const clientWebUrl = \"https://carsafai.in\";\r\n","import axios from \"axios\";\r\nimport { adminApiBaseUrl } from \"./constants\";\r\n\r\nconst API = axios.create({\r\n  baseURL: adminApiBaseUrl,\r\n\r\n  // baseURL: config.baseURL,\r\n});\r\n\r\nexport default API;\r\n","import create from 'zustand'\r\nimport { persist, combine } from 'zustand/middleware'\r\n\r\ntype Token = string | null\r\n\r\nlet store = combine(\r\n    { accessToken: null as Token },\r\n    (set) => ({\r\n        setToken: (token: string) => set((state) => ({ accessToken: token })),\r\n        removeToken: () => set((state) => ({ accessToken: null })),\r\n    })\r\n)\r\n\r\nstore = persist(store, { name: \"accessToken\" })\r\n\r\nconst useTokenStore = create(store)\r\n\r\nexport default useTokenStore","\r\nimport create from \"zustand\";\r\nimport { combine } from \"zustand/middleware\";\r\nimport { v4 } from \"uuid\";\r\n// import { ToastDurations } from \"../../ui/ErrorToast\";\r\n\r\ntype Toast = {\r\n    id: string;\r\n\r\n    //   duration?: ToastDurations;\r\n    message: string;\r\n};\r\n\r\nexport const useErrorToastStore = create(\r\n    combine(\r\n        {\r\n            toasts: [] as Toast[],\r\n        },\r\n        (set) => ({\r\n            hideToast: (id: string) => set((x) => ({ toasts: x.toasts.filter((y) => y.id !== id) })),\r\n            showToast: (t: Omit<Toast, \"id\">) => set((x) => ({ toasts: [...x.toasts, { ...t, id: v4() }] })),\r\n        })\r\n    )\r\n);","import { useErrorToastStore } from \"../shared-components/ErrorToast/useErrorToastStore\";\r\n\r\n\r\nexport const showErrorToast = (m: string) => {\r\n    useErrorToastStore.getState().showToast({ message: m });\r\n};","import { AxiosError } from \"axios\"\r\nimport API from \"../utils/API\"\r\nimport useTokenStore from '../hooks/useTokenStore'\r\nimport { showErrorToast } from \"../utils/showErrorToast\";\r\n\r\nexport const handleApiError = async (error: AxiosError, history: any) => {\r\n\r\n\r\n    if (!error) return;\r\n\r\n    const is401Error = error?.response?.status == 401;\r\n\r\n    if (!is401Error) {\r\n        showErrorToast(error?.response?.data?.message || error.message);\r\n        return\r\n    }\r\n\r\n\r\n    try {\r\n        const { data } = await API.post('/auth/refresh')\r\n        console.log(\"refresh-data\", data)\r\n\r\n        if (data) useTokenStore.getState().setToken(data.access_token)\r\n    } catch (error) {\r\n        history.push(\"/login\");\r\n        showErrorToast(error?.response?.data?.message || error.message)\r\n    }\r\n\r\n}","import React from \"react\";\r\n\r\ninterface Props {\r\n  onFilterChange: (idx: string, value: any) => void;\r\n  title: string;\r\n  dataLength: number;\r\n  currentValue: string;\r\n  value: string;\r\n  idx: string;\r\n  isLast?: boolean;\r\n}\r\n\r\nconst BreadCrumb = ({\r\n  onFilterChange,\r\n  title,\r\n  dataLength,\r\n  currentValue,\r\n  value,\r\n  idx,\r\n  isLast = false,\r\n}: Props) => {\r\n  return (\r\n    <>\r\n      <span\r\n        onClick={() => onFilterChange(idx, value)}\r\n        className={`${currentValue === value ? \"text-primary\" : \"text-muted\"}`}\r\n        style={{\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        {title} {currentValue === value ? `(${dataLength})` : \"\"}\r\n      </span>\r\n      {!isLast && (\r\n        <span className=\"mx-2\" style={{ opacity: 0.2 }}>\r\n          |\r\n        </span>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BreadCrumb;\r\n","import moment from 'moment'\r\nimport React from 'react'\r\n\r\ninterface Props {\r\n    date: string\r\n}\r\n\r\nconst CreatedUpdatedAt = ({ date }: Props) => {\r\n    return (\r\n        <>\r\n            <span>\r\n                {\r\n                    date ?\r\n                        moment(date).format(\"DD:MM:YY\") : \"NA\"\r\n                }\r\n            </span>\r\n            <br />\r\n            <span>\r\n                (\r\n                {\r\n                    date ?\r\n                        moment(date).format(\"hh:mm\") : \"NA\"\r\n                }\r\n                )\r\n            </span>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default CreatedUpdatedAt\r\n","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\nimport { AiFillEdit } from 'react-icons/ai'\r\nimport { primaryColor } from '../utils/constants'\r\n\r\ninterface Props {\r\n\tonClick: () => void\r\n}\r\n\r\nconst EditButton = (props: Props) => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Button variant=\"outline-primary\" onClick={props.onClick}>\r\n\t\t\t\t<AiFillEdit size={16} className=\"mr-1\" />Edit\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default EditButton","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n  onFilterChange: (idx: string, value: any) => void;\r\n  label: string;\r\n  currentValue: string;\r\n  idx: string;\r\n  data: Array<any>;\r\n  valueSelector?: string;\r\n  nameSelector?: string;\r\n  defaultSelectTitle?: string;\r\n  isDefaultDisabled?: boolean;\r\n  width?: string;\r\n}\r\n\r\nconst FilterSelect = ({\r\n  onFilterChange,\r\n  width = \"200px\",\r\n  defaultSelectTitle = \"All\",\r\n  isDefaultDisabled = false,\r\n  label,\r\n  currentValue,\r\n  idx,\r\n  data,\r\n  valueSelector = \"id\",\r\n  nameSelector = \"name\",\r\n}: Props) => {\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label className=\"text-muted\">{label}</Form.Label>\r\n      <Form.Control\r\n        as=\"select\"\r\n        value={currentValue}\r\n        id={idx}\r\n        onChange={(e) => onFilterChange(idx, e.target.value)}\r\n        style={{\r\n          width,\r\n          fontSize: 14,\r\n        }}\r\n      >\r\n        <option value=\"\" disabled={isDefaultDisabled}>\r\n          {defaultSelectTitle}\r\n        </option>\r\n        {data &&\r\n          data.map((item) => (\r\n            <option value={item[valueSelector]}>\r\n              {item[nameSelector] || item[valueSelector]}\r\n            </option>\r\n          ))}\r\n      </Form.Control>\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport default FilterSelect;\r\n","import React from 'react'\r\n\r\ninterface Props {\r\n\tvariant: \"success\" | \"danger\" | \"warning\" | \"primary\";\r\n\ttitle: string;\r\n\tfontSize?: 14 | 16 | 18 | 20;\r\n\r\n\r\n}\r\n\r\nconst CustomBadge = ({ variant, title, fontSize = 14 }: Props) => {\r\n\r\n\tconst setBgAndColor: () => ({ bg: string, color: string }) = () => {\r\n\r\n\t\tif (variant === \"danger\")\r\n\t\t\treturn {\r\n\t\t\t\tbg: \"#f8d7da\",\r\n\t\t\t\tcolor: \"red\"\r\n\t\t\t}\r\n\r\n\t\tif (variant === \"warning\")\r\n\t\t\treturn {\r\n\t\t\t\tbg: \"#fff3cd\",\r\n\t\t\t\tcolor: \"#ccb81f\"\r\n\t\t\t}\r\n\r\n\t\tif (variant === \"success\")\r\n\t\t\treturn {\r\n\t\t\t\tbg: \"#d4edda\",\r\n\t\t\t\tcolor: \"green\"\r\n\t\t\t}\r\n\r\n\t\tif (variant === \"primary\")\r\n\t\t\treturn {\r\n\t\t\t\tbg: \"#cce5ff\",\r\n\t\t\t\tcolor: \"blue\"\r\n\t\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<span style={{\r\n\t\t\tbackgroundColor: setBgAndColor().bg,\r\n\t\t\tcolor: setBgAndColor().color,\r\n\t\t\tfontSize,\r\n\t\t\tpadding: \"3px 6px\"\r\n\t\t}}\r\n\r\n\t\t\tclassName=\"text-capitalize rounded\"\r\n\t\t>\r\n\t\t\t{title}\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nexport default CustomBadge\r\n","import React from 'react'\r\nimport { Badge } from 'react-bootstrap'\r\nimport CustomBadge from './CustomBadge'\r\n\r\ninterface Props {\r\n    value: any\r\n}\r\n\r\nconst IsActiveBadge = ({ value }: Props) => {\r\n    return <CustomBadge\r\n        title={parseInt(value) == 1 ? \"Yes\" : \"No\"}\r\n        variant={parseInt(value) === 1 ? \"success\" : \"danger\"}\r\n    />\r\n    // return (\r\n    //     <Badge variant={parseInt(value) === 1 ? \"primary\" : \"danger\"}>\r\n    //         {\r\n    //             parseInt(value) == 1 ? \"Yes\" : \"No\"\r\n    //         }\r\n    //     </Badge>\r\n    // )\r\n}\r\n\r\nexport default IsActiveBadge\r\n","import { Container, Spinner } from \"react-bootstrap\";\r\n\r\nconst IsLoading = () => {\r\n  return (\r\n    <Container fluid className=\"d-flex justify-content-center pt-3 pb-3\">\r\n      <Spinner variant=\"primary\" animation=\"border\" />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default IsLoading;\r\n","import React from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { AiFillPlusSquare } from \"react-icons/ai\";\r\ninterface Props {\r\n  title: string;\r\n  onClick?: () => void;\r\n  totalRecords?: number;\r\n}\r\nconst PageHeading: React.FC<Props> = ({ title, onClick, totalRecords }) => {\r\n  return (\r\n    <div className=\"d-flex justify-content-between py-2\">\r\n      <h2 className=\"font-weight-bolder\">\r\n        {title}\r\n        {totalRecords ? (\r\n          <small style={{ fontSize: 14, marginLeft: 5, opacity: 0.6 }}>\r\n            ({totalRecords})\r\n          </small>\r\n        ) : null}\r\n      </h2>\r\n\r\n      {onClick && (\r\n        <Button variant=\"primary\" onClick={onClick}>\r\n          <div className=\"text-white\">\r\n            <AiFillPlusSquare size={25} /> <b>Create</b>\r\n          </div>\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageHeading;\r\n","import { Container, Pagination } from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n  currentPage: number;\r\n  lastPage: number;\r\n  hasPrevPage: boolean;\r\n  hasNextPage: boolean;\r\n  // setPage: (idx: string, value: any) => void;\r\n  setPage: any\r\n}\r\n\r\nconst TablePagination = ({\r\n  currentPage,\r\n  setPage,\r\n  hasNextPage,\r\n  hasPrevPage,\r\n  lastPage,\r\n}: Props) => {\r\n  return (\r\n    <Container fluid className=\"d-flex justify-content-end\">\r\n      <Pagination>\r\n        <Pagination.First onClick={() => setPage(\"page\", 1)} />\r\n        {hasPrevPage && (\r\n          <Pagination.Prev onClick={() => setPage(\"page\", currentPage - 1)} />\r\n        )}\r\n        <Pagination.Item active>\r\n          <span className=\"text-secondary\">{currentPage}</span>\r\n        </Pagination.Item>\r\n        {hasNextPage && (\r\n          <Pagination.Next onClick={() => setPage(\"page\", currentPage + 1)} />\r\n        )}\r\n        <Pagination.Last onClick={() => setPage(\"page\", lastPage)} />\r\n      </Pagination>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TablePagination;\r\n","export const isActiveArray = [\r\n  { id: \"1\", name: \"Yes\" },\r\n  { id: \"0\", name: \"No\" },\r\n];\r\n\r\nexport const conditionType = [\r\n  { id: \"percentage\", name: \"Percentage\" },\r\n  { id: \"discount\", name: \"Discount\" },\r\n];\r\n\r\nexport const userRoles = [\r\n  { id: \"admin\", name: \"Admin\" },\r\n  { id: \"customer\", name: \"Customer\" },\r\n  { id: \"agent\", name: \"Agent\" },\r\n];\r\nexport const InsideCart = [\r\n  { id: \"0\", name: 0 },\r\n  { id: \"1\", name: 1 },\r\n  { id: \"2\", name: 2 },\r\n  { id: \"3\", name: 3 },\r\n  { id: \"4\", name: 4 },\r\n  { id: \"5\", name: 5 },\r\n  { id: \"6\", name: 6 },\r\n  { id: \"7\", name: 7 },\r\n];\r\nexport const PaymentMethods = [\r\n  { id: \"razorpay\", name: \"Razor Pay\" },\r\n  { id: \"cod\", name: \"COD\" },\r\n];\r\n\r\nexport const RowsPerPage = [\r\n  { id: \"25\", name: 25 },\r\n  { id: \"35\", name: 35 },\r\n  { id: \"45\", name: 45 },\r\n];\r\nexport const IssueRelatedTo = [\r\n  { id: \"Order related\", name: \"Order related\" },\r\n  { id: \"Payment Related\", name: \"Payment Related\" },\r\n  { id: \"Other Issue\", name: \"Other Issue\" },\r\n];\r\nexport const OrderStatus = [\r\n  // { id: \"\", name: \"All\" },\r\n  // { id: \"confirmed\", name: \"Success\" },\r\n  // { id: \"pending_payment\", name: \"Pending Payment\" },\r\n  // { id: \"error_payment\", name: \"Payment Error\" },\r\n  { id: \"fulfilled\", name: \"Fulfilled\" },\r\n  { id: \"picked\", name: \"Picked\" },\r\n  { id: \"transit\", name: \"Transit\" },\r\n  { id: \"dispatched\", name: \"Dispatched\" },\r\n  { id: \"delayed\", name: \"Delayed\" },\r\n  { id: \"processing\", name: \"Processing\" },\r\n];\r\nexport const OrderType = [{ id: \"normal\", name: \"Normal\" }];\r\n\r\nexport const IssueStatus = [\r\n  { id: \"active\", name: \"Active\" },\r\n  { id: \"closed\", name: \"Closed\" },\r\n];\r\n\r\nexport const NotificationSendToCategories = [\r\n  { id: \"active-users\", name: \"Active Users\" },\r\n  { id: \"disabled-users\", name: \"Disabled Users\" },\r\n  { id: \"subscribed-users\", name: \"Subscribed Users\" },\r\n  { id: \"not-subscribed-users\", name: \"Not Subscribed Users\" },\r\n  { id: \"agents\", name: \"Agents\" },\r\n];\r\n\r\nexport const PermissionsData = [\r\n  { id: \"1\", name: \"read\" },\r\n  { id: \"2\", name: \"delete\" },\r\n  { id: \"3\", name: \"create\" },\r\n  { id: \"4\", name: \"update\" },\r\n];\r\n","import { AxiosResponse } from \"axios\";\r\nimport React, { ReactElement } from \"react\";\r\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\r\nimport { Container, Dropdown, Spinner, Table } from \"react-bootstrap\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { AiOutlineSearch } from \"react-icons/ai\";\r\nimport { MdRemoveShoppingCart } from \"react-icons/md\";\r\nimport { GoSettings } from \"react-icons/go\";\r\nimport { IoMdArrowDropdown, IoMdArrowDropup } from \"react-icons/io\";\r\n// import Checkbox from 'react-checkbox-component'\r\nimport { UseMutateAsyncFunction } from \"react-query\";\r\nimport {\r\n  TableState,\r\n  useAsyncDebounce,\r\n  useFilters,\r\n  useGlobalFilter,\r\n  usePagination,\r\n  useRowSelect,\r\n  useSortBy,\r\n  useTable,\r\n} from \"react-table\";\r\nimport { filterProps } from \"recharts/types/util/types\";\r\nimport { RowsPerPage } from \"../utils/arrays\";\r\nimport { primaryColor } from \"../utils/constants\";\r\nimport { ImCheckboxUnchecked } from \"react-icons/im\";\r\n\r\ninterface Props {\r\n  data: any;\r\n  columns: Array<any>;\r\n  updateOrder?: any;\r\n  initialState?: Partial<TableState<object>>;\r\n  isDraggable?: boolean;\r\n  setSelectedRows?: React.Dispatch<React.SetStateAction<any[]>>;\r\n  filter?: any;\r\n  onFilterChange?: (idx: string, value: any) => void;\r\n  isDataLoading?: boolean;\r\n  setSelectedRowIds?: any;\r\n  isSelectable?: boolean;\r\n}\r\ninterface ISearchInput {\r\n  preGlobalFilteredRows: any;\r\n  globalFilter: any;\r\n  setGlobalFilter: any;\r\n  searchValue: string;\r\n  onSearchChange: any;\r\n}\r\n\r\nfunction SearchInput({\r\n  preGlobalFilteredRows,\r\n  globalFilter,\r\n  setGlobalFilter,\r\n  searchValue,\r\n  onSearchChange,\r\n}: ISearchInput) {\r\n  const count = preGlobalFilteredRows.length;\r\n  const [value, setValue] = React.useState(searchValue);\r\n  // const onChange = useAsyncDebounce((value) => {\r\n  // setGlobalFilter(value || undefined);\r\n  // }, 200);\r\n\r\n  return (\r\n    <input\r\n      value={value || \"\"}\r\n      onChange={(e) => {\r\n        onSearchChange(\"q\", e.target.value);\r\n        setValue(e.target.value);\r\n        // onChange(e.target.value);\r\n      }}\r\n      placeholder={`Search ${count} records...`}\r\n    />\r\n  );\r\n}\r\n\r\nconst IndeterminateCheckbox = React.forwardRef(\r\n  ({ indeterminate, ...rest }: any, ref) => {\r\n    const defaultRef = React.useRef<HTMLDivElement>(null);\r\n    const resolvedRef = defaultRef || ref;\r\n\r\n    // React.useEffect(() => {\r\n    //   resolvedRef.current.indeterminate = indeterminate\r\n    // }, [resolvedRef, indeterminate])\r\n\r\n    return (\r\n      <>\r\n        <input\r\n          type=\"checkbox\"\r\n          ref={resolvedRef}\r\n          {...rest}\r\n          name=\"row-check\"\r\n          id=\"row-check\"\r\n        />\r\n      </>\r\n    );\r\n  }\r\n);\r\n\r\nfunction ReactTable({\r\n  data,\r\n  columns,\r\n  updateOrder,\r\n  initialState,\r\n  isDraggable = false,\r\n  setSelectedRows,\r\n  filter,\r\n  onFilterChange,\r\n  isDataLoading,\r\n  setSelectedRowIds,\r\n  isSelectable = true,\r\n}: Props): ReactElement {\r\n  const [records, setRecords] = React.useState(data);\r\n  const updateMyData = (rowIndex: any, columnID: any, newValue: any) => {\r\n    setRecords((oldData: any) =>\r\n      oldData.map((row: any, index: any) => {\r\n        if (index === rowIndex) {\r\n          return {\r\n            ...oldData[rowIndex],\r\n            [columnID]: newValue,\r\n          };\r\n        }\r\n        return row;\r\n      })\r\n    );\r\n  };\r\n\r\n  const reorderData = (startIndex: any, endIndex: any) => {\r\n    const newData = [...records];\r\n    const [movedRow] = newData.splice(startIndex, 1);\r\n    newData.splice(endIndex, 0, movedRow);\r\n    setRecords(newData);\r\n  };\r\n\r\n  React.useEffect(() => setRecords(data), [data]);\r\n\r\n  const getRowId = React.useCallback((row) => {\r\n    return row.id;\r\n  }, []);\r\n\r\n  const {\r\n    getTableProps,\r\n    getTableBodyProps,\r\n    headerGroups,\r\n    rows,\r\n    prepareRow,\r\n    allColumns,\r\n    state,\r\n    preGlobalFilteredRows,\r\n    setGlobalFilter,\r\n    selectedFlatRows,\r\n    setPageSize,\r\n    state: { selectedRowIds, pageSize },\r\n  } = useTable(\r\n    {\r\n      columns,\r\n      data: records,\r\n      initialState: { ...initialState, pageSize: filter.perPage },\r\n    },\r\n    useFilters,\r\n    useGlobalFilter,\r\n    useSortBy,\r\n    usePagination,\r\n    useRowSelect,\r\n    getRowId,\r\n    (hooks) => {\r\n      isSelectable &&\r\n        hooks.visibleColumns.push((columns) => [\r\n          {\r\n            id: \"selection\",\r\n\r\n            // The header can use the table's getToggleAllRowsSelectedProps method\r\n            // to render a checkbox\r\n            Header: ({ getToggleAllRowsSelectedProps }) => (\r\n              <div>\r\n                <IndeterminateCheckbox {...getToggleAllRowsSelectedProps()} />\r\n              </div>\r\n            ),\r\n            // The cell can use the individual row's getToggleRowSelectedProps method\r\n            // to the render a checkbox\r\n            Cell: ({ row }) => (\r\n              <div>\r\n                <IndeterminateCheckbox {...row.getToggleRowSelectedProps()} />\r\n              </div>\r\n            ),\r\n          },\r\n          ...columns,\r\n        ]);\r\n    }\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    function filterRows() {\r\n      let data = [];\r\n      selectedFlatRows.map((d) => {\r\n        data.push(d.original);\r\n      });\r\n\r\n      return data;\r\n    }\r\n    if (setSelectedRowIds) setSelectedRowIds(selectedRowIds);\r\n\r\n    if (setSelectedRows) setSelectedRows(filterRows);\r\n  }, [selectedRowIds]);\r\n\r\n  const handleDragEnd = (result: any) => {\r\n    const { source, destination } = result;\r\n    if (!destination) return;\r\n    reorderData(source.index, destination.index);\r\n\r\n    const row = records[result.draggableId];\r\n\r\n    if (updateOrder) updateOrder(row.id, destination.index, row);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Container\r\n        fluid\r\n        className=\"card-header pb-3 d-flex align-items-center position-relative\"\r\n      >\r\n        <div className=\"w-100\">\r\n          <div className=\"search-input\">\r\n            <AiOutlineSearch size={18} />\r\n            <SearchInput\r\n              preGlobalFilteredRows={preGlobalFilteredRows}\r\n              globalFilter={state.globalFilter}\r\n              setGlobalFilter={setGlobalFilter}\r\n              searchValue={filter?.query}\r\n              onSearchChange={onFilterChange}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex\">\r\n          <div className=\"d-flex align-items-center justify-content-center\">\r\n            <span className=\"text-muted\">Records </span>\r\n            <select\r\n              className=\"text-primary font-weight-bold\"\r\n              style={{\r\n                border: \"none\",\r\n                marginRight: 5,\r\n              }}\r\n              value={pageSize}\r\n              onChange={(e) => {\r\n                const value = e.target.value;\r\n                setPageSize(parseInt(value));\r\n                onFilterChange(\"perPage\", value);\r\n              }}\r\n            >\r\n              {RowsPerPage.map((item) => (\r\n                <option key={item.id} value={item.id}>\r\n                  {item.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <Dropdown>\r\n            <Dropdown.Toggle\r\n              id=\"dropdown-basic\"\r\n              className=\"filter-button bg-transparent border-0 text-primary\"\r\n            >\r\n              <GoSettings size={17} color={primaryColor} />{\" \"}\r\n              <span className=\"text-muted my-auto\">Filter</span>\r\n            </Dropdown.Toggle>\r\n\r\n            <Dropdown.Menu className=\"p-2\">\r\n              {allColumns.map((column) => {\r\n                column.disableGlobalFilter = !column.isVisible;\r\n                return (\r\n                  <div\r\n                    key={column.id}\r\n                    className=\"custom-control custom-checkbox w-100 px-2\"\r\n                  >\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      {...column.getToggleHiddenProps()}\r\n                      className=\"d-none\"\r\n                      id={column.id}\r\n                    />\r\n\r\n                    <div className=\"custom-control custom-checkbox \">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"custom-control-input\"\r\n                        id={column.id}\r\n                        {...column.getToggleHiddenProps()}\r\n                      />\r\n\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor={column.id}\r\n                      >\r\n                        <p style={{ whiteSpace: \"nowrap\" }}>{column.Header}</p>\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </div>\r\n      </Container>\r\n\r\n      {/*-------------------- table---------------------  */}\r\n      <DndProvider backend={HTML5Backend}>\r\n        <div className=\"tableFixed\">\r\n          <Table\r\n            className=\"table-fixed\"\r\n            {...getTableProps()}\r\n            responsive\r\n            hover\r\n            size=\"sm\"\r\n          >\r\n            <thead className=\"bg-grey-primary\">\r\n              {isDataLoading ? (\r\n                <tr>\r\n                  <td className=\"text-muted font-weight-bold w-100\">\r\n                    Loading <Spinner size=\"sm\" animation=\"border\" />\r\n                  </td>\r\n                </tr>\r\n              ) : null}\r\n              {\r\n                // Loop over the header rows\r\n                headerGroups.map((headerGroup) => (\r\n                  // Apply the header row props\r\n                  <tr {...headerGroup.getHeaderGroupProps()}>\r\n                    {\r\n                      // Loop over the headers in each row\r\n                      headerGroup.headers.map((column) => {\r\n                        // Apply the header cell props\r\n                        return (\r\n                          <th\r\n                            {...column.getHeaderProps(\r\n                              column.getSortByToggleProps()\r\n                            )}\r\n                          >\r\n                            {\r\n                              // Render the header\r\n                              column.render(\"Header\")\r\n                            }\r\n                            <span>\r\n                              {column.isSorted ? (\r\n                                column.isSortedDesc ? (\r\n                                  <IoMdArrowDropup />\r\n                                ) : (\r\n                                  <IoMdArrowDropdown />\r\n                                )\r\n                              ) : (\r\n                                \"\"\r\n                              )}\r\n                            </span>\r\n                          </th>\r\n                        );\r\n                      })\r\n                    }\r\n                  </tr>\r\n                ))\r\n              }\r\n            </thead>\r\n            {/* Apply the table body props */}\r\n            <DragDropContext onDragEnd={handleDragEnd}>\r\n              <Droppable droppableId=\"table-body\">\r\n                {(provided, snapshot) => (\r\n                  <tbody ref={provided.innerRef} {...provided.droppableProps}>\r\n                    {rows.map((row, i) => {\r\n                      prepareRow(row);\r\n\r\n                      if (isDraggable)\r\n                        return (\r\n                          <Draggable\r\n                            draggableId={row.id}\r\n                            key={row.id}\r\n                            index={i}\r\n                          >\r\n                            {(provided, snapshot) => {\r\n                              return (\r\n                                <DnDRow\r\n                                  provided={provided}\r\n                                  row={row}\r\n                                  snapshot={snapshot}\r\n                                />\r\n                              );\r\n                            }}\r\n                          </Draggable>\r\n                        );\r\n                      else return <Row row={row} />;\r\n                    })}\r\n                    {provided.placeholder}\r\n                  </tbody>\r\n                )}\r\n              </Droppable>\r\n            </DragDropContext>\r\n            {/* {rows.length === 0 ?\r\n<Container fluid className=\"d-flex justify-content-center w-100 align-item-center\">\r\n<span className=\"text-primary display-3\">No data found</span>\r\n</Container>\r\n: \"\"} */}\r\n          </Table>\r\n        </div>\r\n      </DndProvider>\r\n      {/* pagination  */}\r\n\r\n      {rows.length === 0 ? (\r\n        <Container fluid className=\"d-flex justify-content-center display-3\">\r\n          <div className=\"d-flex flex-column align-items-center pt-3 pb-3\">\r\n            <MdRemoveShoppingCart color=\"#000\" size={60} />\r\n            <h4 className=\"text-black font-weight-bold mt-2\">No data found</h4>\r\n          </div>\r\n        </Container>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst DnDRow = ({ provided, row, snapshot }: any) => (\r\n  <tr\r\n    ref={provided.innerRef}\r\n    {...row.getRowProps()}\r\n    {...provided.draggableProps}\r\n    {...provided.dragHandleProps}\r\n    style={{\r\n      ...provided.draggableProps.style,\r\n      opacity: snapshot.isDragging ? \".5\" : \"1\",\r\n    }}\r\n  >\r\n    {row.cells.map((cell) => (\r\n      <td {...cell.getCellProps()} style={{ verticalAlign: \"middle\" }}>\r\n        {cell.render(\"Cell\", {\r\n          dragHandleProps: provided.dragHandleProps,\r\n          isSomethingDragging: snapshot.isDragging,\r\n        })}\r\n      </td>\r\n    ))}\r\n  </tr>\r\n);\r\nconst Row = ({ row }: any) => (\r\n  <tr {...row.getRowProps()}>\r\n    {row.cells.map((cell) => (\r\n      <td {...cell.getCellProps()} style={{ verticalAlign: \"middle\" }}>\r\n        {cell.render(\"Cell\")}\r\n      </td>\r\n    ))}\r\n  </tr>\r\n);\r\n\r\nexport default ReactTable;\r\n","import { QueryClient, QueryFunction } from \"react-query\";\r\nimport API from \"./API\";\r\nimport { showErrorToast } from \"./showErrorToast\";\r\n\r\nexport const defaultQueryFn: QueryFunction = async ({ queryKey }) => {\r\n  console.log({ queryKey });\r\n  const params = {};\r\n  //@ts-ignore\r\n  for (let k in queryKey[2]) {\r\n    if (queryKey[2][k]) params[k] = queryKey[2][k];\r\n  }\r\n\r\n  console.log({ params });\r\n\r\n  const r = await API.get<any>(`${queryKey[0]}`, {\r\n    params,\r\n  });\r\n\r\n  if (r.status !== 200) {\r\n    showErrorToast(r.status.toString());\r\n    queryClient.invalidateQueries(\"profile\");\r\n    throw new Error();\r\n  }\r\n\r\n  return await r.data;\r\n};\r\n\r\nexport const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      refetchOnMount: \"always\",\r\n      // refetchOnWindowFocus: \"always\",\r\n      staleTime: 60 * 1000 * 5,\r\n      queryFn: defaultQueryFn,\r\n      onError: (error: any) => {\r\n        showErrorToast(error.message);\r\n        queryClient.invalidateQueries(\"profile\");\r\n      },\r\n      keepPreviousData: true,\r\n      retry: false,\r\n    },\r\n  },\r\n});\r\n","\r\nimport create from \"zustand\";\r\nimport { combine } from \"zustand/middleware\";\r\nimport { v4 } from \"uuid\";\r\n// import { ToastDurations } from \"../../ui/ErrorToast\";\r\n\r\ntype Toast = {\r\n    id: string;\r\n\r\n    //   duration?: ToastDurations;\r\n    message: string;\r\n};\r\n\r\nexport const useMsgToastStore = create(\r\n    combine(\r\n        {\r\n            toasts: [] as Toast[],\r\n        },\r\n        (set) => ({\r\n            hideToast: (id: string) => set((x) => ({ toasts: x.toasts.filter((y) => y.id !== id) })),\r\n            showToast: (t: Omit<Toast, \"id\">) => set((x) => ({ toasts: [...x.toasts, { ...t, id: v4() }] })),\r\n        })\r\n    )\r\n);","import { useMsgToastStore } from \"../shared-components/MsgToast/useMsgToastStore\";\r\n\r\n\r\nexport const showMsgToast = (m: string) => {\r\n    useMsgToastStore.getState().showToast({ message: m });\r\n};","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport LightBox from \"react-lightbox-component\";\r\nimport { QueryFunction, useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Switch from \"react-switch\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nconst key = \"banners/list\";\r\n\r\nconst deleteAd = (id: Array<any>) => {\r\n  return API.post(`banners/delete`, { id });\r\n};\r\nconst initialFilter = {\r\n  type: \"offers\",\r\n  q: \"\",\r\n  page: \"\",\r\n  perPage: 25,\r\n  active: \"\",\r\n};\r\n\r\nconst getBanners: QueryFunction = async ({ queryKey }) => {\r\n  const params = {};\r\n  //@ts-ignore\r\n  for (let k in queryKey[2]) {\r\n    if (queryKey[2][k]) params[k] = queryKey[2][k];\r\n  }\r\n\r\n  const r = await API.get(\r\n    `${queryKey[0]}/${(queryKey[1] as string).toLowerCase()}`,\r\n    {\r\n      params,\r\n    }\r\n  );\r\n\r\n  return await r.data;\r\n};\r\n\r\nconst Advertisements = () => {\r\n  const history = useHistory();\r\n  const [selectedRowId, setSelectedRowId] = useState<string>(\"\");\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [page, setPage] = useState<number>(1);\r\n  const [deletePopup, setDeletePopup] = useState(false);\r\n\r\n  const [isDraggable, setIsDraggable] = useState(false);\r\n  const handleChange = (nextChecked) => {\r\n    setIsDraggable(nextChecked);\r\n  };\r\n  const [filter, setFilter] = useState(initialFilter);\r\n\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, filter.type, filter],\r\n    getBanners,\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteAd, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      setDeletePopup(false);\r\n      showMsgToast(\"Banner(s) deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => {\r\n      return {\r\n        ...prev,\r\n        [idx]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/advertisements/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/advertisements/create-edit\", { id });\r\n  };\r\n\r\n  const _onDeepLinkClick = (data: Cell) => {\r\n    window.open(clientWebUrl);\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Image\",\r\n        accessor: \"image\",\r\n        Cell: (data: Cell) => (\r\n          <LightBox\r\n            images={[\r\n              {\r\n                src: `${baseUploadUrl}banners/${data.row.values.image}`,\r\n                title: data.row.values.image,\r\n              },\r\n            ]}\r\n            thumbnailWidth=\"100px\"\r\n            thumbnailHeight=\"50px\"\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Deep Link\",\r\n        accessor: \"deeplink\",\r\n        Cell: (data: Cell) => (\r\n          <p\r\n            className=\"text-primary m-0\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => _onDeepLinkClick(data)}\r\n          >\r\n            {data.row.values.deeplink}\r\n          </p>\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Order\",\r\n        accessor: \"order\",\r\n      },\r\n      {\r\n        Header: \" Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Valid from\",\r\n        accessor: \"valid_from\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.valid_from} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Valid To\",\r\n        accessor: \"valid_to\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.valid_to} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Banners\"\r\n        onClick={() => _onCreateClick()}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      {(!isLoading || !isFetching) && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"offers\"\r\n                currentValue={filter.type}\r\n                dataLength={data?.data?.length}\r\n                idx=\"type\"\r\n                title=\"Offers\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"latest\"\r\n                currentValue={filter.type}\r\n                dataLength={data?.data?.length}\r\n                idx=\"type\"\r\n                title=\"Latest\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"trending\"\r\n                currentValue={filter.type}\r\n                dataLength={data?.data?.length}\r\n                idx=\"type\"\r\n                title=\"Trending\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.active}\r\n                          data={isActiveArray}\r\n                          label=\"Is Active?\"\r\n                          idx=\"active\"\r\n                          onFilterChange={_onFilterChange}\r\n                          defaultSelectTitle=\"Show All\"\r\n                        />\r\n                      </Col>\r\n\r\n                      {/* <Col md=\"auto\" className=\" d-flex align-items-center \">\r\n                        <div className=\" d-flex align-items-center \"\r\n                        >\r\n                          <span className=\"text-muted mr-2\">IsDraggable?</span>\r\n                          <Switch\r\n                            checked={isDraggable}\r\n                            onChange={handleChange}\r\n                            className=\"react-switch\"\r\n                            onColor={primaryColor}\r\n                            uncheckedIcon={false}\r\n                            checkedIcon={false}\r\n                            height={20}\r\n                          />\r\n\r\n                        </div>\r\n                      </Col> */}\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    onFilterChange={_onFilterChange}\r\n                    filter={filter}\r\n                    isDataLoading={isFetching}\r\n                    isDraggable={isDraggable}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Advertisements;\r\n","import { AxiosError } from \"axios\";\r\nimport { QueryFunction, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport API from \"../utils/API\";\r\nimport { handleApiError } from \"./handleApiErrors\";\r\n\r\ninterface IUseGetSingle {\r\n  key: string;\r\n  id: string;\r\n}\r\nconst getSingle: QueryFunction = async ({ queryKey }) => {\r\n  const r = await API.get(`${queryKey[0]}/${queryKey[1]}`);\r\n\r\n  return r.data;\r\n};\r\n\r\nconst useGetSingleQuery = ({ id, key }: IUseGetSingle) => {\r\n  const history = useHistory();\r\n  const allData = useQuery<any>([key, id], getSingle, {\r\n    enabled: !!id,\r\n    refetchOnMount: \"always\",\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  return allData;\r\n};\r\n\r\nexport default useGetSingleQuery;\r\n","import React from 'react'\r\nimport { Button, Container } from 'react-bootstrap'\r\nimport { BiArrowFromRight } from 'react-icons/bi'\r\nimport { useHistory } from 'react-router-dom'\r\ninterface Props {\r\n    title: string\r\n}\r\nconst BackButton: React.FC<Props> = ({ title }) => {\r\n    const history = useHistory()\r\n    const _onBackClick = () => history.goBack()\r\n    return (\r\n        <Container fluid className=\"d-flex justify-content-between py-2 px-0\">\r\n            <h2 className=\"font-weight-bold\">{title}</h2>\r\n            <Button variant=\"primary\" onClick={_onBackClick}>\r\n                <div className=\"text-white\">\r\n                    <BiArrowFromRight size={25} /> <b>Back</b>\r\n                </div>\r\n            </Button>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default BackButton\r\n","import { useField } from \"formik\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\ninterface Props {\r\n  label?: string;\r\n  name: string;\r\n  error?: string;\r\n  setFieldValue: (\r\n    field: string,\r\n    value: any,\r\n    shouldValidate?: boolean | undefined\r\n  ) => void;\r\n}\r\n\r\nconst DatePicker: React.FC<Props> = ({\r\n  label,\r\n  name,\r\n  error,\r\n  setFieldValue,\r\n  ...props\r\n}) => {\r\n  const [field] = useField({ ...props, name });\r\n  const [value, setValue] = useState(\r\n    moment(field.value).format(\"YYYY-MM-DDThh:mm\")\r\n  );\r\n  const handleChange = (e: any) => {\r\n    setFieldValue(name, moment(e.target.value).format(\"YYYY-MM-DD hh:mm:ss\"));\r\n    setValue(e.target.value);\r\n  };\r\n  return (\r\n    <div className=\"w-100\">\r\n      <Form.Group>\r\n        {label ? <Form.Label htmlFor={field.name}>{label}</Form.Label> : null}\r\n        {\r\n          <Form.Control\r\n            id={field.name}\r\n            value={value}\r\n            onChange={handleChange}\r\n            type=\"datetime-local\"\r\n          />\r\n        }\r\n        {error && <Form.Text className=\"text-danger\">{error}</Form.Text>}\r\n      </Form.Group>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DatePicker;\r\n","import React, { ChangeEvent, ElementType, InputHTMLAttributes } from \"react\";\r\nimport { useField } from \"formik\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\ntype InputFieldProps = InputHTMLAttributes<HTMLInputElement> & {\r\n  label?: string;\r\n  name: string;\r\n  as?: ElementType<any> | undefined;\r\n  error?: string;\r\n  isFile?: boolean;\r\n  setFieldValue?: (\r\n    field: string,\r\n    value: any,\r\n    shouldValidate?: boolean | undefined\r\n  ) => void;\r\n  selectData?: Array<any>;\r\n  selectValueKey?: any;\r\n  selectTitleKey?: string;\r\n};\r\n\r\n// '' => false\r\n// 'error message stuff' => true\r\n\r\nexport const InputField: React.FC<InputFieldProps> = ({\r\n  isFile,\r\n  error,\r\n  label,\r\n  as = \"input\",\r\n  setFieldValue,\r\n  size: _,\r\n  selectData,\r\n  selectValueKey,\r\n  selectTitleKey,\r\n  ...props\r\n}) => {\r\n  const [field] = useField(props);\r\n  // <Form.File\r\n  //     label=\"Choose File\"\r\n  //     custom {...field} {...props} id={field.name}\r\n  // /> :\r\n\r\n  return (\r\n    <div className=\"w-100\">\r\n      <Form.Group>\r\n        {label ? <Form.Label htmlFor={field.name}>{label}</Form.Label> : null}\r\n        {isFile ? (\r\n          <Form.File\r\n            id=\"custom-file\"\r\n            label=\"Choose file\"\r\n            custom\r\n            onChange={(e: ChangeEvent) => {\r\n              const input = (e.currentTarget as HTMLInputElement).files;\r\n              if (input && setFieldValue) {\r\n                setFieldValue(field.name, input[0]);\r\n              }\r\n            }}\r\n          />\r\n        ) : as === \"select\" ? (\r\n          <Form.Control {...field} id={field.name} as=\"select\">\r\n            <option value=\"\">{label}</option>\r\n            {selectData &&\r\n              selectData.map((data: any) => (\r\n                <option value={data[selectValueKey || \"id\"]}>\r\n                  {data[selectTitleKey || \"name\"]}\r\n                </option>\r\n              ))}\r\n          </Form.Control>\r\n        ) : (\r\n          <Form.Control {...field} {...props} id={field.name} as={as} />\r\n        )}\r\n        {error && <Form.Text className=\"text-danger\">{error}</Form.Text>}\r\n      </Form.Group>\r\n    </div>\r\n  );\r\n};\r\n","export interface AdType {\r\n    id: string;\r\n    name: string;\r\n}\r\nexport const types: Array<AdType> = [\r\n    { id: \"Trending\", name: \"Trending\" },\r\n    { id: \"Latest\", name: \"Latest\" },\r\n];\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport DatePicker from \"../../shared-components/DatePicker\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport { types } from \"./AdvertisementTypes\";\r\n\r\nconst key = \"banners\";\r\n\r\nconst createUpdataAdvertisement = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst AdvertisementCreateUpdateForm = () => {\r\n  const history = useHistory();\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataAdvertisement,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(\"banners/list\"), 500);\r\n        history.replace(\"/advertisements\");\r\n        if (id) return showMsgToast(\"Banner updated successfully\");\r\n        showMsgToast(\"Bannner created successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Banners\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={\r\n              apiData || {\r\n                valid_to: moment().format(\"YYYY-MM-DD hh:mm:ss\"),\r\n                valid_from: moment().format(\"YYYY-MM-DD hh:mm:ss\"),\r\n              }\r\n            }\r\n            onSubmit={(values) => {\r\n              const { image, ...rest } = values;\r\n              console.log({ values });\r\n              const formdata = new FormData();\r\n              for (let k in rest) formdata.append(k, rest[k]);\r\n              if (image) formdata.append(\"image\", values.image);\r\n\r\n              mutate({ formdata, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                {status === \"success\" && (\r\n                  <Alert variant=\"success\">\r\n                    {id\r\n                      ? \"Advertisement  updated successfully\"\r\n                      : \"Advertisement created successfully\"}\r\n                  </Alert>\r\n                )}\r\n                {error && (\r\n                  <Alert variant=\"danger\">{(error as Error).message}</Alert>\r\n                )}\r\n                <div className={`form-container  py-2 `}>\r\n                  <InputField name=\"name\" placeholder=\"Name\" label=\"Name\" />\r\n                  <InputField name=\"title\" placeholder=\"Title\" label=\"Title\" />\r\n\r\n                  <InputField\r\n                    name=\"deeplink\"\r\n                    placeholder=\"Deep Link\"\r\n                    label=\"Deep Link\"\r\n                  />\r\n                  <InputField\r\n                    type=\"number\"\r\n                    name=\"order\"\r\n                    placeholder=\"Order\"\r\n                    label=\"Order\"\r\n                  />\r\n\r\n                  <DatePicker\r\n                    name=\"valid_from\"\r\n                    label=\"Valid From\"\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                  <DatePicker\r\n                    name=\"valid_to\"\r\n                    label=\"Valid To\"\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                  <InputField\r\n                    name=\"image\"\r\n                    placeholder=\"image\"\r\n                    label=\"Image\"\r\n                    isFile\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                    name=\"is_active\"\r\n                    label=\"Is active?\"\r\n                    placeholder=\"Choose is active\"\r\n                  />\r\n                  <InputField\r\n                    name=\"type\"\r\n                    placeholder=\"Advertisement type\"\r\n                    label=\"Choose Type\"\r\n                    as=\"select\"\r\n                    selectData={types}\r\n                  />\r\n\r\n                  <InputField\r\n                    as=\"textarea\"\r\n                    name=\"description\"\r\n                    placeholder=\"Description\"\r\n                    label=\"Description\"\r\n                  />\r\n                  <InputField\r\n                    as=\"textarea\"\r\n                    name=\"terms\"\r\n                    placeholder=\"Terms\"\r\n                    label=\"Terms\"\r\n                  />\r\n                </div>\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AdvertisementCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  Modal,\r\n  Row,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { MdRemoveShoppingCart } from \"react-icons/md\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport Slots from \"../../shared-components/Slots\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport Calendar from \"react-awesome-calendar\";\r\nimport EventEmitter from \"events\";\r\nimport API from \"../../utils/API\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n// dummy event data\r\n\r\nconst key = \"disabled-slots\";\r\n\r\nconst deleteSlot = (id: any) => {\r\n  return API.delete(`${key}/${id}`);\r\n};\r\nconst intitialFilter = {\r\n  start: moment().startOf(\"month\").format(\"YYYY-MM-DD\"),\r\n  end: moment().endOf(\"month\").format(\"YYYY-MM-DD\"),\r\n};\r\n\r\nconst BookingSlots = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [deletePopup, setDeletePopup] = useState(false);\r\n  const [selectedRowId, setSelectedRowId] = useState<string>(\"\");\r\n  const [formattedDataForCalendar, setFormattedDataForCalendar] =\r\n    useState(null);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteSlot, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      setDeletePopup(false);\r\n      showMsgToast(\"Slot deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const formataData = () => {\r\n      const events = [];\r\n      if (isLoading) return;\r\n      if (!data) return;\r\n      // formatting data in the calendar accepted form\r\n      Object.values(data).map((items: Array<any>) => {\r\n        items.map((item) => {\r\n          const event = {\r\n            id: item.id,\r\n            from: moment(item.datetime).format(\"YYYY-MM-DDThh:mm:ss\"),\r\n            to: moment(item.datetime)\r\n              .add(1, \"hour\")\r\n              .format(\"YYYY-MM-DDThh:mm:ss\"),\r\n            title: `${item.reason} ${moment(item.datetime).format(\r\n              \"HH a\"\r\n            )}-${moment(item.datetime).add(1, \"hour\").format(\"HH a\")} `,\r\n            color: primaryColor,\r\n          };\r\n          events.push(event);\r\n        });\r\n      });\r\n      setFormattedDataForCalendar(events);\r\n    };\r\n\r\n    formataData();\r\n  }, [data, isLoading]);\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/booking-slots/create-edit\");\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Reason\",\r\n        accessor: \"reason\",\r\n      },\r\n      {\r\n        Header: \"Date\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) =>\r\n          moment(data.row.values.updated_at).format(\"DD-MM-YYYY\"),\r\n      },\r\n      {\r\n        Header: \"Slot\",\r\n        Cell: (data: Cell) =>\r\n          moment(data.row.values.updated_at).format(\"hh (hh+1) A\"),\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Booking Slots\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n      {/* <Container fluid className=\"p-0 my-2\">\r\n        <Row>\r\n          <Col md=\"auto\">\r\n            <Form>\r\n              <Form.Label className=\"text-muted\">Start Date</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                value={filter.start}\r\n                onChange={(e) => {\r\n                  const value = moment(e.target.value).format(\"YYYY-MM-DD\");\r\n                  _onFilterChange(\"start\", value);\r\n                }}\r\n                max={moment(filter.end).subtract(1, \"day\").format(\"YYYY-MM-DD\")}\r\n              />\r\n            </Form>\r\n          </Col>\r\n          <Col md=\"auto\">\r\n            <Form>\r\n              <Form.Label className=\"text-muted\">End Date</Form.Label>\r\n              <Form.Control\r\n                type=\"date\"\r\n                value={filter.end}\r\n                onChange={(e) => {\r\n                  const value = moment(e.target.value).format(\"YYYY-MM-DD\");\r\n                  _onFilterChange(\"end\", value);\r\n                }}\r\n              />\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container> */}\r\n      <hr />\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {Object.entries(data) && Object.entries(data).length ? (\r\n                <Calendar\r\n                  events={formattedDataForCalendar}\r\n                  onClickEvent={(event: any) => {\r\n                    //here event return the id of the slot\r\n                    setSelectedRowId(event);\r\n                    setDeletePopup(true);\r\n                  }}\r\n                />\r\n              ) : (\r\n                <Container\r\n                  fluid\r\n                  className=\"d-flex justify-content-center display-3\"\r\n                >\r\n                  <div className=\"d-flex flex-column align-items-center pt-3 pb-3\">\r\n                    <MdRemoveShoppingCart color=\"#000\" size={60} />\r\n                    <h4 className=\"text-black font-weight-bold mt-2\">\r\n                      No disabled slot found\r\n                    </h4>\r\n                  </div>\r\n                </Container>\r\n              )}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      <Modal show={deletePopup} onHide={() => setDeletePopup(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Are you sure?</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Do you really want to delete this disabled slot? This process cannot\r\n          be undone\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"bg-light\" onClick={() => setDeletePopup(false)}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRowId);\r\n            }}\r\n          >\r\n            {isDeleteLoading ? (\r\n              <Spinner animation=\"border\" size=\"sm\" />\r\n            ) : (\r\n              \"Delete\"\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookingSlots;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport DatePicker from \"../../shared-components/DatePicker\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showErrorToast } from \"../../utils/showErrorToast\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"disabled-slots\";\r\n\r\nconst createSlot = ({\r\n\tformdata,\r\n}: {\r\n\tformdata: any;\r\n}) => {\r\n\treturn API.post(`${key}`, formdata,);\r\n\r\n\r\n};\r\n\r\nconst SlotCreateUpdateForm = () => {\r\n\tconst { state } = useLocation()\r\n\tconst history = useHistory()\r\n\tconst id = state ? (state as any).id : null;\r\n\tuseEffect(() => {\r\n\t\tbsCustomFileInput.init();\r\n\t}, []);\r\n\tconst { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n\tconst { mutate, isLoading } = useMutation(createSlot, {\r\n\t\tonSuccess: () => {\r\n\t\t\tsetTimeout(() => queryClient.invalidateQueries(key), 500);\r\n\t\t\thistory.replace(\"/booking-slots\")\r\n\t\t\tshowMsgToast(\"Slot has been  disabled successfully\")\r\n\t\t},\r\n\t\tonError: (error: AxiosError) => {\r\n\t\t\thandleApiError(error, history)\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tconst apiData = data as any;\r\n\r\n\tif (dataLoading) return <IsLoading />;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<BackButton title=\"Booking Slots\" />\r\n\t\t\t<Row className=\"rounded\">\r\n\t\t\t\t<Col className=\"mx-auto\">\r\n\t\t\t\t\t<Formik\r\n\t\t\t\t\t\tinitialValues={apiData || {}}\r\n\r\n\t\t\t\t\t\tonSubmit={(values) => {\r\n\r\n\t\t\t\t\t\t\tconst formdata = {\r\n\t\t\t\t\t\t\t\treason: values.reason,\r\n\t\t\t\t\t\t\t\tdatetime: moment(values.datetime).format(\"YYYY-MM-DD hh:mm:ss\")\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconsole.log({ formdata })\r\n\t\t\t\t\t\t\tmutate({ formdata });\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{({ setFieldValue }) => (\r\n\t\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t\t<div className=\"form-container \">\r\n\t\t\t\t\t\t\t\t\t<InputField\r\n\t\t\t\t\t\t\t\t\t\tname=\"reason\"\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Reason\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Reason\"\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<DatePicker\r\n\t\t\t\t\t\t\t\t\t\tname=\"datetime\"\r\n\t\t\t\t\t\t\t\t\t\tsetFieldValue={setFieldValue}\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Date Time\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<Row className=\"d-flex justify-content-start\">\r\n\t\t\t\t\t\t\t\t\t<Col md=\"2\">\r\n\t\t\t\t\t\t\t\t\t\t<Button type=\"submit\" disabled={isLoading} className=\"w-100\">\r\n\t\t\t\t\t\t\t\t\t\t\t{isLoading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Spinner animation=\"border\" size=\"sm\" />\r\n\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"Submit\"\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Formik>\r\n\t\t\t\t</Col>\r\n\t\t\t</Row>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default SlotCreateUpdateForm;\r\n","import React from \"react\";\r\nimport { baseUploadUrl } from \"../utils/constants\";\r\n\r\ninterface Props {\r\n  folder: string;\r\n  file: string;\r\n}\r\n\r\nconst TableImage = ({ file, folder }: Props) => {\r\n  if (!file) return <p className=\"text-muted text-center m-0\">NA</p>;\r\n  return (\r\n    <div className=\"table-image\">\r\n      <img src={`${baseUploadUrl}${folder}/${file}`} alt={file} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TableImage;\r\n","export function areTwoObjEqual(x, y) {\r\n\tif (x === y) return true;\r\n\t// if both x and y are null or undefined and exactly the same\r\n\r\n\tif (!(x instanceof Object) || !(y instanceof Object)) return false;\r\n\t// if they are not strictly equal, they both need to be Objects\r\n\r\n\tif (x.constructor !== y.constructor) return false;\r\n\t// they must have the exact same prototype chain, the closest we can do is\r\n\t// test there constructor.\r\n\r\n\tfor (var p in x) {\r\n\t\tif (!x.hasOwnProperty(p)) continue;\r\n\t\t// other properties were tested using x.constructor === y.constructor\r\n\r\n\t\tif (!y.hasOwnProperty(p)) return false;\r\n\t\t// allows to compare x[ p ] and y[ p ] when set to undefined\r\n\r\n\t\tif (x[p] === y[p]) continue;\r\n\t\t// if they have the same strict value or identity then they are equal\r\n\r\n\t\tif (typeof (x[p]) !== \"object\") return false;\r\n\t\t// Numbers, Strings, Functions, Booleans must be strictly equal\r\n\r\n\t\tif (!areTwoObjEqual(x[p], y[p])) return false;\r\n\t\t// Objects and Arrays must be tested recursively\r\n\t}\r\n\r\n\tfor (p in y)\r\n\t\tif (y.hasOwnProperty(p) && !x.hasOwnProperty(p))\r\n\t\t\treturn false;\r\n\t// allows x[ p ] to be set to undefined\r\n\r\n\treturn true;\r\n}\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"brand-models\";\r\n\r\nconst deleteBrandModels = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  active: \"\",\r\n  brand_id: \"\",\r\n};\r\n\r\nconst BrandModels = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const [page, setPage] = useState<number>(1);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { data: Brands, isLoading: isBrandsLoading } = useQuery<any>([\r\n    \"brands\",\r\n  ]);\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(\r\n    deleteBrandModels,\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries(key);\r\n        showMsgToast(\"Brand Model deleted successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/brand-models/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/brand-models/create-edit\", { id });\r\n  };\r\n\r\n  const _onUrlClick = (data: Cell) => {\r\n    window.open(clientWebUrl);\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Image\",\r\n        accessor: \"image\",\r\n        Cell: (data: Cell) => (\r\n          <TableImage folder=\"brand-models\" file={data.row.values.image} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Url\",\r\n        accessor: \"url\",\r\n        Cell: (data: Cell) => (\r\n          <p\r\n            className=\"text-primary m-0\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => _onUrlClick(data)}\r\n          >\r\n            {data.row.values.url}\r\n          </p>\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Brand\",\r\n        accessor: \"brand.name\",\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Brand Models\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Not Active\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.brand_id}\r\n                          data={!isBrandsLoading && Brands.data}\r\n                          label=\"Brands\"\r\n                          idx=\"brand_id\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((m) => m.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrandModels;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"brand-models\";\r\n\r\nconst createUpdataBrand = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst BrandModlesCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n\r\n  const { data: brands, isLoading: isBrandLoading } = useQuery<any>([\"brands\"]);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/brand-models\");\r\n      if (id) return showMsgToast(\"Brand Model updated successfully\");\r\n      showMsgToast(\"Brand Model created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Brands Model\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={apiData || { is_active: \"1\" }}\r\n            onSubmit={(values) => {\r\n              const formdata = new FormData();\r\n              const { image, ...rest } = values;\r\n              for (let k in rest) formdata.append(k, rest[k]);\r\n              if (values.image && typeof values.image !== \"string\")\r\n                formdata.append(\"image\", values.image);\r\n\r\n              mutate({ formdata, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                <div className={`form-container  py-2 `}>\r\n                  <InputField\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    label=\"Name\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    name=\"url\"\r\n                    placeholder=\"Url\"\r\n                    label=\"Url\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    name=\"image\"\r\n                    placeholder=\"image\"\r\n                    label=\"Choose Brand Model Image\"\r\n                    isFile\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                  <InputField\r\n                    name=\"brand_id\"\r\n                    placeholder=\"Brand\"\r\n                    label=\"Choose Brand\"\r\n                    as=\"select\"\r\n                    selectData={!isBrandLoading && brands.data}\r\n                  />\r\n\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                    name=\"is_active\"\r\n                    label=\"Is active?\"\r\n                    placeholder=\"Choose is active\"\r\n                  />\r\n                </div>\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrandModlesCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport TableLink from \"../../shared-components/TableLink\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"brands\";\r\n\r\nconst deleteBrand = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst intitialFilter = {\r\n  active: \"\",\r\n  q: \"\",\r\n  page: 1,\r\n  perPage: 25,\r\n};\r\n\r\nconst Brands = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log({ filter });\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteBrand, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Brands deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/brands/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/brands/create-edit\", { id });\r\n  };\r\n  const _onUrlClick = (data: Cell) => {\r\n    window.open(clientWebUrl);\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Logo\",\r\n        accessor: \"logo\",\r\n        Cell: (data: Cell) => (\r\n          <TableImage folder=\"brands\" file={data.row.values.logo} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Url\",\r\n        accessor: \"url\",\r\n        Cell: (data: Cell) => (\r\n          <p\r\n            className=\"text-primary m-0\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => _onUrlClick(data)}\r\n          >\r\n            {data.row.values.url}\r\n          </p>\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Brands\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Not Active\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data?.data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Brands;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"brands\";\r\n\r\nconst createUpdataBrand = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst BrandsCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/brands\");\r\n      if (id) return showMsgToast(\"Brand updated successfully\");\r\n      showMsgToast(\"Brands created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Add brand\" />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={apiData || { is_active: \"1\" }}\r\n              onSubmit={(values) => {\r\n                const { logo, ...rest } = values;\r\n                const formdata = new FormData();\r\n                for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n                if (logo && typeof logo !== \"string\")\r\n                  formdata.append(\"logo\", logo);\r\n\r\n                mutate({ formdata, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <InputField\r\n                      name=\"name\"\r\n                      placeholder=\"Name\"\r\n                      label=\"Name\"\r\n                      required\r\n                    />\r\n\r\n                    <InputField\r\n                      name=\"url\"\r\n                      placeholder=\"Url\"\r\n                      label=\"Url\"\r\n                      required\r\n                    />\r\n                    <InputField\r\n                      name=\"logo\"\r\n                      placeholder=\"logo\"\r\n                      label=\"Choose Brand Logo\"\r\n                      isFile\r\n                      setFieldValue={setFieldValue}\r\n                    />\r\n\r\n                    <InputField\r\n                      as=\"select\"\r\n                      selectData={isActiveArray}\r\n                      name=\"is_active\"\r\n                      label=\"Is active?\"\r\n                      placeholder=\"Choose is active\"\r\n                    />\r\n                  </div>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BrandsCreateUpdateForm;\r\n","import create from \"zustand\";\r\nimport { persist, combine } from \"zustand/middleware\";\r\nimport { LocalStorageKey } from \"../utils/constants\";\r\n\r\ninterface IFilter {\r\n  status: string | null;\r\n  user_id: string | null;\r\n  agent_id: string | null;\r\n  order_type: string | null;\r\n}\r\nexport const INITIAL_FILTER: IFilter = {\r\n  status: \"\",\r\n  user_id: \"\",\r\n  agent_id: \"\",\r\n  order_type: \"\",\r\n};\r\n\r\nlet store = combine({ filter: INITIAL_FILTER }, (set) => ({\r\n  onFilterChange: (idx: string, value: any) =>\r\n    set((state) => ({ ...state, filter: { ...state.filter, [idx]: value } })),\r\n  resetFilter: () => set((state) => ({ filter: INITIAL_FILTER })),\r\n}));\r\n\r\nstore = persist(store, { name: LocalStorageKey + \"order_filter\" });\r\n\r\nconst useOrderStoreFilter = create(store);\r\n\r\nexport default useOrderStoreFilter;\r\n","import React from \"react\";\r\n\r\ninterface Props {\r\n  onClick: (id) => void;\r\n  id: string | number;\r\n  title: string;\r\n}\r\n\r\nconst TableLink = (props: Props) => {\r\n  if (!props.id) return <p className=\"text-muted m-0\">NA</p>;\r\n  return (\r\n    <p\r\n      className=\"text-primary m-0\"\r\n      style={{ cursor: \"pointer\" }}\r\n      onClick={() => props.onClick(props.id)}\r\n    >\r\n      {props.title || props.id}\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default TableLink;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useOrderStoreFilter, {\r\n  INITIAL_FILTER,\r\n} from \"../../hooks/useOrderFilterStore\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableLink from \"../../shared-components/TableLink\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { OrderType } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\n// import UpdateCreateForm from \"./FaqsCreateUpdateForm\"\r\n\r\nconst key = \"bookings\";\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  created_at: \"\",\r\n  inside_cart: \"1\",\r\n};\r\nconst InsideCart = () => {\r\n  const history = useHistory();\r\n  const [page, setPage] = useState<number>(1);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [localFilter, setFilter] = useState(intitialFilter);\r\n  const filter = useOrderStoreFilter((state) => state.filter);\r\n  const onFilterChange = useOrderStoreFilter((state) => state.onFilterChange);\r\n  const resetFilter = useOrderStoreFilter((state) => state.resetFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , { ...filter, ...localFilter }],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const { data: Customers, isLoading: isCustomerLoading } = useQuery<any>(\r\n    [\r\n      \"users\",\r\n      1,\r\n      {\r\n        role: \"customer\",\r\n      },\r\n    ],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const Status = ({ status }: { status: string }) => {\r\n    const setVairant = () => {\r\n      if (status === \"cancelled\" || status === \"error_payment\") return \"danger\";\r\n\r\n      if (status === \"pending\" || status === \"pending_payment\")\r\n        return \"warning\";\r\n\r\n      return \"success\";\r\n    };\r\n    return <CustomBadge variant={setVairant()} title={status} />;\r\n  };\r\n\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n  const _onOrderClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(`/orders/${id}`);\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Ref Id\",\r\n        accessor: \"ref_id\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <TableLink\r\n              onClick={_onOrderClick}\r\n              id={data.row.values.id}\r\n              title={data.row.values[\"ref_id\"]}\r\n            />\r\n          );\r\n        },\r\n        //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Customer\",\r\n        accessor: \"user.name\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <TableLink\r\n              onClick={_onUserClick}\r\n              id={(data.row.original as any).user_id}\r\n              title={data.row.values[\"user.name\"]}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Order Type\",\r\n        accessor: \"order_type\",\r\n        Cell: (data: Cell) => <Status status={data.row.values.order_type} />,\r\n      },\r\n      {\r\n        Header: \"Order Status\",\r\n        accessor: \"status\",\r\n        Cell: (data: Cell) => <Status status={data.row.values.status} />,\r\n      },\r\n      {\r\n        Header: \"Scheduled At\",\r\n        accessor: \"scheduled_at\",\r\n        Cell: (data: Cell) => (\r\n          <CreatedUpdatedAt date={data.row.values.scheduled_at} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Inside Cart\",\r\n        accessor: \"inside_cart\",\r\n      },\r\n      {\r\n        Header: \"Paid Amount\",\r\n        accessor: \"payable_amount\",\r\n      },\r\n      {\r\n        Header: \"Rating\",\r\n        accessor: \"rating\",\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => (\r\n          <CreatedUpdatedAt date={data.row.values.created_at} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <div className=\"d-flex\">\r\n              <Button\r\n                onClick={() => history.push(`/orders/${data.row.values.id}`)}\r\n              >\r\n                View\r\n              </Button>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Inside Cart\" totalRecords={data?.total} />\r\n\r\n      {/* {(!isLoading || !isFetching) && (\r\n        <div className=\"filter mb-4\">\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"All\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"success\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Success\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"pending\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Pending\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"error_payment\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Payment Errors\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"failed\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Failed\"\r\n            isLast\r\n          />\r\n        </div>\r\n      )} */}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          <>\r\n            {isLoading ? (\r\n              <IsLoading />\r\n            ) : (\r\n              <>\r\n                {!error && (\r\n                  <>\r\n                    <Container className=\"pt-2\">\r\n                      <Row className=\"select-filter d-flex\">\r\n                        <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.user_id}\r\n                            data={!isCustomerLoading && Customers.data}\r\n                            label=\"Customer\"\r\n                            idx=\"user_id\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col>\r\n                        <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.order_type}\r\n                            data={OrderType}\r\n                            label=\"Order Type\"\r\n                            idx=\"order_type\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col>\r\n                        {/* <Col md=\"auto\">\r\n                          <Form.Group>\r\n                            <Form.Label className=\"text-muted\">\r\n                              Ordered At\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                              type=\"date\"\r\n                              value={localFilter.created_at}\r\n                              onChange={(e) => {\r\n                                const value = moment(e.target.value).format(\r\n                                  \"YYYY-MM-DD\"\r\n                                );\r\n                                _onFilterChange(\"created_at\", value);\r\n                              }}\r\n                              style={{\r\n                                fontSize: 14,\r\n                                width: 150,\r\n                                height: 35,\r\n                              }}\r\n                            />\r\n                          </Form.Group>\r\n                        </Col> */}\r\n\r\n                        <Col\r\n                          md=\"auto\"\r\n                          className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                        >\r\n                          <Button\r\n                            onClick={() => {\r\n                              resetFilter();\r\n\r\n                              setFilter(intitialFilter);\r\n                            }}\r\n                            variant={\r\n                              areTwoObjEqual(\r\n                                { ...intitialFilter, ...INITIAL_FILTER },\r\n                                { ...localFilter, ...filter }\r\n                              )\r\n                                ? \"light\"\r\n                                : \"primary\"\r\n                            }\r\n                            style={{\r\n                              // backgroundColor: \"#eee\",\r\n                              fontSize: 14,\r\n                            }}\r\n                          >\r\n                            Reset Filters\r\n                          </Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </Container>\r\n                    <hr />\r\n                    <ReactTable\r\n                      data={data.data}\r\n                      columns={columns}\r\n                      setSelectedRows={setSelectedRows}\r\n                      filter={filter}\r\n                      onFilterChange={_onFilterChange}\r\n                      isDataLoading={isFetching}\r\n                      isSelectable={false}\r\n                    />\r\n                  </>\r\n                )}\r\n                {!error && data?.data?.length > 0 ? (\r\n                  <TablePagination\r\n                    currentPage={data?.current_page}\r\n                    lastPage={data?.last_page}\r\n                    setPage={_onFilterChange}\r\n                    hasNextPage={!!data?.next_page_url}\r\n                    hasPrevPage={!!data?.prev_page_url}\r\n                  />\r\n                ) : null}{\" \"}\r\n              </>\r\n            )}\r\n          </>\r\n        </Container>\r\n      </Container>\r\n      {/* {selectedRows.length > 0 && (\r\n        <div className=\"delete-button \">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button variant=\"danger\">Delete</Button>\r\n        </div>\r\n      )} */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default InsideCart;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Modal, Row, Spinner } from \"react-bootstrap\";\r\nimport Switch from \"react-switch\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell, TableState } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  clientWebUrl,\r\n  primaryColor,\r\n  secondaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showErrorToast } from \"../../utils/showErrorToast\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"categories\";\r\n\r\nconst deleteCategories = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst updateOrder = async (id: string, destinationIndex: any, row: any) => {\r\n  const finalIn = (parseInt(destinationIndex) + 1).toString();\r\n  const formdata = new FormData();\r\n  for (let k in row) formdata.append(k, row[k]);\r\n  formdata.append(\"order\", finalIn);\r\n\r\n  try {\r\n    const { data } = await API.post(`${key}/${id}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n\r\n    if (data) {\r\n      showMsgToast(\"Successfully updated order\");\r\n      queryClient.invalidateQueries(key);\r\n    }\r\n  } catch (error) {\r\n    showErrorToast(error.message);\r\n  }\r\n};\r\n\r\nconst initialTableState: Partial<TableState<object>> = {\r\n  sortBy: [\r\n    {\r\n      id: \"order\",\r\n      desc: false,\r\n    },\r\n  ],\r\n};\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  active: \"\",\r\n};\r\n\r\nconst Categories = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const [isDraggable, setIsDraggable] = useState(false);\r\n  const handleChange = (nextChecked) => {\r\n    setIsDraggable(nextChecked);\r\n  };\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteCategories, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Categories deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/categories/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/categories/create-edit\", { id });\r\n  };\r\n  const _onUrlClick = (data: Cell) => {\r\n    window.open(clientWebUrl);\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Url\",\r\n        accessor: \"url\",\r\n        Cell: (data: Cell) => (\r\n          <p\r\n            className=\"text-primary m-0\"\r\n            style={{ cursor: \"pointer\" }}\r\n            onClick={() => _onUrlClick(data)}\r\n          >\r\n            {data.row.values.url}\r\n          </p>\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Order\",\r\n        accessor: \"order\",\r\n        isSortedDesc: true,\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Categories\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div className=\"d-flex align-items-center justify-content-between w-100\">\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Not Active\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      {/* <Col md=\"auto\">\r\n                        <div className=\" d-flex align-items-center \"\r\n                          style={{\r\n                            height: 30\r\n                          }}\r\n                        >\r\n                          <span className=\"text-muted mr-2\">IsDraggable?</span>\r\n                          <Switch\r\n                            checked={isDraggable}\r\n                            onChange={handleChange}\r\n                            className=\"react-switch\"\r\n                            onColor={primaryColor}\r\n                            uncheckedIcon={false}\r\n                            checkedIcon={false}\r\n                            height={20}\r\n                          />\r\n\r\n                        </div>\r\n                      </Col> */}\r\n                      {/* <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center  justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant=\"light\"\r\n\r\n                          style={{\r\n                            backgroundColor: \"#eee\",\r\n                            fontSize: 14,\r\n                          }}\r\n\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col> */}\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                    isDraggable={isDraggable}\r\n                    updateOrder={updateOrder}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Categories;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"categories\";\r\n\r\nconst createUpdataCategories = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst CategoriesCreateUpdateForm = () => {\r\n  const history = useHistory()\r\n  const { state } = useLocation()\r\n  const id = state ? (state as any).id : null\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataCategories,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n        history.replace(\"/categories\")\r\n        if (id) return showMsgToast(\"Category  updated successfully\")\r\n        showMsgToast(\"Categoryj  created successfully\")\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history)\r\n      }\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Categories\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={apiData || {}}\r\n            onSubmit={(values) => {\r\n              const formdata = new FormData()\r\n              formdata.append(\"name\", values.name);\r\n              formdata.append(\"url\", values.url);\r\n              formdata.append(\"order\", values.order);\r\n              formdata.append(\"is_active\", values.is_active);\r\n              if (values.logo && typeof values.logo !== \"string\")\r\n                formdata.append(\"logo\", values.logo);\r\n\r\n              mutate({ formdata, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form className=\"w-100\">\r\n                <div className=\"form-container py-2\">\r\n                  <InputField\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    label=\"Name\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    name=\"url\"\r\n                    placeholder=\"Url\"\r\n                    label=\"Url\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    name=\"order\"\r\n                    placeholder=\"order\"\r\n                    label=\"order\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField as=\"select\" selectData={isActiveArray} name=\"is_active\" label=\"Is active?\" placeholder=\"Choose is active\" />\r\n                </div>\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button type=\"submit\" disabled={isLoading} className=\"w-100\">\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CategoriesCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"cities\";\r\n\r\nconst deleteCities = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: 1,\r\n  perPage: 25,\r\n};\r\n\r\nconst Cities = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteCities, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Cities deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/cities/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/cities/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"State\",\r\n        accessor: \"state\",\r\n      },\r\n      {\r\n        Header: \"Lat\",\r\n        accessor: \"lat\",\r\n      },\r\n      {\r\n        Header: \"Lng\",\r\n        accessor: \"lng\",\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Serviceable Cities\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data?.data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cities;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"cities\";\r\n\r\nconst createUpdataBrand = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst CitiesCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/cities\");\r\n      if (id) return showMsgToast(\"City updated successfully\");\r\n      showMsgToast(\"City created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const title = id ? \"Update City\" : \"Add City\";\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title={title} />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={apiData || {}}\r\n              onSubmit={(values) => {\r\n                const { logo, ...rest } = values;\r\n                const formdata = new FormData();\r\n                for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n                if (logo && typeof logo !== \"string\")\r\n                  formdata.append(\"logo\", logo);\r\n\r\n                mutate({ formdata, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <InputField\r\n                      name=\"name\"\r\n                      placeholder=\"Name\"\r\n                      label=\"Name\"\r\n                      required\r\n                    />\r\n\r\n                    <InputField\r\n                      name=\"state\"\r\n                      placeholder=\"State\"\r\n                      label=\"State\"\r\n                      required\r\n                    />\r\n                    <InputField\r\n                      name=\"lat\"\r\n                      placeholder=\"Latitude\"\r\n                      label=\"Latitude\"\r\n                      required\r\n                    />\r\n                    <InputField\r\n                      name=\"lng\"\r\n                      placeholder=\"Longitude\"\r\n                      label=\"Longitude\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CitiesCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Row } from \"react-bootstrap\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { Switch, useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { conditionType, isActiveArray } from \"../../utils/arrays\";\r\nimport { primaryColor, secondaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"coupons\";\r\n\r\nconst deleteCoupons = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  active: \"\",\r\n  condition_type: \"\",\r\n};\r\n\r\nconst Coupons = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log({ filter });\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteCoupons, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Coupons deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/coupons/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/coupons/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Title\",\r\n        accessor: \"title\",\r\n      },\r\n      {\r\n        Header: \"Coupon Code\",\r\n        accessor: \"coupon_code\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <CustomBadge\r\n              title={data.row.values.coupon_code}\r\n              variant=\"primary\"\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Condition\",\r\n        accessor: \"condition\",\r\n      },\r\n      {\r\n        Header: \"Conditioin Type\",\r\n        accessor: \"condition_type\",\r\n      },\r\n      {\r\n        Header: \"Valid From\",\r\n        accessor: \"valid_from\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.valid_from} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Valid To\",\r\n        accessor: \"valid_to\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.valid_to} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Coupons\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Not Active\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.condition_type}\r\n                          data={conditionType}\r\n                          label=\"Condition Type\"\r\n                          idx=\"condition_type\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Coupons;\r\n","import React, { useState } from 'react'\r\nimport BraftEditor from 'braft-editor'\r\nimport { useField } from 'formik'\r\nimport { Container } from 'react-bootstrap';\r\ninterface Props {\r\n    label: string;\r\n    name: string;\r\n    setFieldValue: (field: string, value: any, shouldValidate?: boolean | undefined) => void,\r\n}\r\n\r\nconst TextEditor = ({\r\n    name, label, setFieldValue, ...props\r\n}: Props) => {\r\n\r\n    const [field] = useField({ name, ...props });\r\n    const [value, setValue] = useState(BraftEditor.createEditorState(field.value))\r\n    const handleChange = (editorState: any) => {\r\n        setFieldValue(name, editorState.toHTML())\r\n        setValue(editorState)\r\n    }\r\n    return (\r\n        <Container fluid className=\"p-0\"\r\n            style={{ height: \"400px\", zIndex: -1 }}\r\n        >\r\n            <span className=\"text-black \" style={{ fontWeight: 500 }}>{label}</span>\r\n            <div className=\"mx-auto\">\r\n\r\n                <BraftEditor\r\n                    value={value}\r\n                    onChange={handleChange}\r\n                    language=\"en\"\r\n                    style={{ height: \"100%\", zIndex: 0 }}\r\n                />\r\n            </div>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default TextEditor\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport DatePicker from \"../../shared-components/DatePicker\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { conditionType, isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nconst key = \"coupons\";\r\n\r\nconst createUpdataCoupons = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: any;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"applicatioin/json\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst CouponCreateUpdateForm = () => {\r\n  const history = useHistory();\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataCoupons,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n        history.replace(\"/coupons\");\r\n        if (id) return showMsgToast(\"Brand updated successfully\");\r\n        showMsgToast(\"Brands created successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  console.log(\"apiData\", apiData);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Coupons\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={\r\n              apiData || {\r\n                valid_to: moment().format(\"YYYY-MM-DD hh:mm:ss\"),\r\n                valid_from: moment().format(\"YYYY-MM-DD hh:mm:ss\"),\r\n              }\r\n            }\r\n            onSubmit={(values) => {\r\n              mutate({ formdata: values, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                <div className=\"form-container  py-2 \">\r\n                  <InputField\r\n                    name=\"title\"\r\n                    placeholder=\"Title\"\r\n                    label=\"Title\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    name=\"coupon_code\"\r\n                    placeholder=\"Coupon Code\"\r\n                    label=\"Coupon Code\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    type=\"number\"\r\n                    name=\"condition\"\r\n                    placeholder=\"Condition\"\r\n                    label=\"Condition\"\r\n                    required\r\n                  />\r\n                  <DatePicker\r\n                    name=\"valid_from\"\r\n                    label=\"Valid From\"\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                  <DatePicker\r\n                    name=\"valid_to\"\r\n                    label=\"Valid To\"\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                    name=\"is_active\"\r\n                    label=\"Is active?\"\r\n                    placeholder=\"Choose is active\"\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={conditionType}\r\n                    name=\"condition_type\"\r\n                    label=\"Condition Type\"\r\n                    placeholder=\"Condition Type\"\r\n                  />\r\n                </div>\r\n                <TextEditor\r\n                  name=\"description\"\r\n                  label=\"Description\"\r\n                  setFieldValue={setFieldValue}\r\n                />\r\n\r\n                <TextEditor\r\n                  name=\"terms\"\r\n                  label=\"Terms\"\r\n                  setFieldValue={setFieldValue}\r\n                />\r\n                <Row className=\"d-flex justify-content-center\">\r\n                  <Col md=\"6\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CouponCreateUpdateForm;\r\n","import React from \"react\";\r\nimport {\r\n  Area,\r\n  AreaChart,\r\n  Bar,\r\n  BarChart,\r\n  Legend,\r\n  Line,\r\n  LineChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from \"recharts\";\r\nimport { primaryColor, secondaryColor } from \"../../utils/constants\";\r\n\r\nconst data = [\r\n  {\r\n    name: \"Data A\",\r\n    data1: 4000,\r\n    data2: 2400,\r\n    data3: 2400,\r\n  },\r\n  {\r\n    name: \"Data B\",\r\n    data1: 3000,\r\n    data2: 1398,\r\n    data3: 2210,\r\n  },\r\n  {\r\n    name: \"Data C\",\r\n    data1: 2000,\r\n    data2: 9800,\r\n    data3: 2290,\r\n  },\r\n  {\r\n    name: \"Data D\",\r\n    data1: 2780,\r\n    data2: 3908,\r\n    data3: 2000,\r\n  },\r\n];\r\n\r\nconst ChartLine = () => {\r\n  return (\r\n    <ResponsiveContainer>\r\n      <LineChart\r\n        width={\"100%\"}\r\n        height={300}\r\n        data={data}\r\n        margin={{ top: 10, right: 30, left: 0, bottom: 0 }}\r\n      >\r\n        {/* <CartesianGrid str /> */}\r\n        <XAxis\r\n          dataKey=\"name\"\r\n          tickLine={false}\r\n          padding={{ left: 20, right: 20 }}\r\n        />\r\n        <YAxis tickLine={false} axisLine={false} />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Line\r\n          type=\"monotone\"\r\n          dataKey=\"data2\"\r\n          stroke={primaryColor}\r\n          activeDot={{ r: 8 }}\r\n        />\r\n        {/* <Line type=\"monotone\" dataKey=\"data1\" stroke=\"#00ff00\" />\r\n                <Line type=\"monotone\" dataKey=\"data3\" stroke=\"#0000ff\" /> */}\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\nconst BookingLineChart = ({ data, xAxisDataKey, dataKey }) => {\r\n  return (\r\n    <ResponsiveContainer>\r\n      <LineChart\r\n        width={\"100%\"}\r\n        height={300}\r\n        data={data}\r\n        margin={{ top: 10, right: 30, left: 0, bottom: 0 }}\r\n      >\r\n        {/* <CartesianGrid str /> */}\r\n        <XAxis\r\n          dataKey={xAxisDataKey}\r\n          tickLine={false}\r\n          padding={{ left: 20, right: 20 }}\r\n        />\r\n        <YAxis tickLine={false} axisLine={false} />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Line\r\n          type=\"monotone\"\r\n          dataKey={dataKey}\r\n          stroke={primaryColor}\r\n          activeDot={{ r: 8 }}\r\n        />\r\n        {/* <Line type=\"monotone\" dataKey=\"data1\" stroke=\"#00ff00\" />\r\n                <Line type=\"monotone\" dataKey=\"data3\" stroke=\"#0000ff\" /> */}\r\n      </LineChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nconst ChartArea = () => {\r\n  return (\r\n    <ResponsiveContainer>\r\n      <AreaChart\r\n        width={\"100%\"}\r\n        height={300}\r\n        data={data}\r\n        margin={{ top: 10, right: 30, left: 0, bottom: 0 }}\r\n      >\r\n        <defs>\r\n          <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n            <stop offset=\"5%\" stopColor={secondaryColor} stopOpacity={0.8} />\r\n            <stop offset=\"95%\" stopColor={secondaryColor} stopOpacity={0} />\r\n          </linearGradient>\r\n          {/* <linearGradient id=\"colorPv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                        <stop offset=\"5%\" stopColor=\"#82ca9d\" stopOpacity={0.8} />\r\n                        <stop offset=\"95%\" stopColor=\"#82ca9d\" stopOpacity={0} />\r\n                    </linearGradient> */}\r\n        </defs>\r\n        <XAxis\r\n          dataKey=\"name\"\r\n          tickLine={false}\r\n          padding={{ left: 20, right: 20 }}\r\n        />\r\n        <YAxis tickLine={false} axisLine={false} />\r\n        {/* <CartesianGrid strokeDasharray=\"1 1\" /> */}\r\n        <Tooltip />\r\n        <Legend />\r\n        <Area\r\n          type=\"monotone\"\r\n          dataKey=\"data2\"\r\n          stroke={secondaryColor}\r\n          fillOpacity={1}\r\n          fill=\"url(#colorUv)\"\r\n        />\r\n        {/* <Area type=\"monotone\" dataKey=\"data2\" stroke=\"#82ca9d\" fillOpacity={1} fill=\"url(#colorPv)\" /> */}\r\n      </AreaChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\n\r\nconst ChartBar = () => {\r\n  return (\r\n    <ResponsiveContainer>\r\n      <BarChart width={\"100%\"} height={300} data={data}>\r\n        {/* <CartesianGrid strokeDasharray=\"3 3\" /> */}\r\n        <XAxis\r\n          dataKey=\"name\"\r\n          tickLine={false}\r\n          padding={{ left: 20, right: 20 }}\r\n        />\r\n        <YAxis axisLine={false} />\r\n        <Tooltip />\r\n        <Legend />\r\n        <Bar dataKey=\"data1\" fill={primaryColor} />\r\n        <Bar dataKey=\"data2\" fill={secondaryColor} />\r\n      </BarChart>\r\n    </ResponsiveContainer>\r\n  );\r\n};\r\nexport { ChartLine, ChartArea, ChartBar, BookingLineChart };\r\n","import { AxiosError } from \"axios\";\r\nimport moment, { Moment } from \"moment\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Container, Form } from \"react-bootstrap\";\r\nimport { DateRangePicker, FocusedInputShape } from \"react-dates\";\r\nimport \"react-dates/initialize\";\r\nimport { AiOutlineArrowUp } from \"react-icons/ai\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { BsCalendar } from \"react-icons/bs\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { BookingLineChart, ChartArea, ChartBar, ChartLine } from \"./Chart\";\r\n\r\ninterface IDates {\r\n  start_date: Moment;\r\n  end_date: Moment;\r\n  focusedInput: FocusedInputShape | null;\r\n}\r\n\r\nconst returnPercentage = (newData: number, lastTotal: number) => {\r\n  if (newData === 0 && lastTotal === 0) return 0;\r\n  const p = newData / (lastTotal + newData);\r\n  return (p * 100).toFixed(1);\r\n};\r\n\r\nconst bookingFilter = {\r\n  datefrom: moment().startOf(\"month\").format(\"YYYY-MM-DD\"),\r\n  dateto: moment().endOf(\"month\").format(\"YYYY-MM-DD\"),\r\n  duration: \"month\",\r\n};\r\n\r\nconst Dashboard = () => {\r\n  const history = useHistory();\r\n  const [filter, setFilter] = useState(bookingFilter);\r\n  const [focusedInput, setFocusInput] = useState<FocusedInputShape | null>(\r\n    null\r\n  );\r\n  const [currentTime, setCurrentTime] = useState(moment().format(\"hh:mm a\"));\r\n  const { data, isLoading, isFetching } = useQuery<any>(\r\n    [\"analytics\", , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const { data: BookingAnalytics, isLoading: isBookingAnalyticsLoading } =\r\n    useQuery<any>([\"bookingAnalytics\", , filter], {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    });\r\n\r\n  const _onFilterChange = (idx: any, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const _changeCurrentTime = () => {\r\n    setCurrentTime(moment().format(\"hh:mm a\"));\r\n  };\r\n\r\n  useEffect(() => {\r\n    setInterval(() => _changeCurrentTime(), 1000);\r\n  }, []);\r\n\r\n  if (isLoading) return <IsLoading />;\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Container fluid className=\"component-wrapper px-0 py-2\">\r\n        <div className=\"card\">\r\n          <div className=\"card-content d-flex align-items-center justify-content-between\">\r\n            <Container\r\n              fluid\r\n              className=\"d-flex align-items-center justify-content-start\"\r\n            >\r\n              <div>\r\n                <BsCalendar color={primaryColor} size={24} className=\"mr-3\" />\r\n              </div>\r\n              <DateRangePicker\r\n                startDate={moment(filter.datefrom)}\r\n                startDateId={\"start_date\"}\r\n                endDate={moment(filter.dateto)}\r\n                endDateId={\"end_date\"}\r\n                isOutsideRange={() => false}\r\n                keepOpenOnDateSelect={true}\r\n                onDatesChange={({ startDate, endDate }) => {\r\n                  if (startDate)\r\n                    _onFilterChange(\"datefrom\", startDate.format(\"YYYY-MM-DD\"));\r\n                  if (endDate)\r\n                    _onFilterChange(\"dateto\", endDate.format(\"YYYY-MM-DD\"));\r\n                }}\r\n                focusedInput={focusedInput}\r\n                onFocusChange={(focusedInput) => setFocusInput(focusedInput)}\r\n              />\r\n              <Form.Control\r\n                as=\"select\"\r\n                custom\r\n                onChange={(e) => {\r\n                  _onFilterChange(\"duration\", e.target.value);\r\n                }}\r\n                className=\"bg-transparent m-0 ml-4\"\r\n                style={{ width: \"100px\", height: \"44px\" }}\r\n                value={filter.duration}\r\n              >\r\n                {/* <option value=\"year\">Year</option> */}\r\n                <option value=\"month\">Month</option>\r\n                <option value=\"week\">Week</option>\r\n                <option value=\"day\">Daily</option>\r\n              </Form.Control>\r\n            </Container>\r\n            <div>\r\n              <p className=\"m-0 text-right lead\">\r\n                {moment().format(\"DD-MMMM\")}\r\n              </p>\r\n              <p\r\n                style={{ whiteSpace: \"nowrap\", fontSize: \"20px\" }}\r\n                className=\"font-weight-bold  text-right\"\r\n              >\r\n                {currentTime}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Container>\r\n          <h1>\r\n            {isFetching ? (\r\n              <h3 className=\"text-muted text-center\">Fetching data....</h3>\r\n            ) : null}\r\n          </h1>\r\n        </Container>\r\n\r\n        <Container fluid className=\"px-0\">\r\n          <div className=\"d-flex justify-content-between my-3\">\r\n            <div className=\"card hoverable stats-card d-flex w-100 mr-3\">\r\n              <div className=\"card-content\">\r\n                <div className=\"lead\">Customers</div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between mt-2\">\r\n                  <h1 className=\"text-black font-weight-bold\">\r\n                    {data?.customer + data?.customerprev}\r\n                  </h1>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-start\">\r\n                  <span className=\"tag tag-success d-flex align-items-center\">\r\n                    <AiOutlineArrowUp size={13} />\r\n                    <strong>\r\n                      {returnPercentage(data.customer, data.customerprev)}%\r\n                    </strong>\r\n                  </span>\r\n\r\n                  <span className=\"text-muted ml-2\">from 3</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card hoverable stats-card d-flex w-100 mr-3 ml-3\">\r\n              <div className=\"card-content\">\r\n                <div className=\"lead\">Orders</div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between mt-2\">\r\n                  <h1 className=\"text-black font-weight-bold\">\r\n                    {data?.order + data?.orderprev}\r\n                  </h1>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-start\">\r\n                  <span className=\"tag tag-success d-flex align-items-center\">\r\n                    <AiOutlineArrowUp size={13} />\r\n                    <strong>\r\n                      {returnPercentage(data?.order, data?.orderprev)}%\r\n                    </strong>\r\n                  </span>\r\n\r\n                  <span className=\"text-muted ml-2\">from 3</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card hoverable stats-card d-flex w-100 mr-3 ml-3\">\r\n              <div className=\"card-content\">\r\n                <div className=\"lead\">Active Subscriptions</div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between mt-2\">\r\n                  <h1 className=\"text-black font-weight-bold\">\r\n                    {data?.subscription + data?.subscriptionprev}\r\n                  </h1>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-start\">\r\n                  <span className=\"tag tag-success d-flex align-items-center\">\r\n                    <AiOutlineArrowUp size={13} />\r\n                    <strong>\r\n                      {returnPercentage(\r\n                        data?.subscription,\r\n                        data?.subscriptionprev\r\n                      )}\r\n                      %\r\n                    </strong>\r\n                  </span>\r\n\r\n                  <span className=\"text-muted ml-2\">from 3</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card hoverable stats-card d-flex w-100 ml-3\">\r\n              <div className=\"card-content\">\r\n                <div className=\"lead\">Agents</div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between mt-2\">\r\n                  <h1 className=\"text-black font-weight-bold\">\r\n                    {data?.agent + data?.agentprev}\r\n                  </h1>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-start\">\r\n                  <span className=\"tag tag-success d-flex align-items-center\">\r\n                    <AiOutlineArrowUp size={13} />\r\n                    <strong>\r\n                      {returnPercentage(data?.agent, data?.agentprev)}%\r\n                    </strong>\r\n                  </span>\r\n\r\n                  <span className=\"text-muted ml-2\">from 3</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n\r\n        <div className=\"dashboard-page w-100 mt-4\">\r\n          <Container fluid className=\"status-container mt-0 pl-2 pr-0\">\r\n            <div className=\"card hoverable stats-card d-flex w-100\">\r\n              <div className=\"card-header\">\r\n                <p className=\"text-black\">Reports overview</p>\r\n              </div>\r\n              <div className=\"card-content\">\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    {data?.data_total &&\r\n                      Object.entries(data?.data_total).map((item) => (\r\n                        <tr>\r\n                          <td className=\"text-muted \">\r\n                            <p className=\" m-0\">{item[0].toUpperCase()}</p>\r\n                          </td>\r\n                          <td className=\"text-left\" style={{ width: \"30px\" }}>\r\n                            <p className=\"view-subheading m-0\">\r\n                              <b>{item[1]}</b>\r\n                            </p>\r\n                          </td>\r\n                          {/* <td className=\"text-right\" style={{ width: \"24px\" }}>\r\n                            <span className=\"tag tag-success d-flex align-items-center w-100\">\r\n                              <AiOutlineArrowUp size={13} />\r\n                              <strong>10%</strong>\r\n                            </span>\r\n                          </td> */}\r\n                        </tr>\r\n                      ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"card hoverable stats-card d-flex w-100 mt-3\">\r\n              <div className=\"card-header\">\r\n                <p className=\"text-black\">Platform Data Overview</p>\r\n              </div>\r\n\r\n              <div className=\"card-content\">\r\n                <div className=\"d-flex align-items-center justify-content-between w-100 pb-2\">\r\n                  <span className=\"text-grey\">Brands</span>\r\n                  <span className=\"text-grey\">10</span>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between w-100 pt-2 pb-2\">\r\n                  <span className=\"text-grey\">Brand Models</span>\r\n                  <span className=\"text-grey\">6</span>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between w-100 pt-2 pb-2\">\r\n                  <span className=\"text-grey\">Categories</span>\r\n                  <span className=\"text-grey\">12</span>\r\n                </div>\r\n\r\n                <div className=\"d-flex align-items-center justify-content-between w-100 pt-2 pb-2\">\r\n                  <span className=\"text-grey\">Services</span>\r\n                  <span className=\"text-grey\">12</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Container>\r\n\r\n          <Container fluid className=\"charts-container mt-0 pl-0 pr-2\">\r\n            <div className=\"charts-row\">\r\n              <div className=\"card\">\r\n                <div className=\"card-header pb-3 d-flex justify-content-between align-items-center\">\r\n                  <h5 className=\"mb-0\">\r\n                    <strong>Bookings</strong>\r\n                  </h5>\r\n                </div>\r\n\r\n                <div className=\"card-content chart-container\">\r\n                  {isBookingAnalyticsLoading ? (\r\n                    <IsLoading />\r\n                  ) : (\r\n                    <BookingLineChart\r\n                      data={BookingAnalytics?.booking}\r\n                      xAxisDataKey=\"date\"\r\n                      dataKey=\"order\"\r\n                    />\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* <div className=\"card \">\r\n                <div className=\"card-header pb-3 d-flex justify-content-between align-items-center\">\r\n                  <h5 className=\"mb-0\">\r\n                    <strong>Bookings</strong>\r\n                  </h5>\r\n                </div>\r\n\r\n                <div className=\"card-content chart-container\">\r\n                  <ChartArea />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"card \">\r\n                <div className=\"card-header pb-3 d-flex justify-content-between align-items-center\">\r\n                  <h5 className=\"mb-0\">\r\n                    <strong>Bookings</strong>\r\n                  </h5>\r\n                </div>\r\n\r\n                <div className=\"card-content chart-container\">\r\n                  <ChartBar />\r\n                </div>\r\n              </div> */}\r\n            </div>\r\n          </Container>\r\n        </div>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"faqs\";\r\n\r\nconst deleteFaqs = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: 1,\r\n  perPage: 25,\r\n  active: \"\"\r\n};\r\nconst Faqs = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteFaqs, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Faqs deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/faqs/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/faqs/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Title\",\r\n        accessor: \"title\",\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Faqs\" onClick={_onCreateClick} totalRecords={data?.total} />\r\n      {(!isLoading) && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n\r\n                idx=\"active\"\r\n                title=\"Not Active\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data?.data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Faqs;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { error } from \"console\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"faqs\";\r\n\r\nconst createUpdataFaq = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst FaqCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading } = useMutation(createUpdataFaq, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/faqs\");\r\n      if (id) return showMsgToast(\"Faq updated successfully\");\r\n      showMsgToast(\"Faq created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Faqs\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={apiData || { is_active: 1 }}\r\n            onSubmit={(values) => {\r\n              const formdata = new FormData();\r\n              formdata.append(\"title\", values.title);\r\n              formdata.append(\"description\", values.description);\r\n              formdata.append(\"is_active\", values.is_active);\r\n\r\n              mutate({ formdata, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                <div className=\"form-container \">\r\n                  <InputField\r\n                    name=\"title\"\r\n                    placeholder=\"title\"\r\n                    label=\"Title\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    name=\"is_active\"\r\n                    placeholder=\"Is Active?\"\r\n                    label=\"Is Active?\"\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                  />\r\n                </div>\r\n                <Row>\r\n                  <Col md={12} xl={12}>\r\n                    <TextEditor\r\n                      name=\"description\"\r\n                      label=\"Description\"\r\n                      setFieldValue={setFieldValue}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n                {/* <InputField name=\"is_active\" placeholder=\"isActive\" label=\"Is Active?\" /> */}\r\n\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FaqCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport { INITIAL_FILTER } from \"../../hooks/useOrderFilterStore\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { IssueRelatedTo, OrderType } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { showErrorToast } from \"../../utils/showErrorToast\";\r\n\r\nconst key = \"tickets\";\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  status: \"active\",\r\n  user_id: \"\",\r\n  related_to: \"\",\r\n  created_at: \"\",\r\n};\r\n\r\nconst Issues = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (err: any) => {\r\n        showErrorToast(err.response.data.message);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { data: Customers, isLoading: isCustomerLoading } = useQuery<any>(\r\n    [\r\n      \"users\",\r\n      1,\r\n      {\r\n        role: \"customer\",\r\n      },\r\n    ],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n  const _onOrderClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(`/orders/${id}`);\r\n  };\r\n  const Status = ({ status }: { status: string }) => {\r\n    const setVairant = () => {\r\n      if (status === \"closed\") return \"danger\";\r\n\r\n      return \"success\";\r\n    };\r\n    return <CustomBadge variant={setVairant()} title={status} />;\r\n  };\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Title\",\r\n        accessor: \"title\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Reference Id\",\r\n        accessor: \"ref_id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Related to\",\r\n        accessor: \"related_to\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Issue Status\",\r\n        accessor: \"status\",\r\n        Cell: (data: Cell) => <Status status={data.row.values.status} />,\r\n      },\r\n      {\r\n        Header: \"Raised by\",\r\n        accessor: \"user.name\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => {\r\n          if ((data.row.original as any).user_id)\r\n            return (\r\n              <p\r\n                className=\"text-primary m-0\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() => _onUserClick((data.row.original as any).user_id)}\r\n              >\r\n                {data.row.values[\"user.name\"]}\r\n              </p>\r\n            );\r\n          else return \"NA\";\r\n        },\r\n      },\r\n      {\r\n        Header: \"Order Id\",\r\n        accessor: \"order.ref_id\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => {\r\n          if ((data.row.original as any).order_id)\r\n            return (\r\n              <p\r\n                className=\"text-primary m-0\"\r\n                style={{ cursor: \"pointer\" }}\r\n                onClick={() =>\r\n                  _onOrderClick((data.row.original as any).order_id)\r\n                }\r\n              >\r\n                {data.row.values[\"order.ref_id\"]}\r\n              </p>\r\n            );\r\n          else return \"NA\";\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => (\r\n          <CreatedUpdatedAt date={data.row.values.created_at} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => (\r\n          <CreatedUpdatedAt date={data.row.values.updated_at} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <div className=\"d-flex\">\r\n              <Button\r\n                onClick={() => history.push(`/issues/${data.row.values.id}`)}\r\n              >\r\n                View\r\n              </Button>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Issues\" totalRecords={50} />\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"active\"\r\n                currentValue={filter.status}\r\n                dataLength={data?.data?.length}\r\n                idx=\"status\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"closed\"\r\n                currentValue={filter.status}\r\n                dataLength={data?.data?.length}\r\n                idx=\"status\"\r\n                title=\"Closed\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-2\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.user_id}\r\n                          data={!isCustomerLoading && Customers.data}\r\n                          label=\"Customer\"\r\n                          idx=\"user_id\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      {/* <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.inside_cart}\r\n                            data={InsideCart}\r\n                            label=\"Inside Cart\"\r\n                            idx=\"inside_cart\"\r\n                            width=\"80px\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col> */}\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.related_to}\r\n                          data={IssueRelatedTo}\r\n                          label=\"Related to\"\r\n                          idx=\"related_to\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col md=\"auto\">\r\n                        <Form.Group>\r\n                          <Form.Label className=\"text-muted\">\r\n                            Raised At\r\n                          </Form.Label>\r\n                          <Form.Control\r\n                            type=\"date\"\r\n                            value={filter.created_at}\r\n                            onChange={(e) => {\r\n                              const value = moment(e.target.value).format(\r\n                                \"YYYY-MM-DD\"\r\n                              );\r\n                              _onFilterChange(\"created_at\", value);\r\n                            }}\r\n                            style={{\r\n                              fontSize: 14,\r\n                              width: 150,\r\n                              height: 35,\r\n                            }}\r\n                          />\r\n                        </Form.Group>\r\n                      </Col>\r\n\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          onClick={() => {\r\n                            setFilter(intitialFilter);\r\n                          }}\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            // backgroundColor: \"#eee\",\r\n                            fontSize: 14,\r\n                          }}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                    isSelectable={false}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button variant=\"danger\">Delete</Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Issues;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray, IssueRelatedTo, IssueStatus } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"tickets\";\r\n\r\nconst createTicket = ({ formdata }: { formdata: any }) => {\r\n  return API.post(`${key}/create`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst IssuesCreateForm = () => {\r\n  const { state } = useLocation();\r\n  console.log({ state });\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n\r\n  const { mutate, isLoading } = useMutation(createTicket, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/issues\");\r\n      showMsgToast(\"Issue created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  if (!state) return <h1>Order Id is required</h1>;\r\n\r\n  return (\r\n    <>\r\n      <BackButton\r\n        title={`Create issue for order #${(state as any)?.order_id}`}\r\n      />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={state}\r\n            onSubmit={(values) => {\r\n              mutate({ formdata: values });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                <div className={`form-container  py-2 `}>\r\n                  <InputField\r\n                    name=\"title\"\r\n                    placeholder=\"Title\"\r\n                    label=\"Title\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={IssueStatus}\r\n                    name=\"status\"\r\n                    label=\"Status\"\r\n                    placeholder=\"Choose Status\"\r\n                  />\r\n                  <InputField\r\n                    name=\"related_to\"\r\n                    label=\"Related To\"\r\n                    placeholder=\"Related To?\"\r\n                    selectData={IssueRelatedTo}\r\n                    as=\"select\"\r\n                  />\r\n                </div>\r\n                <Row>\r\n                  <Col md={6}>\r\n                    <InputField\r\n                      name=\"description\"\r\n                      label=\"Description\"\r\n                      placeholder=\"Description\"\r\n                      as=\"textarea\"\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IssuesCreateForm;\r\n","import create from 'zustand'\r\nimport { persist, combine } from 'zustand/middleware'\r\nimport { User } from '../types/interface'\r\n\r\n\r\n\r\nlet store = combine(\r\n    { user: null as User | null },\r\n    (set) => ({\r\n        setUser: (user: any) => set((state) => ({ user: user })),\r\n        removeUser: () => set((state) => ({ user: null })),\r\n    })\r\n)\r\n\r\nstore = persist(store, { name: \"user\" })\r\n\r\nconst useUserProfileStore = create(store)\r\n\r\nexport default useUserProfileStore;","import { AxiosError } from \"axios\";\r\nimport { Form, Formik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { RiSendPlane2Fill } from \"react-icons/ri\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useUserProfileStore from \"../../hooks/useUserProfileStore\";\r\nimport API from \"../../utils/API\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"tickets\";\r\n\r\nconst addMessageToServer = ({ id, message }: any) => {\r\n  return API.post(\r\n    `${key}/${id}/message`,\r\n    { message },\r\n    {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    }\r\n  );\r\n};\r\n\r\nconst ChatBox = ({\r\n  initialMessages,\r\n  id,\r\n}: {\r\n  initialMessages: any;\r\n  id: any;\r\n}) => {\r\n  const history = useHistory();\r\n  const loggedInUser = useUserProfileStore((state) => state.user);\r\n\r\n  const [messages, setMessages] = React.useState(initialMessages);\r\n\r\n  // React.useEffect(() => {\r\n  //   setInterval(() => queryClient.invalidateQueries(`${key}`), 10000);\r\n  // }, []);\r\n  // const getAllMessage = async (id) => {\r\n  //   if (!id) return;\r\n  //   try {\r\n  //     const res = await API.get(\"/tickets/\" + id + \"/message\");\r\n  //     if (res) console.log({ res });\r\n  //   } catch (error) {\r\n  //     handleApiError(error, history);\r\n  //   }\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   if (!id) return;\r\n  //   getAllMessage(id);\r\n  // }, [id]);\r\n\r\n  const { mutate, isLoading: isSendingMessage } = useMutation(\r\n    addMessageToServer,\r\n    {\r\n      onSuccess: (data) => {\r\n        setTimeout(() => {\r\n          queryClient.invalidateQueries(key);\r\n        }, 500);\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const scrollDiv = React.useRef<HTMLDivElement>();\r\n\r\n  const addMessageToChat = (messageBody: any) => {\r\n    setMessages((prev) => [...prev, messageBody]);\r\n\r\n    scrollDiv.current.scrollIntoView();\r\n  };\r\n\r\n  const isMsgFromMe = (user_id: number) => {\r\n    if (loggedInUser.id === user_id) return true;\r\n\r\n    return false;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* <!-- DIRECT CHAT PRIMARY --> */}\r\n      <div\r\n        className=\"card d-flex flex-column justify-content-between \"\r\n        style={{\r\n          minHeight: \"75vh\",\r\n          backgroundColor: \"#7598ce2b\",\r\n        }}\r\n      >\r\n        <Container\r\n          fluid\r\n          className=\"messages-container p-0 py-2 hide-scroll\"\r\n          style={{\r\n            maxHeight: \"70vh\",\r\n            overflow: \"auto\",\r\n          }}\r\n        >\r\n          {messages.length === 0 && (\r\n            <p className=\"text-center text-muted\">\r\n              Send Message to start a conversation\r\n            </p>\r\n          )}\r\n          {messages?.map((msg, i) => (\r\n            <div\r\n              className=\"message w-100\"\r\n              style={{\r\n                position: \"relative\",\r\n                marginBottom: 6,\r\n              }}\r\n            >\r\n              <div\r\n                className={`d-flex`}\r\n                style={{\r\n                  // marginLeft: msg.from_me ? \"auto\" : \"\",\r\n                  display: \"flex\",\r\n                  minWidth: \"50%\",\r\n\r\n                  flexDirection: !isMsgFromMe(msg.user_id)\r\n                    ? \"row\"\r\n                    : \"row-reverse\",\r\n                }}\r\n              >\r\n                <div\r\n                  className=\"user-image mx-1\"\r\n                  style={{\r\n                    flex: 0,\r\n                  }}\r\n                >\r\n                  <div\r\n                    className=\"d-flex align-items-center justify-content-center text-black \"\r\n                    style={{\r\n                      height: 30,\r\n                      width: 30,\r\n                      borderRadius: \"50%\",\r\n                      backgroundColor: isMsgFromMe(msg.user_id)\r\n                        ? \"#7bbfff\"\r\n                        : \"#ffd76a\",\r\n                    }}\r\n                  >\r\n                    {msg?.user?.name.slice(0, 1).toUpperCase() || \"A\"}\r\n                  </div>\r\n                  {/* <Image src={require(\"../../assets/user.png\")} alt=\"profile\" /> */}\r\n                </div>\r\n\r\n                <div className=\"message-details d-flex flex-column\">\r\n                  <p\r\n                    style={{\r\n                      backgroundColor: isMsgFromMe(msg.user_id)\r\n                        ? primaryColor\r\n                        : \"#fff\",\r\n                      color: isMsgFromMe(msg.user_id) ? \"white\" : \"black\",\r\n                      boxShadow: isMsgFromMe(msg.user_id)\r\n                        ? \"\"\r\n                        : \"4px 0 20px rgba(0,0,0,.12\",\r\n                      maxWidth: \"300px\",\r\n                      minHeight: 20,\r\n                    }}\r\n                    className=\"p-1 rounded m-0\"\r\n                  >\r\n                    {msg.message}\r\n                  </p>\r\n                  <span\r\n                    className=\"small text-muted \"\r\n                    style={{\r\n                      fontSize: 12,\r\n                      alignSelf: isMsgFromMe(msg.user_id) && \"flex-end\",\r\n                    }}\r\n                  >\r\n                    {moment(msg.created_at).fromNow()}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n          <div ref={scrollDiv} className=\"dummy-div \"></div>\r\n        </Container>\r\n\r\n        <Container fluid className=\"send-message-form mb-1\">\r\n          <div className=\"bg-light rounded p-1\">\r\n            <Formik\r\n              initialValues={{ text: \"\" }}\r\n              onSubmit={({ text }, { resetForm }) => {\r\n                mutate({ id, message: text });\r\n                // addMessageToChat(body);\r\n                resetForm();\r\n              }}\r\n            >\r\n              {({ handleChange, values }) => (\r\n                <Form>\r\n                  <div className=\"input-group d-flex align-items-center\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"text\"\r\n                      id=\"text\"\r\n                      value={values.text}\r\n                      placeholder=\"Type Message ...\"\r\n                      className=\"form-control shadow-none\"\r\n                      style={{ border: \"none\", outline: \"none\" }}\r\n                      required\r\n                      onChange={handleChange}\r\n                    />\r\n                    <button type=\"submit\">\r\n                      <RiSendPlane2Fill color={primaryColor} size={24} />\r\n                    </button>\r\n                  </div>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBox;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiArrowFromRight, BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"react-step-progress-bar/styles.css\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { IssueStatus } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport ChatBox from \"./ChatBox\";\r\n\r\nconst key = \"tickets\";\r\n\r\nconst changeStatus = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: { status: string };\r\n  id: any;\r\n}) => {\r\n  return API.post(`${key}/${id}/update-status`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst SingleIssue = () => {\r\n  const { id }: { id: string } = useParams();\r\n  const history = useHistory();\r\n  const { data, isLoading, isFetching } = useGetSingleQuery({ id, key });\r\n\r\n  const { mutate, isLoading: isChangeStatusLoading } = useMutation(\r\n    changeStatus,\r\n    {\r\n      onSuccess: (data) => {\r\n        showMsgToast(\"Status changed successfully\");\r\n        setTimeout(() => {\r\n          queryClient.invalidateQueries(key);\r\n          queryClient.invalidateQueries(`${key}/${id}`);\r\n        }, 500);\r\n      },\r\n    }\r\n  );\r\n  const [form, setForm] = useState({\r\n    status: data?.status,\r\n  });\r\n\r\n  const _onformChange = (idx: string, value: any) => {\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n  const _onOrderClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(`/orders/${id}`);\r\n  };\r\n\r\n  const statusBadgeVairant = (status: string) => {\r\n    const _status = status.toLowerCase();\r\n\r\n    if (_status === \"success\") return \"success\";\r\n\r\n    if (_status === \"pending\" || _status === \"pending_payment\")\r\n      return \"warning\";\r\n\r\n    return \"danger\";\r\n  };\r\n\r\n  if (isLoading || isFetching) {\r\n    return <IsLoading />;\r\n  }\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n  return (\r\n    <Container fluid className=\"component-wrapper px-0 py-2\">\r\n      <Container fluid className=\"d-flex justify-content-between py-2\">\r\n        <div className=\"d-flex align-items-center\">\r\n          <h2 className=\"font-weight-bold\">Issue</h2>\r\n          <h2 className=\"ml-2\">#{data?.id}</h2>\r\n        </div>\r\n        <div>\r\n          <Button className=\"ml-2\" onClick={() => history.goBack()}>\r\n            <div className=\"text-white\">\r\n              <BiArrowFromRight size={25} /> <b>Back</b>\r\n            </div>\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n\r\n      <div className=\"dashboard-page w-100\">\r\n        <Container fluid className=\"status-container mt-2\">\r\n          <div className=\"card p-2 view-padding right-div d-flex mb-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div\r\n                  className=\"text-black pb-3\"\r\n                  style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                  onClick={() => _onUserClick(data?.user_id)}\r\n                >\r\n                  Update Issue status\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                <Row>\r\n                  <Col md=\"auto\">\r\n                    <Form.Group>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={data?.status}\r\n                        onChange={(e) => {\r\n                          _onformChange(\"status\", e.target.value);\r\n                          mutate({ formdata: { status: e.target.value }, id });\r\n                        }}\r\n                        style={{\r\n                          width: \"200px\",\r\n                          fontSize: 14,\r\n                        }}\r\n                      >\r\n                        {IssueStatus.map((item) => {\r\n                          if (item.id !== \"\")\r\n                            return (\r\n                              <option value={item[\"id\"]}>{item[\"name\"]}</option>\r\n                            );\r\n                        })}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n\r\n                    <p\r\n                      style={{ fontSize: 13, lineHeight: 1.3, marginBottom: 5 }}\r\n                      className=\"text-muted\"\r\n                    >\r\n                      {/* Do note: */}\r\n                    </p>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"card p-2 view-padding right-div d-flex mb-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div\r\n                  className=\"text-black pb-3\"\r\n                  style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                  onClick={() => _onUserClick(data?.user_id)}\r\n                >\r\n                  Issue Info\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                <Row>\r\n                  <Col md=\"auto\" className=\"w-100\">\r\n                    <p className=\"font-weight-bold mb-1\">{data?.title}</p>\r\n                    <p\r\n                      style={{ fontSize: 13, lineHeight: 1.3, marginBottom: 5 }}\r\n                      className=\"text-muted\"\r\n                    >\r\n                      {data?.description}\r\n                    </p>\r\n                    <table className=\"w-100 \">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td className=\"text-muted\">\r\n                            <p className=\"view-heading\">Order</p>\r\n                          </td>\r\n                          <td className=\"text-right\">\r\n                            <p\r\n                              className=\"view-subheading text-primary\"\r\n                              style={{ cursor: \"pointer\" }}\r\n                              onClick={() => _onOrderClick(data?.order_id)}\r\n                            >\r\n                              {data.order_id || \"NA\"}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-muted\">\r\n                            <p className=\"view-heading\">Related To</p>\r\n                          </td>\r\n                          <td className=\"text-right\">\r\n                            <p className=\"view-subheading\">\r\n                              {data?.related_to}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-muted\">\r\n                            <p className=\"view-heading\">Updated At</p>\r\n                          </td>\r\n                          <td className=\"text-right\">\r\n                            <p className=\"view-subheading\">\r\n                              {moment(data?.updated_at).format(\"YYYY-MM-DD\")}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-muted\">\r\n                            <p className=\"view-heading\">Created At</p>\r\n                          </td>\r\n                          <td className=\"text-right\">\r\n                            <p className=\"view-subheading\">\r\n                              {moment(data?.created_at).format(\"YYYY-MM-DD\")}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-2 view-padding right-div d-flex\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div className=\"text-black pb-3\">Customer</div>\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"text-muted\">\r\n                        <p className=\"view-heading\">Name</p>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <p className=\"view-subheading\">{data?.user.name}</p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Email</p>\r\n                      </td>\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <a href={`mailto:${data?.user.email}`}>\r\n                          <p className=\"view-subheading text-primary\">\r\n                            {data?.user?.email}\r\n                          </p>\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading phone-padd\">Phone</p>\r\n                      </td>\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">{data?.user?.phone}</p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <span\r\n                  className=\"small text-primary font-weight-bold\"\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => _onUserClick(data?.user_id)}\r\n                >\r\n                  View Profile\r\n                </span>\r\n              </div>\r\n\r\n              <hr className=\"mb-3 mt-3\" />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n\r\n        <Container fluid className=\"charts-container\">\r\n          <ChatBox initialMessages={data?.messages} id={id} />\r\n        </Container>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SingleIssue;\r\n","import { AxiosError } from \"axios\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Container, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory } from \"react-router\";\r\nimport * as Yup from \"yup\";\r\nimport { handleApiError } from \"../hooks/handleApiErrors\";\r\nimport { InputField } from \"../shared-components/InputFeild\";\r\nimport API from \"../utils/API\";\r\n\r\ninterface Props { }\r\nconst phoneRegExp = /^[6-9]\\d{9}$/;\r\nconst LoginSchema = Yup.object().shape({\r\n  phone: Yup.string()\r\n    .matches(phoneRegExp, \"Phone number is not valid\")\r\n    .required(\"Phone number required\"),\r\n});\r\n\r\nconst sendOtp = (formData: FormData) => {\r\n  return API.post(`auth/send-otp`, formData, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst LoginPage = (props: Props) => {\r\n  const history = useHistory();\r\n\r\n  const { mutate, data, isLoading } = useMutation(sendOtp, {\r\n    onSuccess: (data) => {\r\n\r\n      console.log(\"send-otp\", data.data);\r\n      history.push(`/verify-otp/`, { phone: data.data.user.phone, otp: data.data.user.otp });\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history)\r\n    }\r\n  });\r\n\r\n\r\n  return (\r\n    <Container fluid className=\"login-page\">\r\n      <Formik\r\n        initialValues={{ phone: \"\" }}\r\n        onSubmit={(values) => {\r\n          const formData = new FormData();\r\n          formData.append(\"phone\", values.phone);\r\n\r\n          mutate(formData);\r\n        }}\r\n        validationSchema={LoginSchema}\r\n      >\r\n        {({ errors }) => {\r\n          return (\r\n            <Form>\r\n              <div\r\n                className=\"d-flex flex-column align-items-center justify-content-between px-3 py-3\"\r\n                style={{\r\n                  width: \"450px\",\r\n                }}\r\n              >\r\n                <h1 className=\"text-black\">\r\n                  <b>Sign In</b>\r\n                </h1>\r\n                <p className=\"text-muted\">OTP will be send to your number.</p>\r\n                <br />\r\n                <InputField\r\n                  name=\"phone\"\r\n                  placeholder=\"Enter your phone number\"\r\n                  label=\"Phone number\"\r\n                  type=\"text\"\r\n                  error={errors.phone}\r\n                />\r\n\r\n                <Button\r\n                  variant=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"full-width my-2\"\r\n                >\r\n                  {isLoading ? (\r\n                    <Spinner animation=\"border\" variant=\"secondary\" size=\"sm\" />\r\n                  ) : (\r\n                    <div className=\"text-white\">\r\n                      <b>Submit</b>\r\n                    </div>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import { createContext } from \"react\";\r\n\r\nexport const IsDesktopContext = createContext(false);","export default __webpack_public_path__ + \"static/media/logo.cd024194.svg\";","import logo from \"../assets/logo.svg\";\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <div className=\"d-flex justify-content-start\">\r\n      <div className=\"logo text-left ml-4\">\r\n        <img src={logo} alt=\"logo\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Logo;\r\n","import { Link, useLocation } from \"react-router-dom\";\r\nimport { INavLink } from \"../types/interface\";\r\n\r\nconst Navlink = ({ title, path, onClick, icon }: INavLink) => {\r\n  const { pathname } = useLocation();\r\n  return (\r\n    <Link to={path}>\r\n      <li\r\n        className={pathname.includes(path) ? \"navLink active\" : \"navLink my-1\"}\r\n        onClick={onClick}\r\n      >\r\n        {icon && icon} {title}\r\n      </li>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default Navlink;\r\n","interface IOverlay {\r\n    onClick?: () => void\r\n}\r\nconst Overlay = ({ onClick }: IOverlay) => {\r\n    return (\r\n        <div className=\"overlay\" onClick={onClick ? onClick : () => { }}>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Overlay\r\n","import { useContext } from \"react\";\r\nimport {\r\n  FaAddressCard,\r\n  FaBoxes,\r\n  FaDiceFour,\r\n  FaQuestionCircle,\r\n  FaRegLightbulb,\r\n  FaUsers,\r\n  FaMoneyCheck,\r\n} from \"react-icons/fa\";\r\nimport { GoIssueOpened } from \"react-icons/go\";\r\nimport { IoLogoModelS } from \"react-icons/io\";\r\nimport { GiModernCity } from \"react-icons/gi\";\r\nimport {\r\n  RiAdminFill,\r\n  RiAdvertisementFill,\r\n  RiCoupon3Line,\r\n  RiDashboardFill,\r\n  RiNotification2Line,\r\n  RiPagesLine,\r\n  RiServiceFill,\r\n} from \"react-icons/ri\";\r\nimport { SiBrandfolder } from \"react-icons/si\";\r\nimport { IsDesktopContext } from \"../context/IsDesktopContext\";\r\nimport Logo from \"../shared-components/Logo\";\r\nimport Navlink from \"../shared-components/Navlink\";\r\nimport Overlay from \"../shared-components/Overlay\";\r\nimport { INavBar, INavLink } from \"../types/interface\";\r\nimport { MdShoppingCart } from \"react-icons/md\";\r\nimport { ImUsers } from \"react-icons/im\";\r\nimport { AiFillIdcard } from \"react-icons/ai\";\r\nimport { BsClock, BsShieldLock } from \"react-icons/bs\";\r\n\r\nconst manageLinks: Array<INavLink> = [\r\n  {\r\n    title: \"Brands\",\r\n    path: \"/brands\",\r\n    icon: <SiBrandfolder />,\r\n  },\r\n  {\r\n    title: \"Brand Models\",\r\n    path: \"/brand-models\",\r\n    icon: <IoLogoModelS />,\r\n  },\r\n  {\r\n    title: \"Categories\",\r\n    path: \"/categories\",\r\n    icon: <FaDiceFour />,\r\n  },\r\n  {\r\n    title: \"Users\",\r\n    path: \"/users\",\r\n    icon: <ImUsers />,\r\n  },\r\n  {\r\n    title: \"Admins\",\r\n    path: \"/admin\",\r\n    icon: <RiAdminFill />,\r\n  },\r\n  {\r\n    title: \"Services\",\r\n    path: \"/services\",\r\n    icon: <RiServiceFill />,\r\n  },\r\n  {\r\n    title: \"Faqs\",\r\n    path: \"/faqs\",\r\n    icon: <FaQuestionCircle />,\r\n  },\r\n  {\r\n    title: \"Plans\",\r\n    path: \"/plans\",\r\n    icon: <FaRegLightbulb />,\r\n  },\r\n  {\r\n    title: \"Coupons\",\r\n    path: \"/coupons\",\r\n    icon: <RiCoupon3Line />,\r\n  },\r\n  {\r\n    title: \"Banners\",\r\n    path: \"/advertisements\",\r\n    icon: <RiAdvertisementFill />,\r\n  },\r\n  {\r\n    title: \"Permissions\",\r\n    path: \"/permissions\",\r\n    icon: <BsShieldLock />,\r\n  },\r\n  {\r\n    title: \"Roles\",\r\n    path: \"/roles\",\r\n    icon: <FaUsers />,\r\n  },\r\n  {\r\n    title: \"Booking Slots\",\r\n    path: \"/booking-slots\",\r\n    icon: <BsClock />,\r\n  },\r\n  {\r\n    title: \"Cities\",\r\n    path: \"/cities\",\r\n    icon: <GiModernCity />,\r\n  },\r\n  {\r\n    title: \"Testimonials\",\r\n    path: \"/testimonials\",\r\n    icon: <AiFillIdcard />,\r\n  },\r\n  {\r\n    title: \"Static Pages\",\r\n    path: \"/static-pages\",\r\n    icon: <RiPagesLine />,\r\n  },\r\n];\r\n\r\nconst mainLinks: Array<INavLink> = [\r\n  {\r\n    title: \"Orders\",\r\n    path: \"/orders\",\r\n    icon: <FaBoxes />,\r\n  },\r\n  {\r\n    title: \"Cart\",\r\n    path: \"/cart\",\r\n    icon: <MdShoppingCart />,\r\n  },\r\n  {\r\n    title: \"Subscriptions\",\r\n    path: \"/subscriptions\",\r\n    icon: <FaAddressCard />,\r\n  },\r\n  {\r\n    title: \"Transactions\",\r\n    path: \"/transactions\",\r\n    icon: <FaMoneyCheck />,\r\n  },\r\n  {\r\n    title: \"Issues\",\r\n    path: \"/issues\",\r\n    icon: <GoIssueOpened />,\r\n  },\r\n  {\r\n    title: \"Notifications\",\r\n    path: \"/push-notifications\",\r\n    icon: <RiNotification2Line />,\r\n  },\r\n];\r\n\r\nconst NavBar = ({ isNavOpen, setIsNavOpen }: INavBar) => {\r\n  const isDesktop = useContext(IsDesktopContext);\r\n\r\n  const closeNavBar = () => {\r\n    if (setIsNavOpen) {\r\n      setIsNavOpen(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <nav className={isNavOpen ? \"active\" : \"\"}>\r\n        {isDesktop ? <Logo /> : null}\r\n\r\n        <div className=\"all-links\">\r\n          <ul className=\"pt-4\">\r\n            <Navlink\r\n              title=\"Dashboard\"\r\n              path=\"/dashboard\"\r\n              onClick={closeNavBar}\r\n              icon={<RiDashboardFill />}\r\n            />\r\n          </ul>\r\n\r\n          <p className=\"text-muted mb-2\">Main</p>\r\n          <ul>\r\n            {mainLinks.map(({ title, path, icon }) => (\r\n              <Navlink\r\n                path={path}\r\n                title={title}\r\n                key={title}\r\n                onClick={closeNavBar}\r\n                icon={icon}\r\n              />\r\n            ))}\r\n          </ul>\r\n\r\n          <p className=\"text-muted mb-2\">Manage</p>\r\n          <ul>\r\n            {manageLinks.map(({ title, path, icon }) => (\r\n              <Navlink\r\n                path={path}\r\n                title={title}\r\n                key={title}\r\n                onClick={closeNavBar}\r\n                icon={icon}\r\n              />\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      </nav>\r\n      {isNavOpen && <Overlay onClick={closeNavBar} />}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { AiFillEdit } from \"react-icons/ai\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { NotificationSendToCategories } from \"../../utils/arrays\";\r\nimport { primaryColor, secondaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport Brands from \"../Brands\";\r\n\r\nconst key = \"fcm-notification\";\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  sent: \"\",\r\n  send_to: \"\",\r\n  scheduled_at: \"\",\r\n};\r\n\r\nconst deleteNotification = (id: any[]) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst Notifications = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(\r\n    deleteNotification,\r\n    {\r\n      onSuccess: () => {\r\n        queryClient.invalidateQueries(key);\r\n        showMsgToast(\"Notifications deleted successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/push-notifications/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/push-notifications/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Title\",\r\n        accessor: \"title\",\r\n      },\r\n      {\r\n        Header: \"Sent ?\",\r\n        accessor: \"sent\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.sent} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Send To \",\r\n        accessor: \"send_to\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <CustomBadge title={data.row.values.send_to} variant=\"primary\" />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Scheduled At\",\r\n        accessor: \"scheduled_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.scheduled_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Notifications\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.sent}\r\n                dataLength={data?.data?.length}\r\n                idx=\"sent\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.sent}\r\n                dataLength={data?.data?.length}\r\n                idx=\"sent\"\r\n                title=\"Sent\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.sent}\r\n                dataLength={data?.data?.length}\r\n                idx=\"sent\"\r\n                title=\"Not Sent\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.send_to}\r\n                          data={NotificationSendToCategories}\r\n                          label=\"Send To\"\r\n                          idx=\"send_to\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col md=\"auto\">\r\n                        <Form.Group>\r\n                          <Form.Label className=\"text-muted\">\r\n                            Scheduled At\r\n                          </Form.Label>\r\n                          <Form.Control\r\n                            type=\"date\"\r\n                            value={filter.scheduled_at}\r\n                            onChange={(e) => {\r\n                              const value = moment(e.target.value).format(\r\n                                \"YYYY-MM-DD\"\r\n                              );\r\n                              _onFilterChange(\"scheduled_at\", value);\r\n                            }}\r\n                            style={{\r\n                              fontSize: 14,\r\n                              width: 150,\r\n                              height: 35,\r\n                            }}\r\n                          />\r\n                        </Form.Group>\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { RiTimerFill } from \"react-icons/ri\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport DatePicker from \"../../shared-components/DatePicker\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { NotificationSendToCategories } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"fcm-notification\";\r\n\r\nconst createUpdataBrand = ({ formdata, id }: { formdata: any; id: string }) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata);\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata);\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  role: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n};\r\n\r\nconst NotificationCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  const [isScheduleOpen, setIsScheduleOpen] = useState(() =>\r\n    id ? true : false\r\n  );\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [selectedRowIds, setSelectedRowIds] = useState<Record<string, boolean>>(\r\n    {}\r\n  );\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n\r\n  const {\r\n    data: Users,\r\n    error,\r\n    isLoading: isUsersLoading,\r\n    isFetching,\r\n  } = useQuery<any>([\"users\", , filter]);\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => {\r\n      return {\r\n        ...prev,\r\n        [idx]: value,\r\n      };\r\n    });\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Phone\",\r\n        accessor: \"phone\",\r\n      },\r\n      {\r\n        Header: \"Role\",\r\n        accessor: \"role\",\r\n      },\r\n      {\r\n        Header: \" Disabled?\",\r\n        accessor: \"disabled\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.disabled} />;\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/push-notifications\");\r\n      if (id) return showMsgToast(\"Notification updated successfully\");\r\n      showMsgToast(\"Notification created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data as any;\r\n\r\n  const _openSchedulTab = () => setIsScheduleOpen(true);\r\n  const _closeSchedulTab = () => setIsScheduleOpen(false);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Notification\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={apiData || {}}\r\n            onSubmit={(values) => {\r\n              const formdata = {\r\n                ...values,\r\n                users: selectedRows.map((i) => i.id),\r\n              };\r\n\r\n              if (!values?.scheduled_at)\r\n                formdata[\"scheduled_at\"] = moment().format(\r\n                  \"YYYY-MM-DD hh:mm:ss\"\r\n                );\r\n              // const { logo, ...rest } = values;\r\n              // const formdata = new FormData();\r\n              // for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n              console.log({ formdata });\r\n              mutate({ formdata, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                <div className=\"form-container \">\r\n                  <InputField\r\n                    name=\"title\"\r\n                    placeholder=\"Title\"\r\n                    label=\"Title\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={NotificationSendToCategories}\r\n                    name=\"send_to\"\r\n                    label=\"Send to ?\"\r\n                    placeholder=\"Choose user category\"\r\n                  />\r\n                  <InputField\r\n                    name=\"description\"\r\n                    placeholder=\"Description\"\r\n                    label=\"Description\"\r\n                    as=\"textarea\"\r\n                    required\r\n                  />\r\n                </div>\r\n                <Row>\r\n                  <Col md={12} xl={12}>\r\n                    <h4 className=\"font-weight-bold d-flex align-items-center \">\r\n                      <RiTimerFill size={24} /> <span> Schedule</span>\r\n                    </h4>\r\n                    {!id && (\r\n                      <div className=\"navigation-tab mt-3\">\r\n                        <button\r\n                          type=\"button\"\r\n                          className={\r\n                            !isScheduleOpen ? \"text-primary\" : \"text-muted\"\r\n                          }\r\n                          style={{\r\n                            borderBottom: !isScheduleOpen\r\n                              ? ` 2px solid ${primaryColor}`\r\n                              : \"\",\r\n                          }}\r\n                          onClick={_closeSchedulTab}\r\n                        >\r\n                          <b>Now</b>\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          className={`${\r\n                            isScheduleOpen ? \"text-primary\" : \"text-muted\"\r\n                          } ml-2`}\r\n                          style={{\r\n                            borderBottom: isScheduleOpen\r\n                              ? ` 2px solid ${primaryColor}`\r\n                              : \"\",\r\n                          }}\r\n                          onClick={_openSchedulTab}\r\n                        >\r\n                          <b>Schedule</b>\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"display-for-schedule mt-2\">\r\n                      {!isScheduleOpen ? (\r\n                        <div className=\"py-3\">\r\n                          <p>Notification will be send now</p>\r\n                        </div>\r\n                      ) : (\r\n                        <div\r\n                          style={{\r\n                            width: \"200px\",\r\n                          }}\r\n                        >\r\n                          <DatePicker\r\n                            name=\"scheduled_at\"\r\n                            setFieldValue={setFieldValue}\r\n                            label=\"Data\\time\"\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </Col>\r\n                  <Col md={12} xl={12}>\r\n                    {!error && !isUsersLoading && Users && (\r\n                      <ReactTable\r\n                        data={Users?.data}\r\n                        columns={columns}\r\n                        setSelectedRows={setSelectedRows}\r\n                        filter={filter}\r\n                        onFilterChange={_onFilterChange}\r\n                        isDataLoading={isFetching}\r\n                        initialState={{\r\n                          selectedRowIds,\r\n                        }}\r\n                        setSelectedRowIds={setSelectedRowIds}\r\n                      />\r\n                    )}\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useOrderStoreFilter, {\r\n  INITIAL_FILTER,\r\n} from \"../../hooks/useOrderFilterStore\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableLink from \"../../shared-components/TableLink\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { InsideCart, OrderType } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\n// import UpdateCreateForm from \"./FaqsCreateUpdateForm\"\r\n\r\nconst key = \"bookings\";\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  created_at: \"\",\r\n  inside_cart: \"0\",\r\n};\r\nconst Orders = () => {\r\n  const history = useHistory();\r\n  const [page, setPage] = useState<number>(1);\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [localFilter, setFilter] = useState(intitialFilter);\r\n  console.log({ localFilter });\r\n  const filter = useOrderStoreFilter((state) => state.filter);\r\n  const onFilterChange = useOrderStoreFilter((state) => state.onFilterChange);\r\n  const resetFilter = useOrderStoreFilter((state) => state.resetFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , { ...filter, ...localFilter }],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const { data: Customers, isLoading: isCustomerLoading } = useQuery<any>(\r\n    [\r\n      \"users\",\r\n      1,\r\n      {\r\n        role: \"customer\",\r\n      },\r\n    ],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const { data: Agents, isLoading: isAgentLoading } = useQuery<any>(\r\n    [\r\n      \"users\",\r\n      1,\r\n      {\r\n        role: \"agent\",\r\n      },\r\n    ],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const Status = ({ status }: { status: string }) => {\r\n    const setVairant = () => {\r\n      if (status === \"cancelled\" || status === \"error_payment\") return \"danger\";\r\n\r\n      if (status === \"pending\" || status === \"pending_payment\")\r\n        return \"warning\";\r\n\r\n      return \"success\";\r\n    };\r\n    return <CustomBadge variant={setVairant()} title={status} />;\r\n  };\r\n\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n\r\n  const _onOrderClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(`/orders/${id}`);\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Ref Id\",\r\n        accessor: \"ref_id\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <TableLink\r\n              onClick={_onOrderClick}\r\n              id={data.row.values.id}\r\n              title={data.row.values[\"ref_id\"]}\r\n            />\r\n          );\r\n        },\r\n        //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Customer\",\r\n        accessor: \"user.name\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <TableLink\r\n              onClick={_onUserClick}\r\n              id={(data.row.original as any).user_id}\r\n              title={data.row.values[\"user.name\"]}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Agent\",\r\n        accessor: \"agent.name\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <TableLink\r\n              onClick={_onUserClick}\r\n              id={(data.row.original as any).agent_id}\r\n              title={data.row.values[\"agent.name\"]}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Order Type\",\r\n        accessor: \"order_type\",\r\n        Cell: (data: Cell) => <Status status={data.row.values.order_type} />,\r\n      },\r\n      {\r\n        Header: \"Order Status\",\r\n        accessor: \"status\",\r\n        Cell: (data: Cell) => <Status status={data.row.values.status} />,\r\n      },\r\n      {\r\n        Header: \"Scheduled At\",\r\n        accessor: \"scheduled_at\",\r\n        Cell: (data: Cell) => (\r\n          <CreatedUpdatedAt date={data.row.values.scheduled_at} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Paid Amount\",\r\n        accessor: \"payable_amount\",\r\n      },\r\n      {\r\n        Header: \"Rating\",\r\n        accessor: \"rating\",\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => (\r\n          <CreatedUpdatedAt date={data.row.values.created_at} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          console.log({ data });\r\n          return (\r\n            <div className=\"d-flex\">\r\n              <Button\r\n                onClick={() => history.push(`/orders/${data.row.values.id}`)}\r\n              >\r\n                View\r\n              </Button>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Orders\" totalRecords={data?.total} />\r\n\r\n      {(!isLoading || !isFetching) && (\r\n        <div className=\"filter mb-4\">\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"All\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"confirmed\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Confirmed\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"pending_payment\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Pending Payment\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"error_payment\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Payment Errors\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={onFilterChange}\r\n            value=\"failed\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Failed\"\r\n            isLast\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          <>\r\n            {isLoading ? (\r\n              <IsLoading />\r\n            ) : (\r\n              <>\r\n                {!error && (\r\n                  <>\r\n                    <Container className=\"pt-2\">\r\n                      <Row className=\"select-filter d-flex\">\r\n                        <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.user_id}\r\n                            data={!isCustomerLoading && Customers.data}\r\n                            label=\"Customer\"\r\n                            idx=\"user_id\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col>\r\n                        <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.agent_id}\r\n                            data={!isAgentLoading && Agents.data}\r\n                            label=\"Agents\"\r\n                            idx=\"agent_id\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col>\r\n                        {/* <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.inside_cart}\r\n                            data={InsideCart}\r\n                            label=\"Inside Cart\"\r\n                            idx=\"inside_cart\"\r\n                            width=\"80px\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col> */}\r\n                        <Col md=\"auto\">\r\n                          <FilterSelect\r\n                            currentValue={filter.order_type}\r\n                            data={OrderType}\r\n                            label=\"Order Type\"\r\n                            idx=\"order_type\"\r\n                            onFilterChange={onFilterChange}\r\n                          />\r\n                        </Col>\r\n                        <Col md=\"auto\">\r\n                          <Form.Group>\r\n                            <Form.Label className=\"text-muted\">\r\n                              Ordered At\r\n                            </Form.Label>\r\n                            <Form.Control\r\n                              type=\"date\"\r\n                              value={localFilter.created_at}\r\n                              onChange={(e) => {\r\n                                const value = moment(e.target.value).format(\r\n                                  \"YYYY-MM-DD\"\r\n                                );\r\n                                _onFilterChange(\"created_at\", value);\r\n                              }}\r\n                              style={{\r\n                                fontSize: 14,\r\n                                width: 150,\r\n                                height: 35,\r\n                              }}\r\n                            />\r\n                          </Form.Group>\r\n                        </Col>\r\n\r\n                        <Col\r\n                          md=\"auto\"\r\n                          className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                        >\r\n                          <Button\r\n                            onClick={() => {\r\n                              resetFilter();\r\n\r\n                              setFilter(intitialFilter);\r\n                            }}\r\n                            variant={\r\n                              areTwoObjEqual(\r\n                                { ...intitialFilter, ...INITIAL_FILTER },\r\n                                { ...localFilter, ...filter }\r\n                              )\r\n                                ? \"light\"\r\n                                : \"primary\"\r\n                            }\r\n                            style={{\r\n                              // backgroundColor: \"#eee\",\r\n                              fontSize: 14,\r\n                            }}\r\n                          >\r\n                            Reset Filters\r\n                          </Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </Container>\r\n                    <hr />\r\n                    <ReactTable\r\n                      data={data.data}\r\n                      columns={columns}\r\n                      setSelectedRows={setSelectedRows}\r\n                      filter={filter}\r\n                      onFilterChange={_onFilterChange}\r\n                      isDataLoading={isFetching}\r\n                      isSelectable={false}\r\n                    />\r\n                  </>\r\n                )}\r\n                {!error && data?.data?.length > 0 ? (\r\n                  <TablePagination\r\n                    currentPage={data?.current_page}\r\n                    lastPage={data?.last_page}\r\n                    setPage={_onFilterChange}\r\n                    hasNextPage={!!data?.next_page_url}\r\n                    hasPrevPage={!!data?.prev_page_url}\r\n                  />\r\n                ) : null}{\" \"}\r\n              </>\r\n            )}\r\n          </>\r\n        </Container>\r\n      </Container>\r\n      {/* {selectedRows.length > 0 && (\r\n        <div className=\"delete-button \">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button variant=\"danger\">Delete</Button>\r\n        </div>\r\n      )} */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n","import { Form, Formik } from \"formik\";\r\nimport React from \"react\";\r\nimport { Alert, Button, Col, Container, Row, Spinner } from \"react-bootstrap\";\r\nimport { BiArrowFromRight } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\n\r\nconst key = \"bookings\";\r\n\r\nconst getAgents = async () => {\r\n  const r = await API.get(\"/users\", {\r\n    params: {\r\n      role: \"agent\"\r\n    }\r\n  })\r\n  return r.data\r\n}\r\n\r\nconst assignAgent = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: { agent_id: string };\r\n  id: string;\r\n}) => {\r\n  return API.post(`bookings/${id}/assign-agent`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst AssignAgent = () => {\r\n  const { id }: { id: string } = useParams();\r\n\r\n  const history = useHistory();\r\n  const { data: agents, isLoading: isAgentLoading } = useQuery(\"agent\", () => getAgents())\r\n  const { data, mutate, isLoading, error, status } = useMutation(assignAgent, {\r\n    onSuccess: (data) => {\r\n      setTimeout(() => {\r\n        queryClient.invalidateQueries(key);\r\n        queryClient.invalidateQueries(`${key}/${id}`);\r\n        history.goBack();\r\n      }, 500);\r\n    },\r\n  });\r\n\r\n  if (isAgentLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <Container>\r\n      <Container fluid className=\"d-flex justify-content-between py-2\">\r\n        <h2 className=\"font-weight-bold\">Assign Aggent</h2>\r\n        <Button variant=\"primary\" onClick={() => history.goBack()}>\r\n          <div className=\"text-white\">\r\n            <BiArrowFromRight size={25} /> <b>Back</b>\r\n          </div>\r\n        </Button>\r\n      </Container>\r\n\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={{ agent_id: \"\" }}\r\n            onSubmit={(values) => {\r\n              mutate({ formdata: values, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                {status === \"success\" && (\r\n                  <Alert variant=\"success\">Agent Successfully Assigned</Alert>\r\n                )}\r\n                {/* {error &&\r\n                                <Alert variant=\"danger\">{(error as Error).message}</Alert>\r\n                            } */}\r\n\r\n                <Row className=\"align-items-center justify-content-center\">\r\n                  <Col sm md={6}>\r\n                    <InputField\r\n                      name=\"agent_id\"\r\n                      placeholder=\"Select Agent\"\r\n                      label=\"Select Agent\"\r\n                      as=\"select\"\r\n                      selectData={agents.data}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AssignAgent;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nconst accessToken =\r\n  \"pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw\";\r\n\r\nconst Map = ({ order }) => {\r\n  console.log(\"order\", { order });\r\n  const { address: userAddress } = order;\r\n  console.log(\"address\", { userAddress });\r\n\r\n  const mapContainer = useRef(null);\r\n  let [map, setMap] = useState(null);\r\n\r\n  const [viewport] = useState({\r\n    width: 350,\r\n    height: 350,\r\n    lat: userAddress && userAddress.lat ? parseInt(userAddress.lat) : 37.78,\r\n    lng: userAddress && userAddress.lng ? parseInt(userAddress.lng) : -122.41,\r\n    zoom: 12,\r\n  });\r\n\r\n  const [userLocation] = useState({\r\n    lat: userAddress && parseInt(userAddress.lat),\r\n    lng: userAddress && parseInt(userAddress.lng),\r\n  });\r\n  const [agentLocation, setAgentLocation] = useState(null);\r\n  const [directions, setDirections] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const attachMap = (setMap, mapContainer) => {\r\n      if (!mapContainer.current) return;\r\n\r\n      const map = new mapboxgl.Map({\r\n        accessToken,\r\n        container: mapContainer.current || \"\",\r\n        style: \"mapbox://styles/mapbox/streets-v11\",\r\n        center: [viewport.lng, viewport.lat],\r\n        zoom: viewport.zoom,\r\n        interactive: false,\r\n        dragPan: false,\r\n      });\r\n\r\n      setMap(map);\r\n    };\r\n\r\n    !map && attachMap(setMap, mapContainer);\r\n    const locationInterval = setInterval(getAgentLocation, 1000);\r\n    return () => clearInterval(locationInterval);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (map && mapContainer.current) addDestinationMarker();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [map, mapContainer]);\r\n\r\n  useEffect(() => {\r\n    if (!directions) initializedMapboxDirections();\r\n    else setMapDirections();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [agentLocation]);\r\n\r\n  const isValidLocation = (location) => {\r\n    if (location && location.lat && location.lng) return true;\r\n    return false;\r\n  };\r\n\r\n  const getAgentLocation = async () => {\r\n    // const {\r\n    //   data: { agent_location: location },\r\n    // } = await API.get(`/orders/${order.id}/get-agent-location`, {\r\n    //   headers: { Authorization: `Bearer ${token}` },\r\n    // });\r\n    // if (location)\r\n    //   setAgentLocation({\r\n    //     lat: parseFloat(location.lat),\r\n    //     lng: parseFloat(location.lng),\r\n    //   });\r\n  };\r\n\r\n  const addDestinationMarker = () => {\r\n    if (isValidLocation(userLocation)) {\r\n      // #TODO - Change default markers with our markers\r\n      var el = document.createElement(\"div\");\r\n      el.className = \"user-marker\";\r\n\r\n      new mapboxgl.Marker(el)\r\n        .setLngLat([userLocation.lat, userLocation.lng])\r\n        .addTo(map);\r\n\r\n      getAgentLocation();\r\n    }\r\n  };\r\n\r\n  const initializedMapboxDirections = () => {\r\n    if (isValidLocation(userLocation) && isValidLocation(agentLocation)) {\r\n      const newMapboxDirection = new window.MapboxDirections({\r\n        accessToken,\r\n        controls: { instructions: false },\r\n        unit: \"metric\",\r\n        profile: \"mapbox/driving\",\r\n      });\r\n\r\n      setDirections(newMapboxDirection);\r\n      map.addControl(newMapboxDirection, \"top-left\");\r\n\r\n      setMapDirections();\r\n    }\r\n  };\r\n\r\n  const setMapDirections = () => {\r\n    if (directions) {\r\n      directions.setOrigin([userLocation.lng, userLocation.lat]);\r\n\r\n      if (Object.keys(directions.getDestination()).length === 0) {\r\n        directions.setDestination([agentLocation.lng, agentLocation.lat]);\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!order) return;\r\n\r\n  if (!userAddress) {\r\n    return (\r\n      <h3 style={{ width: \"100%\", textAlign: \"center\", marginTop: \"10px\" }}>\r\n        No address found\r\n      </h3>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      ref={mapContainer}\r\n      style={{\r\n        height: \"350px\",\r\n        width: \"100%\",\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Map;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { Badge, Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiArrowFromRight, BiDownload, BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"react-step-progress-bar/styles.css\";\r\nimport Map from \"../../components/Map\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { OrderStatus } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport { AiFillPlusSquare } from \"react-icons/ai\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\n\r\nconst key = \"bookings\";\r\n\r\nconst assignAgent = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: { agent_id: string };\r\n  id: string;\r\n}) => {\r\n  return API.post(`bookings/${id}/assign-agent`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst updateOrderStatus = ({ formdata, id }: { formdata: any; id: string }) => {\r\n  return API.post(`${key}/${id}/update-status`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst SingleOrder = () => {\r\n  const { id }: { id: string } = useParams();\r\n  const history = useHistory();\r\n  const [showAssignAgent, setShowAssignAgent] = useState(false);\r\n  const { data, isLoading, isFetching } = useGetSingleQuery({ id, key });\r\n\r\n  // const { data: Invoice, isLoading: isInvoiceLoading } = useQuery<any>(\r\n  //   [`${key}/${15}/download-invoice`],\r\n  //   {\r\n  //     // enabled: !!data?.transaction?.id,\r\n  //   }\r\n  const _onDownloadInvoice = async (id) => {\r\n    try {\r\n      const res = await API.get(\"/bookings/\" + id + \"/download-invoice\");\r\n      if (res) console.log({ res });\r\n    } catch (error) {\r\n      handleApiError(error, history);\r\n    }\r\n  };\r\n  // );\r\n\r\n  const { mutate, isLoading: isAsigningLoading } = useMutation(assignAgent, {\r\n    onSuccess: (data) => {\r\n      showMsgToast(\"Agent assigned successfully\");\r\n      setTimeout(() => {\r\n        queryClient.invalidateQueries(key);\r\n        queryClient.invalidateQueries(`${key}/${id}`);\r\n      }, 500);\r\n    },\r\n  });\r\n  const { mutate: mutateOrderStatus, isLoading: isOrderStatusMutateLoading } =\r\n    useMutation(updateOrderStatus, {\r\n      onSuccess: (data) => {\r\n        showMsgToast(\"Order Status  updated successfully\");\r\n        setTimeout(() => {\r\n          queryClient.invalidateQueries(key);\r\n          queryClient.invalidateQueries(`${key}/${id}`);\r\n        }, 500);\r\n      },\r\n    });\r\n  const [form, setForm] = useState({\r\n    agent_id: data?.agent_id,\r\n    status: data?.status,\r\n  });\r\n\r\n  const _onformChange = (idx: string, value: any) => {\r\n    setForm((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n    setShowAssignAgent(false);\r\n  };\r\n\r\n  const { data: Agents, isLoading: isAgentLoading } = useQuery<any>(\r\n    [\r\n      \"users\",\r\n      ,\r\n      {\r\n        role: \"agent\",\r\n      },\r\n    ],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n\r\n  const _onCreateIssueClick = () => {\r\n    history.push(\"/issues/create-edit\", {\r\n      id: data?.user_id,\r\n      order_id: id,\r\n      ref_id: data?.ref_id,\r\n    });\r\n  };\r\n\r\n  const statusBadgeVairant = (status: string) => {\r\n    const _status = status.toLowerCase();\r\n\r\n    if (_status === \"success\") return \"success\";\r\n\r\n    if (_status === \"pending\" || _status === \"pending_payment\")\r\n      return \"warning\";\r\n\r\n    return \"danger\";\r\n  };\r\n\r\n  if (isLoading || isFetching) {\r\n    return <IsLoading />;\r\n  }\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n  // console.log(data);\r\n  return (\r\n    <Container fluid className=\"component-wrapper px-0 py-2\">\r\n      <Container fluid className=\"d-flex justify-content-between py-2\">\r\n        <div className=\"d-flex align-items-center\">\r\n          <h2 className=\"font-weight-bold\">Order</h2>\r\n          <h2 className=\"ml-2\">#{data.ref_id}</h2>\r\n          <Badge variant=\"primary\" className=\"mx-3 px-3 py-2 text-uppercase\">\r\n            {data.order_type}\r\n          </Badge>\r\n          <Badge\r\n            variant={statusBadgeVairant(data.status)}\r\n            className=\"px-3 py-2 text-uppercase\"\r\n          >\r\n            {data.status}\r\n          </Badge>\r\n        </div>\r\n        <div>\r\n          {!isLoading && data.transaction && (\r\n            <Button\r\n              variant=\"success\"\r\n              onClick={() => _onDownloadInvoice(data?.transaction[0]?.id)}\r\n            >\r\n              <div className=\"text-white\">\r\n                <BiDownload size={24} /> <b>Invoice</b>\r\n              </div>\r\n            </Button>\r\n          )}\r\n          <Button className=\"ml-2\" onClick={() => _onCreateIssueClick()}>\r\n            <div className=\"text-white\">\r\n              <AiFillPlusSquare size={24} /> <b>Issue</b>\r\n            </div>\r\n          </Button>\r\n          <Button className=\"ml-2\" onClick={() => history.goBack()}>\r\n            <div className=\"text-white\">\r\n              <BiArrowFromRight size={25} /> <b>Back</b>\r\n            </div>\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n\r\n      {data.cancellation_reason && (\r\n        <Container fluid>\r\n          <p className=\"text-danger\">{data.cancellation_reason}</p>\r\n        </Container>\r\n      )}\r\n\r\n      {/* <div className=\"w-75 mx-auto\">\r\n        <ProgressBar\r\n          filledBackground={\"linear-gradient(to right,#72b3fe, #318af0)\"}\r\n          percent={80}\r\n        >\r\n          <Step transition=\"scale\">\r\n            {({ accomplished, index }) => (\r\n              <div\r\n                className={`transitionStep ${\r\n                  accomplished ? \"accomplished\" : null\r\n                }`}\r\n              >\r\n                ❌\r\n              </div>\r\n            )}\r\n          </Step>\r\n          <Step transition=\"scale\">\r\n            {({ accomplished, index }) => (\r\n              <div\r\n                className={`transitionStep ${\r\n                  accomplished ? \"accomplished\" : null\r\n                }`}\r\n              >\r\n                ⏳\r\n              </div>\r\n            )}\r\n          </Step>\r\n\r\n          <Step transition=\"scale\">\r\n            {({ accomplished, index }) => (\r\n              <div\r\n                className={`transitionStep ${\r\n                  accomplished ? \"accomplished\" : null\r\n                }`}\r\n              >\r\n                🙍\r\n              </div>\r\n            )}\r\n          </Step>\r\n\r\n          <Step transition=\"scale\">\r\n            {({ accomplished, index }) => (\r\n              <div\r\n                className={`transitionStep ${\r\n                  accomplished ? \"accomplished\" : null\r\n                }`}\r\n              >\r\n                🚚\r\n              </div>\r\n            )}\r\n          </Step>\r\n\r\n          <Step transition=\"scale\">\r\n            {({ accomplished, index }) => (\r\n              <div\r\n                className={`transitionStep ${\r\n                  accomplished ? \"accomplished\" : null\r\n                }`}\r\n              >\r\n                ✅\r\n              </div>\r\n            )}\r\n          </Step>\r\n        </ProgressBar>\r\n      </div> */}\r\n\r\n      <div className=\"dashboard-page w-100\">\r\n        <Container fluid className=\"status-container mt-2\">\r\n          <div className=\"card p-2 view-padding right-div d-flex mb-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div\r\n                  className=\"text-black pb-3\"\r\n                  style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                  onClick={() => _onUserClick(data.user_id)}\r\n                >\r\n                  Update order status\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                <Row>\r\n                  <Col md=\"auto\">\r\n                    <Form.Group>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={data?.status}\r\n                        onChange={(e) => {\r\n                          _onformChange(\"status\", e.target.value);\r\n                          mutateOrderStatus({\r\n                            formdata: { status: e.target.value },\r\n                            id,\r\n                          });\r\n                        }}\r\n                        style={{\r\n                          width: \"200px\",\r\n                          fontSize: 14,\r\n                        }}\r\n                      >\r\n                        {OrderStatus.map((item) => {\r\n                          if (item.id !== \"\")\r\n                            return (\r\n                              <option value={item[\"id\"]}>{item[\"name\"]}</option>\r\n                            );\r\n                        })}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n\r\n                    <p\r\n                      style={{ fontSize: 13, lineHeight: 1.3, marginBottom: 5 }}\r\n                      className=\"text-muted\"\r\n                    >\r\n                      Do note: Status should be changed by the agent from the\r\n                      app, as it should be to avoid complection in the database.\r\n                      Please try to avoid changing from here if possible.\r\n                    </p>\r\n                  </Col>\r\n                </Row>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-2  view-padding right-div d-flex mb-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div\r\n                  className=\"text-black pb-3\"\r\n                  style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                  onClick={() => _onUserClick(data.user_id)}\r\n                >\r\n                  {!isLoading && !data?.agent_id\r\n                    ? \"Assign Agent\"\r\n                    : \"Assigned Agent\"}\r\n                </div>\r\n\r\n                <div\r\n                  className=\"text-primary small\"\r\n                  onClick={() => setShowAssignAgent(!showAssignAgent)}\r\n                >\r\n                  {showAssignAgent && data?.agent_id ? \"Close\" : \"Assign agent\"}\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                {!isLoading && (!data?.agent_id || showAssignAgent) && (\r\n                  <Col md=\"auto\">\r\n                    <Form.Group>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        value={form.agent_id || \"\"}\r\n                        onChange={(e) => {\r\n                          _onformChange(\"agent_id\", e.target.value);\r\n                          mutate({\r\n                            formdata: { agent_id: e.target.value },\r\n                            id,\r\n                          });\r\n                        }}\r\n                        style={{\r\n                          width: \"200px\",\r\n                          fontSize: 14,\r\n                        }}\r\n                      >\r\n                        <option value=\"\">Select Agent</option>\r\n                        {!isAgentLoading &&\r\n                          Agents?.data.map((item) => (\r\n                            <option value={item[\"id\"]}>{item[\"name\"]}</option>\r\n                          ))}\r\n                      </Form.Control>\r\n                    </Form.Group>\r\n                  </Col>\r\n                )}\r\n\r\n                {data.agent && (\r\n                  <>\r\n                    <table className=\"w-100\">\r\n                      <tbody>\r\n                        <tr>\r\n                          <td className=\"text-muted\">\r\n                            <p className=\"view-heading\">Name</p>\r\n                          </td>\r\n                          <td className=\"text-right\">\r\n                            <p className=\"view-subheading\">{data.agent.name}</p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-muted \">\r\n                            <p className=\"view-heading\">Email</p>\r\n                          </td>\r\n                          <td className=\"text-primary  font-weight-bold text-right\">\r\n                            <p className=\"view-subheading\">\r\n                              {data.agent.email}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td className=\"text-muted \">\r\n                            <p className=\"view-heading phone-padd\">Phone</p>\r\n                          </td>\r\n                          <td className=\"text-primary  font-weight-bold text-right\">\r\n                            <p className=\"view-subheading\">\r\n                              {data.agent.phone}\r\n                            </p>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <span\r\n                      className=\"small text-primary font-weight-bold\"\r\n                      onClick={() => _onUserClick(data.agent_id)}\r\n                      style={{ cursor: \"pointer\" }}\r\n                    >\r\n                      View Profile\r\n                    </span>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-2 view-padding right-div d-flex\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div\r\n                    className=\"text-black pb-3\"\r\n                    style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Customer\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"text-primary small\"\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Edit Info\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"text-muted\">\r\n                        <p className=\"view-heading\">Name</p>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <p className=\"view-subheading\">{data.user.name}</p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Email</p>\r\n                      </td>\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <a href={`mailto:${data.user.email}`}>\r\n                          <p className=\"view-subheading text-primary\">\r\n                            {data.user.email}\r\n                          </p>\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading phone-padd\">Phone</p>\r\n                      </td>\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">{data.user.phone}</p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <span\r\n                  className=\"small text-primary font-weight-bold\"\r\n                  onClick={() => _onUserClick(data.user_id)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  View Profile\r\n                </span>\r\n              </div>\r\n\r\n              <hr className=\"mb-3 mt-3\" />\r\n              {data?.address ? (\r\n                <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                  <p className=\"view-heading font-weight-bold\">\r\n                    Billing Address\r\n                  </p>\r\n                  <p className=\"view-subheading\">\r\n                    {data.address.address}\r\n                    {\", \"}\r\n                    {data.address.city}\r\n                    {\", \"}\r\n                    {data.address.pincode}{\" \"}\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <p className=\"view-subheading\">Billing Address not available</p>\r\n              )}\r\n\r\n              <hr className=\"mb-3 mt-2\" />\r\n              {data?.address && (\r\n                <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                  <p className=\"view-heading font-weight-bold\">\r\n                    Shipping Address\r\n                  </p>\r\n                  <p className=\"view-subheading\">\r\n                    {data.address.address}\r\n                    {\", \"}\r\n                    {data.address.city}\r\n                    {\", \"}\r\n                    {data.address.pincode}{\" \"}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n\r\n        <Container fluid className=\"charts-container\">\r\n          <div className=\"card view-padding p-2 d-flex mt-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div\r\n                style={{ width: \"100%\", height: \"350px\", position: \"relative\" }}\r\n              >\r\n                <Map order={data} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {data?.tickets?.length && (\r\n            <div className=\"card p-2 view-padding right-div d-flex mb-3\">\r\n              <div className=\"d-flex flex-column\">\r\n                <div className=\"text-primary\">\r\n                  <div\r\n                    className=\"text-black pb-3\"\r\n                    style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                  >\r\n                    Order Issues\r\n                  </div>\r\n                </div>\r\n\r\n                <hr className=\"mb-3\" />\r\n\r\n                <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                  {data?.tickets.map((ticket) => (\r\n                    <>\r\n                      <Row>\r\n                        <Col md=\"auto\">\r\n                          <Container\r\n                            fluid\r\n                            className=\" m-0 p-0 d-flex align-items-center justify-content-between w-100\"\r\n                          >\r\n                            <p className=\"m-0 mr-2 w-100\">\r\n                              <b>{ticket.title}</b>\r\n                            </p>\r\n                            <CustomBadge\r\n                              title={ticket.status}\r\n                              variant={\r\n                                ticket.status === \"active\"\r\n                                  ? \"danger\"\r\n                                  : \"success\"\r\n                              }\r\n                            />\r\n                          </Container>\r\n                          <p\r\n                            style={{\r\n                              fontSize: 13,\r\n                              lineHeight: 1.3,\r\n                              marginBottom: 5,\r\n                            }}\r\n                            className=\"text-muted\"\r\n                          >\r\n                            {ticket.description}\r\n                          </p>\r\n                          <span\r\n                            className=\"small text-primary font-weight-bold ml-auto\"\r\n                            style={{ cursor: \"pointer\" }}\r\n                            onClick={() => history.push(`/issues/${ticket.id}`)}\r\n                          >\r\n                            View Issue\r\n                          </span>\r\n                        </Col>\r\n                      </Row>\r\n                      <hr className=\"my-2\" />\r\n                    </>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"card view-padding p-2 d-flex mt-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div\r\n                    className=\"text-black pb-3\"\r\n                    style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Summary\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"mb-3\" />\r\n              <div\r\n                className=\"d-flex flex-column w-100\"\r\n                style={{ fontSize: 18 }}\r\n              >\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    {data.vehicle && (\r\n                      <>\r\n                        <tr>\r\n                          <td className=\"view-heading py-2\">Pick-up Vehicle</td>\r\n                          <td className=\"view-subheading py-2 text-right\">\r\n                            {data.vehicle.name}\r\n                          </td>\r\n                        </tr>\r\n                      </>\r\n                    )}\r\n\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Scheduled At</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data.scheduled_at\r\n                            ? moment(data.scheduled_at).format(\r\n                                \"DD/MM/YY(hh:mm)\"\r\n                              )\r\n                            : \"-\"}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Picked At</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data.picked_at\r\n                            ? moment(data.picked_at).format(\"DD/MM/YY(hh:mm)\")\r\n                            : \"-\"}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Closed At</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data.closed_at\r\n                            ? moment(data.closed_at).format(\"DD/MM/YY(hh:mm)\")\r\n                            : \"-\"}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {data?.services?.length ? (\r\n            <div className=\"card view-padding p-2 d-flex mt-3\">\r\n              <div className=\"d-flex flex-column\">\r\n                <div className=\"text-primary\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <div\r\n                      className=\"text-black pb-3\"\r\n                      style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    >\r\n                      Services\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr className=\"mb-3\" />\r\n                <div className=\"d-flex flex-column\">\r\n                  <div\r\n                    className=\"d-flex flex-column w-100\"\r\n                    style={{ fontSize: 18 }}\r\n                  >\r\n                    <table className=\"w-100\">\r\n                      <tbody>\r\n                        {data.services.map((service) => (\r\n                          <tr>\r\n                            <td\r\n                              className=\"view-heading text-primary\"\r\n                              style={{ cursor: \"pointer\" }}\r\n                              onClick={() =>\r\n                                history.push(\"/services/create-edit\", {\r\n                                  id: service.id,\r\n                                })\r\n                              }\r\n                            >\r\n                              {service?.name}\r\n                            </td>\r\n                            <td className=\"text-right\">\r\n                              <p className=\"view-subheading\">\r\n                                ₹{service?.price}\r\n                              </p>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n\r\n          <div className=\"card view-padding p-2 d-flex mt-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div\r\n                    className=\"text-black pb-3\"\r\n                    style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Payment Summary\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div\r\n                className=\"d-flex flex-column w-100\"\r\n                style={{ fontSize: 18 }}\r\n              >\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"view-heading\">Total Cost</td>\r\n                      <td className=\"text-right\">\r\n                        <p className=\"view-subheading\">₹{data.total_cost}</p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"view-heading\">Discount</td>\r\n                      <td className=\"text-success font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">₹{data.discount}</p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"view-heading pt-3\">\r\n                        Total Payable Amount\r\n                      </td>\r\n                      <td\r\n                        className=\"text-primary pt-2 font-weight-bold text-right\"\r\n                        style={{ fontSize: \"24px\" }}\r\n                      >\r\n                        <p className=\"view-subheading\">\r\n                          ₹{data.payable_amount}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {data.plan && (\r\n            <div className=\"card p-2 d-flex mt-3\">\r\n              <div className=\"d-flex flex-column\">\r\n                <div className=\"text-primary\">\r\n                  <h5>Plan</h5>\r\n                </div>\r\n                <div\r\n                  className=\"d-flex flex-column w-100\"\r\n                  style={{ fontSize: 18 }}\r\n                >\r\n                  <table className=\"w-100\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td className=\"view-heading\">Name</td>\r\n                        <td className=\"view-subheading font-weight-bold text-right\">\r\n                          {data.plan.name}\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"view-heading py-2\">Description</td>\r\n                        <td className=\"view-subheading font-weight-light text-capitalize\">\r\n                          {data.plan.description}\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"view-heading pt-3\">Price</td>\r\n                        <td\r\n                          className=\"view-subheading pt-2 font-weight-bold text-right\"\r\n                          style={{ fontSize: \"24px\" }}\r\n                        >\r\n                          ₹{data.plan.price}\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Container>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SingleOrder;\r\n","import { AxiosError } from \"axios\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"get-all-permission\";\r\n\r\nconst deleteBrand = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst intitialFilter = {\r\n  active: \"\",\r\n  q: \"\",\r\n  page: 1,\r\n  perPage: 25,\r\n};\r\n\r\nconst Permissions = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log({ filter });\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const {\r\n    data: RolesPermission,\r\n    isLoading: isRolesPermissionLoading,\r\n    isFetching: isRolesPermissoinFetch,\r\n    error: RolesPermissionError,\r\n  } = useQuery<any>([\"roles-with-permission\", , filter], {\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteBrand, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Permission deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/permissions/create-edit\");\r\n  };\r\n  const _onRolesCreateClick = () => {\r\n    history.push(\"/assign-permission/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/permissions/create-edit\", { id });\r\n  };\r\n  const _onGiveClick = (id: string) => {\r\n    history.push(\"/assign-permission/create-edit\", { id });\r\n  };\r\n  const _onRevokeClick = (id: string) => {\r\n    history.push(\"/revoke-permission/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  console.log({ RolesPermission });\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"Role\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Permissions\",\r\n        accessor: \"permissions\",\r\n        Cell: (data: Cell) => {\r\n          const p = data.row.values.permissions;\r\n          const list = p.map((x) => x.name).join(\", \");\r\n          return <span>{list}</span>;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <div className=\"d-flex\">\r\n              <Button\r\n                variant=\"outline-primary\"\r\n                onClick={() => {\r\n                  _onGiveClick((data.row.original as any).id);\r\n                }}\r\n              >\r\n                Give\r\n              </Button>\r\n              <Button\r\n                className=\"ml-2\"\r\n                variant=\"outline-danger\"\r\n                onClick={() => {\r\n                  _onRevokeClick((data.row.original as any).id);\r\n                }}\r\n              >\r\n                Revoke\r\n              </Button>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n  const permissionColumn = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n  if (\r\n    !RolesPermission &&\r\n    (!isRolesPermissionLoading || !isRolesPermissoinFetch)\r\n  ) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Assign Permission\" />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2 mb-3\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isRolesPermissionLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={RolesPermission?.role}\r\n                  columns={columns}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isRolesPermissoinFetch}\r\n                  isSelectable={false}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n\r\n      <PageHeading\r\n        title=\"Permissions\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data}\r\n                  columns={permissionColumn}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Permissions;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { FieldArray, Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"give-permission\";\r\n\r\nconst createUpdataBrand = ({ formdata, id }: { formdata: any; id: string }) => {\r\n  return API.post(`give-permission`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst AssignPermissionForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({\r\n    id,\r\n    key: \"get-roles\",\r\n  });\r\n  const { data: Permissions, isLoading: isPermissionsLoading } = useQuery<any>([\r\n    \"get-all-permission\",\r\n  ]);\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/permissions\");\r\n      showMsgToast(\"Permission assigned successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title={\"Assign Permission Role\"} />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={\r\n                apiData\r\n                  ? {\r\n                      ...apiData,\r\n                      permission: apiData?.permissions.map((p) => p.id),\r\n                    }\r\n                  : {}\r\n              }\r\n              onSubmit={(values) => {\r\n                mutate({ formdata: values, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue, values }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <p className=\"text-capitalize font-weight-bold\">\r\n                      {apiData?.name}\r\n                    </p>\r\n                  </div>\r\n                  <Row>\r\n                    <Col>\r\n                      <p className=\"text-muted\">Permissions</p>\r\n\r\n                      <FieldArray\r\n                        name=\"permission\"\r\n                        render={(arrayHelpers) => (\r\n                          <div>\r\n                            {Permissions?.map((p) => (\r\n                              <div>\r\n                                <label\r\n                                  key={p.id}\r\n                                  className=\"d-flex align-items-center\"\r\n                                >\r\n                                  <input\r\n                                    name=\"permission\"\r\n                                    type=\"checkbox\"\r\n                                    value={p.id}\r\n                                    checked={values?.permission?.includes(p.id)}\r\n                                    onChange={(e) => {\r\n                                      if (e.target.checked) {\r\n                                        arrayHelpers.push(p.id);\r\n                                      } else {\r\n                                        const idx = values?.permission?.indexOf(\r\n                                          p.id\r\n                                        );\r\n                                        arrayHelpers.remove(idx);\r\n                                      }\r\n                                    }}\r\n                                  />\r\n                                  <span className=\" ml-2 \">{p.name}</span>\r\n                                </label>\r\n                              </div>\r\n                            ))}\r\n                          </div>\r\n                        )}\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AssignPermissionForm;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"create-permission\";\r\n\r\nconst createUpdataBrand = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst PermissionsCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({\r\n    id,\r\n    key: \"get-permission\",\r\n  });\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(\r\n        () => queryClient.invalidateQueries(\"get-all-permission\"),\r\n        500\r\n      );\r\n      history.replace(\"/permissions\");\r\n      if (id) return showMsgToast(\"Permission updated successfully\");\r\n      showMsgToast(\"Permission created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title={id ? \"Update Permission\" : \"Add Permission\"} />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={apiData || {}}\r\n              onSubmit={(values) => {\r\n                mutate({ formdata: values, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <InputField\r\n                      name=\"name\"\r\n                      placeholder=\"Name\"\r\n                      label=\"Name\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PermissionsCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { FieldArray, Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"revoke-permission\";\r\n\r\nconst createUpdataBrand = ({ formdata, id }: { formdata: any; id: string }) => {\r\n  return API.post(`revoke-permission/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst RevokePermission = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({\r\n    id,\r\n    key: \"get-roles\",\r\n  });\r\n  const { data: Permissions, isLoading: isPermissionsLoading } = useQuery<any>([\r\n    \"get-all-permission\",\r\n  ]);\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(\"\"), 500);\r\n      history.replace(\"/permissions\");\r\n      showMsgToast(\"Permission revoked successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title={\"Revoke Permission Role\"} />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={\r\n                apiData\r\n                  ? {\r\n                      ...apiData,\r\n                      // permission: apiData?.permissions.map((p) => p.id),\r\n                    }\r\n                  : {}\r\n              }\r\n              onSubmit={(values) => {\r\n                console.log({ values });\r\n                mutate({ formdata: values, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue, values }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <p className=\"text-capitalize font-weight-bold\">\r\n                      {apiData?.name}\r\n                    </p>\r\n                  </div>\r\n                  <Row>\r\n                    <Col>\r\n                      <p className=\"text-muted\">Permissions</p>\r\n\r\n                      <InputField\r\n                        as=\"select\"\r\n                        label=\"Select Permissoin to Revoke\"\r\n                        name=\"permission\"\r\n                        selectData={values.permissions}\r\n                        selectTitleKey=\"name\"\r\n                        selectValueKey=\"name\"\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RevokePermission;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { InsideCart, isActiveArray } from \"../../utils/arrays\";\r\nimport { baseUploadUrl, primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"plans\";\r\n\r\nconst deletePlans = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  active: \"\",\r\n  is_popular: \"\",\r\n  category_id: \"\",\r\n  allowed_usage: \"\",\r\n};\r\nconst Plans = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log({ filter });\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { data: Categories, isLoading: isCategoresLoading } = useQuery<any>([\r\n    \"categories\",\r\n  ]);\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deletePlans, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Plans deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/plans/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/plans/create-edit\", { id });\r\n  };\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Image\",\r\n        accessor: \"image\",\r\n        Cell: (data: Cell) => (\r\n          <TableImage file={data.row.values.image} folder=\"plans\" />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Price\",\r\n        accessor: \"price\",\r\n      },\r\n      {\r\n        Header: \"Category\",\r\n        accessor: \"category_id\",\r\n      },\r\n      {\r\n        Header: \"Allowed Usage\",\r\n        accessor: \"allowed_usage\",\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Is Popular\",\r\n        accessor: \"is_popular\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_popular} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Plans\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"1\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Active\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"0\"\r\n                currentValue={filter.active}\r\n                dataLength={data?.data?.length}\r\n                idx=\"active\"\r\n                title=\"Not Active\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.category_id}\r\n                          data={!isCategoresLoading && Categories.data}\r\n                          label=\"Categories\"\r\n                          idx=\"category_id\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.allowed_usage}\r\n                          data={InsideCart}\r\n                          label=\"Allowed Usage\"\r\n                          idx=\"allowed_usage\"\r\n                          width=\"80px\"\r\n                          onFilterChange={_onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.is_popular}\r\n                          data={isActiveArray}\r\n                          label=\"Is Popular?\"\r\n                          idx=\"is_popular\"\r\n                          onFilterChange={_onFilterChange}\r\n                          defaultSelectTitle=\"Show All\"\r\n                        />\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Plans;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { FieldArray, Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"plans\";\r\n\r\nconst createUpdataCoupons = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst PlanCreateUpdateForm = () => {\r\n  const history = useHistory();\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n\r\n  const { data: categories, isLoading: isCategoriesLoading } = useQuery<any>([\r\n    \"categories\",\r\n  ]);\r\n\r\n  const { data: Services, isLoading: isServicesLoading } = useQuery<any>([\r\n    \"services\",\r\n  ]);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataCoupons,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n        history.replace(\"/plans\");\r\n        if (id) return showMsgToast(\"Plan updated successfully\");\r\n        showMsgToast(\"Plan created successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Plans\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={\r\n              apiData\r\n                ? {\r\n                    ...apiData,\r\n                    services: apiData?.allowed_services.map((s) => s.id),\r\n                  }\r\n                : { is_active: 1 }\r\n            }\r\n            onSubmit={(values) => {\r\n              console.log({ values });\r\n              const { image, services, ...rest } = values;\r\n              const formdata = new FormData();\r\n\r\n              for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n              for (let k in services)\r\n                formdata.append(\"services[]\", services[k]);\r\n              if (image && typeof image !== \"string\")\r\n                formdata.append(\"image\", image);\r\n\r\n              mutate({ formdata, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue, values }) => (\r\n              <Form>\r\n                <div className=\"form-container  py-2 \">\r\n                  <InputField\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    label=\"Name\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    type=\"number\"\r\n                    name=\"price\"\r\n                    placeholder=\"Price\"\r\n                    label=\"Price\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    type=\"number\"\r\n                    name=\"allowed_usage\"\r\n                    placeholder=\"Allowed Usage\"\r\n                    label=\"Allowed Usage\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    name=\"image\"\r\n                    placeholder=\"image\"\r\n                    label=\"Choose Plan Image\"\r\n                    isFile\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n\r\n                  <InputField\r\n                    name=\"category_id\"\r\n                    placeholder=\"Category\"\r\n                    label=\"Choose Category\"\r\n                    as=\"select\"\r\n                    selectData={!isCategoriesLoading && categories.data}\r\n                  />\r\n\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                    name=\"is_active\"\r\n                    label=\"Is active?\"\r\n                    placeholder=\"Choose is active\"\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                    name=\"is_popular\"\r\n                    label=\"Is Popular?\"\r\n                    placeholder=\"Choose is popular\"\r\n                  />\r\n                </div>\r\n\r\n                <Row>\r\n                  <Col xl={12} sm={12}>\r\n                    <p className=\"text-black font-weight-bold small\">\r\n                      Services\r\n                    </p>\r\n                    <FieldArray\r\n                      name=\"services\"\r\n                      render={(arrayHelpers) => (\r\n                        <div className=\"d-flex flex-wrap\">\r\n                          {!isServicesLoading &&\r\n                            Services?.data?.map((p) => (\r\n                              <div className=\"mr-2\">\r\n                                <label\r\n                                  key={p.id}\r\n                                  className=\"d-flex align-items-center\"\r\n                                >\r\n                                  <input\r\n                                    name=\"services\"\r\n                                    type=\"checkbox\"\r\n                                    value={p.id}\r\n                                    checked={values?.services?.includes(p.id)}\r\n                                    onChange={(e) => {\r\n                                      if (e.target.checked) {\r\n                                        arrayHelpers.push(p.id);\r\n                                      } else {\r\n                                        const idx = values?.services?.indexOf(\r\n                                          p.id\r\n                                        );\r\n                                        arrayHelpers.remove(idx);\r\n                                      }\r\n                                    }}\r\n                                  />\r\n                                  <span className=\" ml-2 \">{p.name}</span>\r\n                                </label>\r\n                              </div>\r\n                            ))}\r\n                        </div>\r\n                      )}\r\n                    />\r\n                  </Col>\r\n                  <Col xl={12} sm={12}>\r\n                    <TextEditor\r\n                      name=\"description\"\r\n                      label=\"Description\"\r\n                      setFieldValue={setFieldValue}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlanCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"get-all-roles\";\r\n\r\nconst removeRole = (id: string) => {\r\n  return API.get(`remove-role/${id}`);\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: 1,\r\n  perPage: 25,\r\n};\r\n\r\nconst Roles = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isRemoveLoading } = useMutation(removeRole, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Role removed successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/roles/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/roles/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      // {\r\n      //   Header: \"Actions\",\r\n      //   Cell: (data: Cell) => {\r\n      //     return (\r\n      //       <EditButton\r\n      //         onClick={() => {\r\n      //           _onEditClick(data.row.values.id);\r\n      //         }}\r\n      //       />\r\n      //     );\r\n      //   },\r\n      // },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Roles\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id)[0]);\r\n            }}\r\n          >\r\n            {isRemoveLoading ? \"Loading...\" : \"Remove\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Roles;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"create-roles\";\r\n\r\nconst createUpdataBrand = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst RolesCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({\r\n    id,\r\n    key: \"get-roles\",\r\n  });\r\n  const { mutate, isLoading } = useMutation(createUpdataBrand, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(\"get-all-roles/1\"), 500);\r\n      history.replace(\"/roles\");\r\n      if (id) return showMsgToast(\"Role updated successfully\");\r\n      showMsgToast(\"Role created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const title = id ? \"Update Role\" : \"Add Role\";\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title={title} />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={apiData || {}}\r\n              onSubmit={(values) => {\r\n                const { logo, ...rest } = values;\r\n                const formdata = new FormData();\r\n                for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n                if (logo && typeof logo !== \"string\")\r\n                  formdata.append(\"logo\", logo);\r\n\r\n                mutate({ formdata, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <InputField\r\n                      name=\"name\"\r\n                      placeholder=\"Name\"\r\n                      label=\"Name\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RolesCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Container, Modal, Spinner } from \"react-bootstrap\";\r\nimport { AiFillDelete, AiFillEdit } from \"react-icons/ai\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  baseUploadUrl,\r\n  primaryColor,\r\n  secondaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showErrorToast } from \"../../utils/showErrorToast\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"services\";\r\n\r\nconst deleteServices = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n};\r\n\r\nconst Services = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log({ filter });\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteServices, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Services deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/services/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/services/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Image\",\r\n        accessor: \"image\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => (\r\n          <TableImage file={data.row.values.image} folder=\"services\" />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Price\",\r\n        accessor: \"price\",\r\n      },\r\n      {\r\n        Header: \"Category\",\r\n        accessor: \"category.name\",\r\n      },\r\n      {\r\n        Header: \"Url\",\r\n        accessor: \"url\",\r\n      },\r\n      {\r\n        Header: \"Is Active?\",\r\n        accessor: \"is_active\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.is_active} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Services\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={50}\r\n      />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data?.data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Services;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"services\";\r\n\r\nconst createUpdataServices = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst ServicesCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { data: categories, isLoading: isCategoriesLoading } =\r\n    useQuery(\"categories\");\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataServices,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n        history.replace(\"/services\");\r\n        if (id) return showMsgToast(\"Service updated successfully\");\r\n        showMsgToast(\"Service created successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <Row className=\"rounded\">\r\n      <BackButton title=\"Services\" />\r\n      <Col className=\"mx-auto\">\r\n        <Formik\r\n          initialValues={apiData || {}}\r\n          onSubmit={(values) => {\r\n            // console.log(\"values\", values)\r\n            const formdata = new FormData();\r\n            const { image, ...rest } = values;\r\n            for (let k in rest) formdata.append(k, rest[k]);\r\n            if (values.image) formdata.append(\"image\", values.image);\r\n            mutate({ formdata, id });\r\n          }}\r\n        >\r\n          {({ setFieldValue }) => (\r\n            <Form>\r\n              <div className=\"form-container  py-2 \">\r\n                <InputField\r\n                  name=\"name\"\r\n                  placeholder=\"Name\"\r\n                  label=\"Name\"\r\n                  required\r\n                />\r\n\r\n                <InputField name=\"url\" placeholder=\"Url\" label=\"Url\" required />\r\n                <InputField\r\n                  name=\"price\"\r\n                  placeholder=\"Price\"\r\n                  label=\"Price\"\r\n                  type=\"number\"\r\n                />\r\n                <InputField\r\n                  name=\"category_id\"\r\n                  placeholder=\"Category\"\r\n                  label=\"Choose Category\"\r\n                  as=\"select\"\r\n                  selectData={!isCategoriesLoading && (categories as any).data}\r\n                />\r\n                <InputField\r\n                  as=\"select\"\r\n                  selectData={isActiveArray}\r\n                  name=\"is_active\"\r\n                  label=\"Is active?\"\r\n                  placeholder=\"Choose is active\"\r\n                />\r\n                <InputField\r\n                  name=\"image\"\r\n                  placeholder=\"image\"\r\n                  label=\"Choose Service Image\"\r\n                  isFile\r\n                  setFieldValue={setFieldValue}\r\n                />\r\n              </div>\r\n              <TextEditor\r\n                name=\"details\"\r\n                label=\"Details\"\r\n                setFieldValue={setFieldValue}\r\n              />\r\n              <Row className=\"d-flex justify-content-start\">\r\n                <Col md=\"2\">\r\n                  <Button type=\"submit\" disabled={isLoading} className=\"w-100\">\r\n                    {isLoading ? (\r\n                      <Spinner animation=\"border\" size=\"sm\" />\r\n                    ) : (\r\n                      \"Submit\"\r\n                    )}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default ServicesCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport BraftEditor, { EditorState } from \"braft-editor\";\r\nimport { title } from \"process\";\r\nimport React, { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport API from \"../../utils/API\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"staticPages\";\r\n\r\nconst updatePageData = ({ formdata, id }: { formdata: any; id: string }) => {\r\n  return API.post(`${key}/${id}`, formdata);\r\n};\r\nconst deletePage = (id: any) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\nconst StaticPages = () => {\r\n  const history = useHistory();\r\n\r\n  const { data, isLoading, isFetching } = useQuery<any>([key]);\r\n  const { mutate, isLoading: isUpdatedLoading } = useMutation(updatePageData, {\r\n    onSuccess: () => {\r\n      showMsgToast(\"Page  saved successfully\");\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n  const { mutate: mutateDelete, isLoading: isDeleteLoading } = useMutation(\r\n    deletePage,\r\n    {\r\n      onSuccess: () => {\r\n        showMsgToast(\"Page  deleted successfully\");\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n  const [titles, setTitles] = useState([]);\r\n  const [selectedTitle, setSelectedTitle] = useState(titles[0]);\r\n\r\n  useEffect(() => {\r\n    if (isLoading || isFetching) return;\r\n    if (!data) return;\r\n\r\n    setTitles(data?.data.map((p) => p.title));\r\n  }, [data, isLoading, isFetching]);\r\n  useEffect(() => {\r\n    if (titles.length > 0) {\r\n      setSelectedTitle(titles[0]);\r\n    }\r\n  }, [titles.length]);\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/static-pages/create-edit\");\r\n  };\r\n\r\n  const _onEditPageClick = (pageId: any) => {\r\n    // history.push(\"/static-pages/create-edit\");\r\n    console.log(\"on edit \", pageId);\r\n  };\r\n\r\n  const handleSave = (editorState: EditorState, pagedata: any) => {\r\n    const content = editorState.toHTML();\r\n    const formdata = {\r\n      ...pagedata,\r\n      content,\r\n    };\r\n    mutate({ formdata, id: pagedata.id });\r\n  };\r\n  const _onDeletePage = (pageId: any) => {\r\n    console.log(\"delete page\", pageId);\r\n    mutateDelete(pageId);\r\n  };\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (isLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Static Pages\" onClick={_onCreateClick} />\r\n      <p className=\"small text-muted\">\r\n        Pres Ctrl+S inside editor to save content\r\n      </p>\r\n      <Container fluid className=\"px-0 my-3\">\r\n        {titles?.map((title) => (\r\n          <Button\r\n            variant={selectedTitle === title ? \"primary\" : \"outline-primary\"}\r\n            className=\"mr-2\"\r\n            onClick={() => setSelectedTitle(title)}\r\n          >\r\n            {title}\r\n          </Button>\r\n        ))}\r\n      </Container>\r\n\r\n      {data?.data.map((page) => (\r\n        <Container\r\n          fluid\r\n          className=\"p-0 mb-3\"\r\n          style={{ display: selectedTitle === page.title ? \"block\" : \"none\" }}\r\n        >\r\n          <div className=\"card\">\r\n            <div className=\"card-title d-flex align-items-center justify-content-between\">\r\n              <h3 className=\"text-black px-2\">\r\n                <b>{page.title}</b>\r\n              </h3>\r\n              <div className=\"d-flex align-items-center\">\r\n                <Button\r\n                  className=\"mr-2\"\r\n                  variant=\"danger\"\r\n                  onClick={() => _onDeletePage(page.id)}\r\n                  disabled={isDeleteLoading}\r\n                >\r\n                  {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n                </Button>\r\n                {/* <EditButton onClick={() => _onEditPageClick(page.id)} /> */}\r\n              </div>\r\n            </div>\r\n            <p className=\"text-muted px-2\">{page.description}</p>\r\n            <div className=\"mx-auto\">\r\n              {isFetching || isUpdatedLoading ? (\r\n                <IsLoading />\r\n              ) : (\r\n                <BraftEditor\r\n                  value={BraftEditor.createEditorState(page.content)}\r\n                  onSave={(editorState: EditorState) =>\r\n                    handleSave(editorState, page)\r\n                  }\r\n                  language=\"en\"\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StaticPages;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nconst key = \"staticPages\";\r\n\r\nconst createUpdataStaticPages = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: any;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"applicatioin/json\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst StaticPageCreateForm = () => {\r\n  const history = useHistory();\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataStaticPages,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n        history.replace(\"/static-pages\");\r\n        if (id) return showMsgToast(\"Page updated successfully\");\r\n        showMsgToast(\"Page created successfully\");\r\n      },\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  console.log(\"apiData\", apiData);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Static Page\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={apiData || {}}\r\n            onSubmit={(values) => {\r\n              mutate({ formdata: values, id });\r\n            }}\r\n          >\r\n            {({ setFieldValue }) => (\r\n              <Form>\r\n                <div className=\"form-container  py-2 \">\r\n                  <InputField\r\n                    name=\"title\"\r\n                    placeholder=\"Title\"\r\n                    label=\"Title\"\r\n                    required\r\n                  />\r\n\r\n                  <InputField\r\n                    name=\"url\"\r\n                    placeholder=\"Url\"\r\n                    label=\"Url\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    name=\"description\"\r\n                    placeholder=\"Description\"\r\n                    label=\"Description\"\r\n                    as=\"textarea\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <Row>\r\n                  <Col md={12} xl={12}>\r\n                    <TextEditor\r\n                      name=\"content\"\r\n                      label=\"Content\"\r\n                      setFieldValue={setFieldValue}\r\n                    />\r\n                  </Col>\r\n                </Row>\r\n\r\n                <Row className=\"d-flex justify-content-center\">\r\n                  <Col md=\"6\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default StaticPageCreateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useMemo, useState } from \"react\";\r\nimport { Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { InsideCart } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\n\r\nconst key = \"user-subscriptions\";\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  plan_id: \"\",\r\n  status: \"active\",\r\n  allowed_usage: \"\",\r\n  created_at: \"\",\r\n  user_id: \"\",\r\n  last_used_at: \"\",\r\n};\r\n\r\nconst Subscription = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { data: Plans, isLoading: isPlansLoading } = useQuery<any>([\"plans\"]);\r\n  const { data: Customers, isLoading: isCustomersLoading } = useQuery<any>([\r\n    \"users\",\r\n    ,\r\n    {},\r\n  ]);\r\n  const Status = ({ status }: { status: string }) => {\r\n    const setVariant = () => {\r\n      if (status === \"active\") return \"success\";\r\n\r\n      return \"danger\";\r\n    };\r\n    return <CustomBadge title={status} variant={setVariant()} />;\r\n  };\r\n\r\n  const _onPlanClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/plans/create-edit\", { id });\r\n  };\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"User Name\",\r\n        accessor: \"user.name\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <p\r\n              className=\"text-primary m-0\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => _onUserClick((data.row.original as any).user_id)}\r\n            >\r\n              {data.row.values[\"user.name\"]}\r\n            </p>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Plan ID\",\r\n        accessor: \"plan.name\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <p\r\n              className=\"text-primary m-0\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => _onPlanClick((data.row.original as any).plan_id)}\r\n            >\r\n              {data.row.values[\"plan.name\"]}\r\n            </p>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Allowed Usage\",\r\n        accessor: \"allowed_usage\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Status\",\r\n        accessor: \"status\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => <Status status={data.row.values.status} />,\r\n      },\r\n      {\r\n        Header: \"Transaction Id\",\r\n        accessor: \"transaction_id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"No. Times Used\",\r\n        accessor: \"used\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Last Used\",\r\n        accessor: \"last_used_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.last_used_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <div className=\"d-flex\">\r\n              <Button\r\n                onClick={() =>\r\n                  history.push(`/subscriptions/${data.row.values.id}`)\r\n                }\r\n              >\r\n                View\r\n              </Button>\r\n            </div>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Subscriptions\" totalRecords={data?.total} />\r\n\r\n      {(!isLoading || !isFetching) && (\r\n        <div className=\"filter mb-4\">\r\n          {/* <BreadCrumb\r\n            onFilterChange={_onFilterChange}\r\n            value=\"\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"All\"\r\n          /> */}\r\n          <BreadCrumb\r\n            onFilterChange={_onFilterChange}\r\n            value=\"active\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Active\"\r\n          />\r\n          <BreadCrumb\r\n            onFilterChange={_onFilterChange}\r\n            value=\"expired\"\r\n            currentValue={filter.status}\r\n            dataLength={data?.data?.length}\r\n            idx=\"status\"\r\n            title=\"Expired\"\r\n            isLast\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              <Container className=\"pt-2\">\r\n                <Row className=\"select-filter d-flex\">\r\n                  <Col md=\"auto\">\r\n                    <FilterSelect\r\n                      currentValue={filter.user_id}\r\n                      data={!isCustomersLoading && Customers.data}\r\n                      label=\"User\"\r\n                      idx=\"user_id\"\r\n                      onFilterChange={_onFilterChange}\r\n                    />\r\n                  </Col>\r\n                  <Col md=\"auto\">\r\n                    <FilterSelect\r\n                      currentValue={filter.plan_id}\r\n                      data={!isPlansLoading && Plans.data}\r\n                      label=\"Plan\"\r\n                      idx=\"plan_id\"\r\n                      onFilterChange={_onFilterChange}\r\n                    />\r\n                  </Col>\r\n                  <Col md=\"auto\">\r\n                    <FilterSelect\r\n                      currentValue={filter.allowed_usage}\r\n                      data={InsideCart}\r\n                      label=\"Allowed Usage\"\r\n                      idx=\"allowed_usage\"\r\n                      onFilterChange={_onFilterChange}\r\n                    />\r\n                  </Col>\r\n\r\n                  <Col md=\"auto\">\r\n                    <Form.Group>\r\n                      <Form.Label className=\"text-muted\">\r\n                        Purchased on\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        type=\"date\"\r\n                        value={filter.created_at}\r\n                        onChange={(e) => {\r\n                          const value = moment(e.target.value).format(\r\n                            \"YYYY-MM-DD\"\r\n                          );\r\n                          _onFilterChange(\"created_at\", value);\r\n                        }}\r\n                        style={{\r\n                          fontSize: 14,\r\n                          width: 150,\r\n                          height: 35,\r\n                        }}\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  <Col md=\"auto\">\r\n                    <Form.Group>\r\n                      <Form.Label className=\"text-muted\">\r\n                        Last used at\r\n                      </Form.Label>\r\n                      <Form.Control\r\n                        type=\"date\"\r\n                        value={filter.last_used_at}\r\n                        onChange={(e) => {\r\n                          const value = moment(e.target.value).format(\r\n                            \"YYYY-MM-DD\"\r\n                          );\r\n                          _onFilterChange(\"last_used_at\", value);\r\n                        }}\r\n                        style={{\r\n                          fontSize: 14,\r\n                          width: 150,\r\n                          height: 35,\r\n                        }}\r\n                      />\r\n                    </Form.Group>\r\n                  </Col>\r\n                  <Col\r\n                    md=\"auto\"\r\n                    className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                  >\r\n                    <Button\r\n                      onClick={() => setFilter(intitialFilter)}\r\n                      variant={\r\n                        areTwoObjEqual(intitialFilter, filter)\r\n                          ? \"light\"\r\n                          : \"primary\"\r\n                      }\r\n                      style={{\r\n                        fontSize: 14,\r\n                      }}\r\n                    >\r\n                      Reset Filters\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Container>\r\n              <hr />\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data?.data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                  isSelectable={false}\r\n                />\r\n              )}\r\n              {!error && data.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button variant=\"danger\">Delete</Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Subscription;\r\n","import { AxiosError } from \"axios\";\r\nimport moment from \"moment\";\r\nimport React, { useState } from \"react\";\r\nimport { Badge, Button, Col, Container, Form, Row } from \"react-bootstrap\";\r\nimport { BiArrowFromRight, BiDownload } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport \"react-step-progress-bar/styles.css\";\r\nimport Map from \"../../components/Map\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { OrderStatus } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport { AiFillPlusSquare } from \"react-icons/ai\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\n\r\nconst key = \"user-subscriptions\";\r\n\r\nconst assignAgent = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: { agent_id: string };\r\n  id: string;\r\n}) => {\r\n  return API.post(`bookings/${id}/assign-agent`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst SingleSubscription = () => {\r\n  const { id }: { id: string } = useParams();\r\n  const history = useHistory();\r\n  const { data, isLoading, isFetching } = useGetSingleQuery({ id, key });\r\n\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n  const _onPlanClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/plans/create-edit\", { id });\r\n  };\r\n\r\n  const statusBadgeVairant = (status: string) => {\r\n    const _status = status.toLowerCase();\r\n\r\n    if (_status === \"active\") return \"success\";\r\n\r\n    return \"danger\";\r\n  };\r\n\r\n  if (isLoading || isFetching) {\r\n    return <IsLoading />;\r\n  }\r\n  return (\r\n    <Container fluid className=\"component-wrapper px-0 py-2\">\r\n      <Container fluid className=\"d-flex justify-content-between py-2\">\r\n        <div className=\"d-flex align-items-center\">\r\n          <h2 className=\"font-weight-bold\">Subscription</h2>\r\n          <h2 className=\"mx-2\">#{data?.id}</h2>\r\n          <Badge\r\n            variant={statusBadgeVairant(data.status)}\r\n            className=\"px-3 py-2 text-uppercase\"\r\n          >\r\n            {data.status}\r\n          </Badge>\r\n        </div>\r\n        <div>\r\n          <Button className=\"ml-2\" onClick={() => history.goBack()}>\r\n            <div className=\"text-white\">\r\n              <BiArrowFromRight size={25} /> <b>Back</b>\r\n            </div>\r\n          </Button>\r\n        </div>\r\n      </Container>\r\n\r\n      <div className=\"dashboard-page w-100\">\r\n        <Container fluid className=\"status-container mt-2\">\r\n          <div className=\"card p-2 view-padding right-div d-flex\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div\r\n                    className=\"text-black pb-3\"\r\n                    style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Customer\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"text-primary small\"\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Edit Info\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <hr className=\"mb-3\" />\r\n\r\n              <div className=\"d-flex flex-column\" style={{ fontSize: 18 }}>\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"text-muted\">\r\n                        <p className=\"view-heading\">Name</p>\r\n                      </td>\r\n                      <td className=\"text-right\">\r\n                        <p className=\"view-subheading\">{data.user.name}</p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Email</p>\r\n                      </td>\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <a href={`mailto:${data.user.email}`}>\r\n                          <p className=\"view-subheading text-primary\">\r\n                            {data.user.email}\r\n                          </p>\r\n                        </a>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading phone-padd\">Phone</p>\r\n                      </td>\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">{data.user.phone}</p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <span\r\n                  className=\"small text-primary font-weight-bold\"\r\n                  onClick={() => _onUserClick(data.user_id)}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  View Profile\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Container>\r\n\r\n        <Container fluid className=\"charts-container\">\r\n          <div className=\"card view-padding p-2 d-flex mt-3\">\r\n            <div className=\"d-flex flex-column\">\r\n              <div className=\"text-primary\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <div\r\n                    className=\"text-black pb-3\"\r\n                    style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    onClick={() => _onUserClick(data.user_id)}\r\n                  >\r\n                    Basic Information\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"mb-3\" />\r\n              <div\r\n                className=\"d-flex flex-column w-100\"\r\n                style={{ fontSize: 18 }}\r\n              >\r\n                <table className=\"w-100\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Last User At</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data.last_used_at\r\n                            ? moment(data.last_used_at).format(\r\n                                \"DD/MM/YY(hh:mm)\"\r\n                              )\r\n                            : \"-\"}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Valid Till</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data.last_used_at\r\n                            ? moment(data?.valid_till).format(\"DD/MM/YY(hh:mm)\")\r\n                            : \"-\"}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Created At</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data.last_used_at\r\n                            ? moment(data?.created_at).format(\"DD/MM/YY(hh:mm)\")\r\n                            : \"-\"}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Transaction Id</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">\r\n                          {data?.transaction_id}\r\n                        </p>\r\n                      </td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"text-muted \">\r\n                        <p className=\"view-heading\">Used</p>\r\n                      </td>\r\n\r\n                      <td className=\"text-primary  font-weight-bold text-right\">\r\n                        <p className=\"view-subheading\">{data?.used}</p>\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {data?.services?.length ? (\r\n            <div className=\"card view-padding p-2 d-flex mt-3\">\r\n              <div className=\"d-flex flex-column\">\r\n                <div className=\"text-primary\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <div\r\n                      className=\"text-black pb-3\"\r\n                      style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                    >\r\n                      Services\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <hr className=\"mb-3\" />\r\n                <div className=\"d-flex flex-column\">\r\n                  <div\r\n                    className=\"d-flex flex-column w-100\"\r\n                    style={{ fontSize: 18 }}\r\n                  >\r\n                    <table className=\"w-100\">\r\n                      <tbody>\r\n                        {data.services.map((service) => (\r\n                          <tr>\r\n                            <td className=\"view-heading\">{service.name}</td>\r\n                            <td className=\"text-right\">\r\n                              <p className=\"view-subheading\">₹{service.cost}</p>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ) : null}\r\n\r\n          {data.plan && (\r\n            <div className=\"card view-padding p-2 d-flex mt-3\">\r\n              <div className=\"d-flex flex-column\">\r\n                <div className=\"text-primary\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <div\r\n                      className=\"text-primary pb-3\"\r\n                      style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                      onClick={() => _onPlanClick(data.plan_id)}\r\n                    >\r\n                      Plan\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <hr className=\"mb-3\" />\r\n                <div\r\n                  className=\"d-flex flex-column w-100\"\r\n                  style={{ fontSize: 18 }}\r\n                >\r\n                  <table className=\"w-100\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td className=\"text-muted \">\r\n                          <p className=\"view-heading\">Name</p>\r\n                        </td>\r\n\r\n                        <td className=\"text-primary  font-weight-bold text-right\">\r\n                          <p className=\"view-subheading\">{data.plan.name}</p>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"text-muted \">\r\n                          <p className=\"view-heading\">Price</p>\r\n                        </td>\r\n\r\n                        <td className=\"text-primary  font-weight-bold text-right\">\r\n                          <p className=\"view-subheading\">₹{data.plan.price}</p>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"text-muted \">\r\n                          <p className=\"view-heading\">Allowed Usage</p>\r\n                        </td>\r\n\r\n                        <td className=\"text-primary  font-weight-bold text-right\">\r\n                          <p className=\"view-subheading\">\r\n                            {data.plan.allowed_usage}\r\n                          </p>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"text-muted \">\r\n                          <p className=\"view-heading\">Is Popular?</p>\r\n                        </td>\r\n\r\n                        <td className=\"text-primary  font-weight-bold text-right\">\r\n                          <p className=\"view-subheading\">\r\n                            <IsActiveBadge value={data.plan.is_active} />\r\n                          </p>\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td className=\"text-muted \">\r\n                          <p className=\"view-heading\">Is Active?</p>\r\n                        </td>\r\n\r\n                        <td className=\"text-primary  font-weight-bold text-right\">\r\n                          <p className=\"view-subheading\">\r\n                            <IsActiveBadge value={data.plan.is_popular} />\r\n                          </p>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Container>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SingleSubscription;\r\n","import { AxiosError } from \"axios\";\r\nimport React, { useMemo, useState } from \"react\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport API from \"../../utils/API\";\r\nimport {\r\n  baseUploadUrl,\r\n  clientWebUrl,\r\n  primaryColor,\r\n} from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\n\r\nconst key = \"testimonial\";\r\n\r\nconst deleteCities = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, {\r\n    id,\r\n  });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: 1,\r\n  perPage: 25,\r\n};\r\n\r\nconst Testimonial = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteCities, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Testimonials deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/testimonials/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/testimonials/create-edit\", { id });\r\n  };\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Picture\",\r\n        accessor: \"picture\",\r\n        Cell: (data: Cell) => (\r\n          <TableImage\r\n            file={(data.row.original as any).user.profile_pic}\r\n            folder=\"profile_pic\"\r\n          />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Link\",\r\n        accessor: \"link\",\r\n      },\r\n      {\r\n        Header: \"User\",\r\n        accessor: \"user.name\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <p\r\n              className=\"text-primary m-0\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => _onUserClick((data.row.original as any).user_id)}\r\n            >\r\n              {data.row.values[\"user.name\"] || \"NA\"}\r\n            </p>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Testimonials\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <ReactTable\r\n                  data={data?.data}\r\n                  columns={columns}\r\n                  setSelectedRows={setSelectedRows}\r\n                  filter={filter}\r\n                  onFilterChange={_onFilterChange}\r\n                  isDataLoading={isFetching}\r\n                />\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Testimonial;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport TextEditor from \"../../shared-components/TextEditor\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport SelectSearch, { SelectSearchOption } from \"react-select-search\";\r\nimport Users from \"../Users\";\r\n\r\nconst key = \"testimonial\";\r\n\r\nconst createUpdataTestimonial = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst TestimonialCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const {\r\n    data: Users,\r\n    error,\r\n    isLoading: isUsersLoading,\r\n    isFetching,\r\n  } = useQuery<any>([\"users\", , {}]);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading } = useMutation(createUpdataTestimonial, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      if (id)\r\n        setTimeout(() => queryClient.invalidateQueries(`${key}/${id}`), 500);\r\n      history.replace(\"/testimonials\");\r\n      if (id) return showMsgToast(\"Testimonial updated successfully\");\r\n      showMsgToast(\"Testimonial created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const title = id ? \"Update Testimonial\" : \"Add Testimonial\";\r\n\r\n  const apiData = data as any;\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title={title} />\r\n\r\n      <div className=\"card view-padding p-2 d-flex mt-3\">\r\n        <div className=\"text-primary\">\r\n          <div className=\"d-flex justify-content-between\">\r\n            <div\r\n              className=\"text-black pb-3\"\r\n              style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n            >\r\n              Basic Information\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <hr className=\"mb-3\" />\r\n\r\n        <Row className=\"rounded\">\r\n          <Col className=\"mx-auto\">\r\n            <Formik\r\n              initialValues={apiData || {}}\r\n              onSubmit={(values) => {\r\n                const { picture, ...rest } = values;\r\n                const formdata = new FormData();\r\n                for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n                if (picture && typeof picture !== \"string\")\r\n                  formdata.append(\"picture\", picture);\r\n\r\n                console.log({ formdata });\r\n                mutate({ formdata, id });\r\n              }}\r\n            >\r\n              {({ setFieldValue }) => (\r\n                <Form>\r\n                  <div className=\"form-container \">\r\n                    <InputField name=\"name\" placeholder=\"Name\" label=\"Name\" />\r\n\r\n                    <InputField\r\n                      name=\"picture\"\r\n                      placeholder=\"picture\"\r\n                      label=\"Picture\"\r\n                      isFile\r\n                      setFieldValue={setFieldValue}\r\n                    />\r\n                    <InputField name=\"link\" placeholder=\"Link\" label=\"Link\" />\r\n                    <InputField\r\n                      name=\"user_id\"\r\n                      placeholder=\"User\"\r\n                      label=\"Choose User\"\r\n                      as=\"select\"\r\n                      selectData={!isUsersLoading && Users.data}\r\n                    />\r\n                  </div>\r\n                  <Row>\r\n                    <Col md={12} xl={12}>\r\n                      <TextEditor\r\n                        name=\"description\"\r\n                        label=\"Description\"\r\n                        setFieldValue={setFieldValue}\r\n                      />\r\n                    </Col>\r\n                  </Row>\r\n\r\n                  <Row className=\"d-flex justify-content-start\">\r\n                    <Col md=\"2\">\r\n                      <Button\r\n                        type=\"submit\"\r\n                        disabled={isLoading}\r\n                        className=\"w-100\"\r\n                      >\r\n                        {isLoading ? (\r\n                          <Spinner animation=\"border\" size=\"sm\" />\r\n                        ) : (\r\n                          \"Submit\"\r\n                        )}\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TestimonialCreateUpdateForm;\r\n","export default __webpack_public_path__ + \"static/media/profile.3a6853de.svg\";","import React, { useContext } from \"react\";\r\nimport { Container, Dropdown, Form } from \"react-bootstrap\";\r\nimport { BiMenuAltLeft } from \"react-icons/bi\";\r\nimport { BsBell } from \"react-icons/bs\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport profile from \"../assets/profile.svg\";\r\nimport { IsDesktopContext } from \"../context/IsDesktopContext\";\r\nimport useTokenStore from \"../hooks/useTokenStore\";\r\nimport useUserProfileStore from \"../hooks/useUserProfileStore\";\r\nimport Logo from \"../shared-components/Logo\";\r\nimport { INavBar } from \"../types/interface\";\r\nimport API from \"../utils/API\";\r\nimport { primaryColor } from \"../utils/constants\";\r\n\r\nconst logout = () => {\r\n  return API.post(\"/auth/logout\");\r\n};\r\n\r\nconst TopBar = ({ isNavOpen, setIsNavOpen }: INavBar) => {\r\n  const isDesktop = useContext(IsDesktopContext);\r\n  const history = useHistory();\r\n  const removeToken = useTokenStore((state) => state.removeToken);\r\n  const removeUser = useUserProfileStore((state) => state.removeUser);\r\n  const user = useUserProfileStore((state) => state.user);\r\n\r\n  const { mutate, isLoading } = useMutation(logout, {\r\n    onSuccess: () => {\r\n      removeUser();\r\n      removeToken();\r\n      history.push(\"/login\");\r\n    },\r\n    onError: () => {\r\n      removeUser();\r\n      removeToken();\r\n      history.push(\"/login\");\r\n    },\r\n  });\r\n  const openNavBar = () => {\r\n    if (setIsNavOpen) {\r\n      setIsNavOpen(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      fluid\r\n      className=\"top-bar d-flex align-items-center justify-content-between\"\r\n    >\r\n      {!isDesktop ? (\r\n        <div className=\"menu-hamburger\">\r\n          {!isNavOpen ? (\r\n            <BiMenuAltLeft\r\n              size={32}\r\n              onClick={openNavBar}\r\n              color={primaryColor}\r\n            />\r\n          ) : null}\r\n        </div>\r\n      ) : null}\r\n\r\n      {!isDesktop && <Logo />}\r\n\r\n      {isDesktop && (\r\n        <Form.Group className=\"form-group store-select\">\r\n          <Form.Label className=\"text-muted font-weight-bold\">\r\n            Select Store\r\n          </Form.Label>\r\n\r\n          <Form.Control\r\n            as=\"select\"\r\n            style={{\r\n              width: 150,\r\n              fontSize: 14,\r\n            }}\r\n            disabled\r\n          >\r\n            <option value=\"carsafai\">Car Safai</option>\r\n          </Form.Control>\r\n        </Form.Group>\r\n      )}\r\n\r\n      <div\r\n        className={\r\n          isDesktop\r\n            ? \"d-flex align-items-center ml-auto\"\r\n            : \"d-flex align-items-center\"\r\n        }\r\n      >\r\n        {/* Todo: Add notification functionality */}\r\n        {/* <div className=\"notification\">\r\n          <BsBell size={20} />\r\n          <div className=\"circle bg-primary text-white d-flex  justify-content-center\">\r\n            <p>\r\n              <b>1</b>\r\n            </p>\r\n          </div>\r\n        </div> */}\r\n\r\n        <div className=\"d-flex align-items-center justify-content-center ml-4\">\r\n          {user && <span className=\"text-muted\">{user?.name}</span>}\r\n          <Dropdown className=\"ml-4\">\r\n            <Dropdown.Toggle\r\n              id=\"dropdown-basic\"\r\n              className=\"filter-button bg-transparent border-0 text-primary\"\r\n            >\r\n              {isLoading ? (\r\n                \"Loading\"\r\n              ) : (\r\n                <img src={profile} alt=\"profile\" className=\"profile\" />\r\n              )}\r\n            </Dropdown.Toggle>\r\n\r\n            <Dropdown.Menu>\r\n              <Dropdown.Item onClick={() => mutate()}>\r\n                {isLoading ? \"Loading\" : \"SignOut\"}\r\n              </Dropdown.Item>\r\n            </Dropdown.Menu>\r\n          </Dropdown>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default TopBar;\r\n","import create from \"zustand\";\r\nimport { persist, combine } from \"zustand/middleware\";\r\nimport { LocalStorageKey } from \"../utils/constants\";\r\n\r\ninterface IFilter {\r\n\tstatus: string | null;\r\n\tuser_id: string | null;\r\n\tpayment_method: string | null;\r\n}\r\nexport const INITIAL_FILTER: IFilter = {\r\n\tstatus: \"\",\r\n\tuser_id: \"\",\r\n\tpayment_method: \"\",\r\n};\r\n\r\nlet store = combine({ filter: INITIAL_FILTER }, (set) => ({\r\n\tonFilterChange: (idx: string, value: any) =>\r\n\t\tset((state) => ({ ...state, filter: { ...state.filter, [idx]: value } })),\r\n\tresetFilter: () => set((state) => ({ filter: INITIAL_FILTER })),\r\n}));\r\n\r\nstore = persist(store, { name: LocalStorageKey + \"transaction_filter\" });\r\n\r\nconst useTransactionStoreFilter = create(store);\r\n\r\nexport default useTransactionStoreFilter;\r\n","import { useMemo, useState } from \"react\";\r\nimport { Button, Container, Modal, Spinner, Col, Row } from \"react-bootstrap\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport useTransactionStoreFilter, {\r\n  INITIAL_FILTER,\r\n} from \"../../hooks/useTranscationFilterStore\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { PaymentMethods } from \"../../utils/arrays\";\r\nimport { primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showErrorToast } from \"../../utils/showErrorToast\";\r\n\r\nconst key = \"transactions\";\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n};\r\nconst Transactions = () => {\r\n  const history = useHistory();\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [page, setPage] = useState<number>(1);\r\n\r\n  const [localFilter, setFilter] = useState(intitialFilter);\r\n  const filter = useTransactionStoreFilter((state) => state.filter);\r\n  const onFilterChange = useTransactionStoreFilter(\r\n    (state) => state.onFilterChange\r\n  );\r\n  const resetFilter = useTransactionStoreFilter((state) => state.resetFilter);\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , { ...localFilter, ...filter }],\r\n    {\r\n      onError: (err: any) => {\r\n        showErrorToast(err.response.data.message);\r\n      },\r\n    }\r\n  );\r\n\r\n  const _onUserClick = (id: string) => {\r\n    if (!id) return;\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => ({\r\n      ...prev,\r\n      [idx]: value,\r\n    }));\r\n  };\r\n  const { data: Customers, isLoading: isCustomerLoading } = useQuery<any>(\r\n    [\"users\", 1, {}],\r\n    {\r\n      onError: (err: any) => {\r\n        showErrorToast(err.response.data.message);\r\n      },\r\n    }\r\n  );\r\n\r\n  const _onOrderClick = (id: string) => {\r\n    console.log({ id });\r\n    if (!id) return;\r\n    history.push(`/orders/${id}`);\r\n  };\r\n\r\n  const Status = ({ status }: { status: string }) => {\r\n    const setVariant = () => {\r\n      if (status === \"success\") return \"success\";\r\n\r\n      return \"danger\";\r\n    };\r\n    return <CustomBadge title={status} variant={setVariant()} />;\r\n  };\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Ref Id\",\r\n        accessor: \"ref_id\",\r\n      },\r\n      {\r\n        Header: \"User\",\r\n        accessor: \"user.name\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <p\r\n              className=\"text-primary m-0\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => _onUserClick((data.row.original as any).user_id)}\r\n            >\r\n              {data.row.values[\"user.name\"]}\r\n            </p>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Order\",\r\n        accessor: \"order.ref_id\",\r\n        Cell: (data: Cell) => {\r\n          console.log({ data });\r\n          return (\r\n            <p\r\n              className=\"text-primary m-0\"\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={() => _onOrderClick(data.row.original[\"order_id\"])}\r\n            >\r\n              {data.row.values[\"order.ref_id\"]}\r\n            </p>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: \"Paid Amount\",\r\n        accessor: \"paid_amount\",\r\n      },\r\n      {\r\n        Header: \"Payment Method\",\r\n        accessor: \"payment_method\",\r\n      },\r\n      {\r\n        Header: \"Status\",\r\n        accessor: \"status\", //accessor is the \"key\" in the data\r\n        Cell: (data: Cell) => <Status status={data.row.values.status} />,\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Updated At\",\r\n        accessor: \"updated_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.updated_at} />;\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"Transactions\" totalRecords={data?.total} />\r\n\r\n      {!isLoading && (\r\n        <div>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.status}\r\n                dataLength={data?.data?.length}\r\n                idx=\"status\"\r\n                title=\"All\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={onFilterChange}\r\n                value=\"success\"\r\n                currentValue={filter.status}\r\n                dataLength={data?.data?.length}\r\n                idx=\"status\"\r\n                title=\"Success\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={onFilterChange}\r\n                value=\"failed\"\r\n                currentValue={filter.status}\r\n                dataLength={data?.data.length}\r\n                idx=\"status\"\r\n                title=\"Failed\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2 mt-3\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.user_id}\r\n                          data={!isCustomerLoading && Customers.data}\r\n                          label=\"Customers\"\r\n                          idx=\"user_id\"\r\n                          onFilterChange={onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.payment_method}\r\n                          data={PaymentMethods}\r\n                          label=\"Payment Method\"\r\n                          idx=\"payment_method\"\r\n                          onFilterChange={onFilterChange}\r\n                        />\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          onClick={() => resetFilter()}\r\n                          variant={\r\n                            areTwoObjEqual(\r\n                              { ...intitialFilter, ...INITIAL_FILTER },\r\n                              { ...localFilter, ...filter }\r\n                            )\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                    isSelectable={false}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={setPage}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button variant=\"danger\">Delete</Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Transactions;\r\n","import bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport { ICreateUpdateForm } from \"../../types/interface\";\r\nimport API from \"../../utils/API\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\n\r\nconst key = \"categories\";\r\n\r\nconst createUpdataCategories = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: { name: any };\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  });\r\n};\r\n\r\nconst CategoriesCreateUpdateForm = ({ id = \"\" }: ICreateUpdateForm) => {\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(\r\n    createUpdataCategories,\r\n    {\r\n      onSuccess: () => {\r\n        setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      },\r\n    }\r\n  );\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  console.log(\"apiData\", data);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <Row className=\"rounded\">\r\n      <Col className=\"mx-auto\">\r\n        <Formik\r\n          initialValues={{ name: apiData ? apiData.name : \"\" }}\r\n          onSubmit={(values) => {\r\n            console.log(values);\r\n            mutate({ formdata: values, id });\r\n          }}\r\n        >\r\n          {() => (\r\n            <Form className=\"w-100\">\r\n              {status === \"success\" && (\r\n                <Alert variant=\"success\">\r\n                  {id\r\n                    ? \"Category updated successfully\"\r\n                    : \"Category created successfully\"}\r\n                </Alert>\r\n              )}\r\n              {error && (\r\n                <Alert variant=\"danger\">{(error as Error).message}</Alert>\r\n              )}\r\n\r\n              <div className=\"form-container py-2\">\r\n                <InputField\r\n                  name=\"name\"\r\n                  placeholder=\"Name\"\r\n                  label=\"Name\"\r\n                  required\r\n                />\r\n              </div>\r\n              <Row className=\"d-flex justify-content-start\">\r\n                <Col md=\"2\">\r\n                  <Button type=\"submit\" disabled={isLoading} className=\"w-100\">\r\n                    {isLoading ? (\r\n                      <Spinner animation=\"border\" size=\"sm\" />\r\n                    ) : (\r\n                      \"Submit\"\r\n                    )}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default CategoriesCreateUpdateForm;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  Modal,\r\n  Row,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport { AiFillPlusSquare } from \"react-icons/ai\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport CustomBadge from \"../../shared-components/CustomBadge\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { isActiveArray, userRoles } from \"../../utils/arrays\";\r\nimport { baseUploadUrl, primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\ninterface IFilter {\r\n  role: string | null;\r\n}\r\nconst key = \"users\";\r\n\r\nconst deleteUsers = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  role: \"\",\r\n  page: null,\r\n  perPage: 25,\r\n  disabled: \"\",\r\n};\r\n\r\nconst Users = () => {\r\n  const history = useHistory();\r\n  const [deletePopup, setDeletePopup] = useState(false);\r\n  const [selectedRowId, setSelectedRowId] = useState<string>(\"\");\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [page, setPage] = useState<number>(1);\r\n  const [role, setRole] = useState(\"\");\r\n\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteUsers, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Users deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => {\r\n      return {\r\n        ...prev,\r\n        [idx]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/users/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Profile Pic\",\r\n        accessor: \"profile_pic\",\r\n        Cell: (data: Cell) => (\r\n          <TableImage folder=\"profile_pic\" file={data.row.values.profile_pic} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Phone\",\r\n        accessor: \"phone\",\r\n      },\r\n      {\r\n        Header: \"Role\",\r\n        accessor: \"role\",\r\n        Cell: (data: Cell) => (\r\n          <CustomBadge variant=\"primary\" title={data.row.values.role} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \" Disabled?\",\r\n        accessor: \"disabled\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.disabled} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Users\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      {!isLoading && (\r\n        <Container fluid>\r\n          <div>\r\n            <div className=\"filter\">\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"\"\r\n                currentValue={filter.role}\r\n                dataLength={data?.data?.length}\r\n                idx=\"role\"\r\n                title=\"All\"\r\n              />\r\n              {/* <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"admin\"\r\n                currentValue={filter.role}\r\n                dataLength={data?.data?.length}\r\n                idx=\"role\"\r\n                title=\"Admin\"\r\n              /> */}\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"customer\"\r\n                currentValue={filter.role}\r\n                dataLength={data?.data?.length}\r\n                idx=\"role\"\r\n                title=\"Customer\"\r\n              />\r\n              <BreadCrumb\r\n                onFilterChange={_onFilterChange}\r\n                value=\"agent\"\r\n                currentValue={filter.role}\r\n                dataLength={data?.data?.length}\r\n                idx=\"role\"\r\n                title=\"Agent\"\r\n                isLast\r\n              />\r\n            </div>\r\n          </div>\r\n        </Container>\r\n      )}\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.disabled}\r\n                          data={isActiveArray}\r\n                          label=\"Disabled Users?\"\r\n                          idx=\"disabled\"\r\n                          onFilterChange={_onFilterChange}\r\n                          defaultSelectTitle=\"Show All\"\r\n                        />\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      <Modal show={deletePopup} onHide={() => setDeletePopup(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Are you sure?</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Do you really want to delete this record? This process cannot be\r\n          undone\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"bg-light\" onClick={() => setDeletePopup(false)}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            // onClick={() => {\r\n            //   mutate(selectedRowId);\r\n            // }}\r\n          >\r\n            {isDeleteLoading ? (\r\n              <Spinner animation=\"border\" size=\"sm\" />\r\n            ) : (\r\n              \"Disable\"\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { AxiosError } from \"axios\";\r\nimport { useMemo, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  Col,\r\n  Container,\r\n  Form,\r\n  Modal,\r\n  Row,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport { AiFillPlusSquare } from \"react-icons/ai\";\r\nimport { BiSad } from \"react-icons/bi\";\r\nimport { useMutation, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Cell } from \"react-table\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport BreadCrumb from \"../../shared-components/BreadCrumb\";\r\nimport CreatedUpdatedAt from \"../../shared-components/CreatedUpdatedAt\";\r\nimport EditButton from \"../../shared-components/EditButton\";\r\nimport FilterSelect from \"../../shared-components/FilterSelect\";\r\nimport IsActiveBadge from \"../../shared-components/IsActiveBadge\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport TablePagination from \"../../shared-components/Pagination\";\r\nimport ReactTable from \"../../shared-components/ReactTable\";\r\nimport TableImage from \"../../shared-components/TableImage\";\r\nimport API from \"../../utils/API\";\r\nimport { areTwoObjEqual } from \"../../utils/areTwoObjEqual\";\r\nimport { isActiveArray, userRoles } from \"../../utils/arrays\";\r\nimport { baseUploadUrl, primaryColor } from \"../../utils/constants\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\ninterface IFilter {\r\n  role: string | null;\r\n}\r\nconst key = \"users\";\r\n\r\nconst deleteUsers = (id: Array<any>) => {\r\n  return API.post(`${key}/delete`, { id });\r\n};\r\n\r\nconst intitialFilter = {\r\n  q: \"\",\r\n  role: \"admin\",\r\n  page: null,\r\n  perPage: 25,\r\n  disabled: \"\",\r\n};\r\n\r\nconst Admins = () => {\r\n  const history = useHistory();\r\n  const [deletePopup, setDeletePopup] = useState(false);\r\n  const [selectedRowId, setSelectedRowId] = useState<string>(\"\");\r\n  const [selectedRows, setSelectedRows] = useState([]);\r\n  const [filter, setFilter] = useState(intitialFilter);\r\n  console.log(selectedRows.map((item) => item.id));\r\n  const [page, setPage] = useState<number>(1);\r\n  const [role, setRole] = useState(\"\");\r\n\r\n  const { data, isLoading, isFetching, error } = useQuery<any>(\r\n    [key, , filter],\r\n    {\r\n      onError: (error: AxiosError) => {\r\n        handleApiError(error, history);\r\n      },\r\n    }\r\n  );\r\n\r\n  const { mutate, isLoading: isDeleteLoading } = useMutation(deleteUsers, {\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries(key);\r\n      showMsgToast(\"Users deleted successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n  const _onFilterChange = (idx: string, value: any) => {\r\n    setFilter((prev) => {\r\n      return {\r\n        ...prev,\r\n        [idx]: value,\r\n      };\r\n    });\r\n  };\r\n\r\n  const _onCreateClick = () => {\r\n    history.push(\"/users/create-edit\");\r\n  };\r\n  const _onEditClick = (id: string) => {\r\n    history.push(\"/users/create-edit\", { id });\r\n  };\r\n\r\n  const columns = useMemo(\r\n    () => [\r\n      {\r\n        Header: \"#Id\",\r\n        accessor: \"id\", //accessor is the \"key\" in the data\r\n      },\r\n      {\r\n        Header: \"Profile Pic\",\r\n        accessor: \"profile_pic\",\r\n        Cell: (data: Cell) => (\r\n          <TableImage folder=\"profile_pic\" file={data.row.values.profile_pic} />\r\n        ),\r\n      },\r\n      {\r\n        Header: \"Name\",\r\n        accessor: \"name\",\r\n      },\r\n      {\r\n        Header: \"Phone\",\r\n        accessor: \"phone\",\r\n      },\r\n      {\r\n        Header: \"Role\",\r\n        accessor: \"role\",\r\n      },\r\n      {\r\n        Header: \" Disabled?\",\r\n        accessor: \"disabled\",\r\n        Cell: (data: Cell) => {\r\n          return <IsActiveBadge value={data.row.values.disabled} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Created At\",\r\n        accessor: \"created_at\",\r\n        Cell: (data: Cell) => {\r\n          return <CreatedUpdatedAt date={data.row.values.created_at} />;\r\n        },\r\n      },\r\n      {\r\n        Header: \"Actions\",\r\n        Cell: (data: Cell) => {\r\n          return (\r\n            <EditButton\r\n              onClick={() => {\r\n                _onEditClick(data.row.values.id);\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    []\r\n  );\r\n\r\n  if (!data && (!isLoading || !isFetching)) {\r\n    return (\r\n      <Container fluid className=\"d-flex justify-content-center display-3\">\r\n        <div className=\"d-flex flex-column align-items-center\">\r\n          <BiSad color={primaryColor} />\r\n          <span className=\"text-primary display-3\">Something went wrong</span>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <PageHeading\r\n        title=\"Admins\"\r\n        onClick={_onCreateClick}\r\n        totalRecords={data?.total}\r\n      />\r\n\r\n      <Container fluid className=\"card component-wrapper px-0 py-2\">\r\n        <Container fluid className=\"h-100 p-0\">\r\n          {isLoading ? (\r\n            <IsLoading />\r\n          ) : (\r\n            <>\r\n              {!error && (\r\n                <>\r\n                  <Container className=\"pt-3\">\r\n                    <Row className=\"select-filter d-flex\">\r\n                      <Col md=\"auto\">\r\n                        <FilterSelect\r\n                          currentValue={filter.disabled}\r\n                          data={isActiveArray}\r\n                          label=\"Disabled Users?\"\r\n                          idx=\"disabled\"\r\n                          onFilterChange={_onFilterChange}\r\n                          defaultSelectTitle=\"Show All\"\r\n                        />\r\n                      </Col>\r\n                      <Col\r\n                        md=\"auto\"\r\n                        className=\"d-flex align-items-center mt-1 justify-content-center\"\r\n                      >\r\n                        <Button\r\n                          variant={\r\n                            areTwoObjEqual(intitialFilter, filter)\r\n                              ? \"light\"\r\n                              : \"primary\"\r\n                          }\r\n                          style={{\r\n                            fontSize: 14,\r\n                          }}\r\n                          onClick={() => setFilter(intitialFilter)}\r\n                        >\r\n                          Reset Filters\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                  </Container>\r\n                  <hr />\r\n                  <ReactTable\r\n                    data={data?.data}\r\n                    columns={columns}\r\n                    setSelectedRows={setSelectedRows}\r\n                    filter={filter}\r\n                    onFilterChange={_onFilterChange}\r\n                    isDataLoading={isFetching}\r\n                  />\r\n                </>\r\n              )}\r\n              {!error && data?.data?.length > 0 ? (\r\n                <TablePagination\r\n                  currentPage={data?.current_page}\r\n                  lastPage={data?.last_page}\r\n                  setPage={_onFilterChange}\r\n                  hasNextPage={!!data?.next_page_url}\r\n                  hasPrevPage={!!data?.prev_page_url}\r\n                />\r\n              ) : null}{\" \"}\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Container>\r\n      <Modal show={deletePopup} onHide={() => setDeletePopup(false)}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Are you sure?</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          Do you really want to delete this record? This process cannot be\r\n          undone\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"bg-light\" onClick={() => setDeletePopup(false)}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            variant=\"danger\"\r\n            // onClick={() => {\r\n            //   mutate(selectedRowId);\r\n            // }}\r\n          >\r\n            {isDeleteLoading ? (\r\n              <Spinner animation=\"border\" size=\"sm\" />\r\n            ) : (\r\n              \"Disable\"\r\n            )}\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      {selectedRows.length > 0 && (\r\n        <div className=\"delete-button rounded\">\r\n          <span>\r\n            <b>Delete {selectedRows.length} rows</b>\r\n          </span>\r\n          <Button\r\n            variant=\"danger\"\r\n            onClick={() => {\r\n              mutate(selectedRows.map((i) => i.id));\r\n            }}\r\n          >\r\n            {isDeleteLoading ? \"Loading...\" : \"Delete\"}\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Admins;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport mapboxgl from \"mapbox-gl\";\r\n\r\nconst accessToken =\r\n\t\"pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw\";\r\n\r\nconst UserMap = ({ userAddress }) => {\r\n\tconsole.log(\"UserAddress 11122222\", userAddress);\r\n\tconst lat = userAddress.lat;\r\n\tconst lng = userAddress.lng;\r\n\r\n\tconst mapContainer = useRef(null);\r\n\tlet [map, setMap] = useState(null);\r\n\r\n\tconst [viewport] = useState({\r\n\t\twidth: 350,\r\n\t\theight: 100,\r\n\t\tlat: userAddress && lat ? parseInt(lat) : 37.78,\r\n\t\tlng: userAddress && lng ? parseInt(lng) : -122.41,\r\n\t\tzoom: 12,\r\n\t});\r\n\r\n\tconst [userLocation] = useState({\r\n\t\tlat: userAddress && parseInt(lat),\r\n\t\tlng: userAddress && parseInt(lng),\r\n\t});\r\n\tconst [agentLocation, setAgentLocation] = useState(null);\r\n\tconst [directions, setDirections] = useState(null);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst attachMap = (setMap, mapContainer) => {\r\n\t\t\tif (!mapContainer.current) return;\r\n\r\n\t\t\tconst map = new mapboxgl.Map({\r\n\t\t\t\taccessToken,\r\n\t\t\t\tcontainer: mapContainer.current || \"\",\r\n\t\t\t\tstyle: \"mapbox://styles/mapbox/streets-v11\",\r\n\t\t\t\tcenter: [viewport.lng, viewport.lat],\r\n\t\t\t\tzoom: viewport.zoom,\r\n\t\t\t\tinteractive: false,\r\n\t\t\t\tdragPan: false,\r\n\t\t\t});\r\n\r\n\t\t\tsetMap(map);\r\n\t\t};\r\n\r\n\t\t!map && attachMap(setMap, mapContainer);\r\n\t\tconst locationInterval = setInterval(getAgentLocation, 1000);\r\n\t\treturn () => clearInterval(locationInterval);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (map && mapContainer.current) addDestinationMarker();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [map, mapContainer]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!directions) initializedMapboxDirections();\r\n\t\telse setMapDirections();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [agentLocation]);\r\n\r\n\tconst isValidLocation = (location) => {\r\n\t\tif (location && location.lat && location.lng) return true;\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst getAgentLocation = async () => {\r\n\t\t// const {\r\n\t\t//   data: { agent_location: location },\r\n\t\t// } = await API.get(`/orders/${order.id}/get-agent-location`, {\r\n\t\t//   headers: { Authorization: `Bearer ${token}` },\r\n\t\t// });\r\n\t\t// if (location)\r\n\t\t//   setAgentLocation({\r\n\t\t//     lat: parseFloat(location.lat),\r\n\t\t//     lng: parseFloat(location.lng),\r\n\t\t//   });\r\n\t};\r\n\r\n\tconst addDestinationMarker = () => {\r\n\t\tif (isValidLocation(userLocation)) {\r\n\t\t\t// #TODO - Change default markers with our markers\r\n\t\t\tvar el = document.createElement(\"div\");\r\n\t\t\tel.className = \"user-marker\";\r\n\r\n\t\t\tnew mapboxgl.Marker(el)\r\n\t\t\t\t.setLngLat([userLocation.lat, userLocation.lng])\r\n\t\t\t\t.addTo(map);\r\n\r\n\t\t\tgetAgentLocation();\r\n\t\t}\r\n\t};\r\n\r\n\tconst initializedMapboxDirections = () => {\r\n\t\tif (isValidLocation(userLocation) && isValidLocation(agentLocation)) {\r\n\t\t\tconst newMapboxDirection = new window.MapboxDirections({\r\n\t\t\t\taccessToken,\r\n\t\t\t\tcontrols: { instructions: false },\r\n\t\t\t\tunit: \"metric\",\r\n\t\t\t\tprofile: \"mapbox/driving\",\r\n\t\t\t});\r\n\r\n\t\t\tsetDirections(newMapboxDirection);\r\n\t\t\tmap.addControl(newMapboxDirection, \"top-left\");\r\n\r\n\t\t\tsetMapDirections();\r\n\t\t}\r\n\t};\r\n\r\n\tconst setMapDirections = () => {\r\n\t\tif (directions) {\r\n\t\t\tdirections.setOrigin([userLocation.lng, userLocation.lat]);\r\n\r\n\t\t\tif (Object.keys(directions.getDestination()).length === 0) {\r\n\t\t\t\tdirections.setDestination([agentLocation.lng, agentLocation.lat]);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t// if (!order) return; \r\n\tif (!userAddress) return;\r\n\r\n\tif (!userAddress) {\r\n\t\treturn (\r\n\t\t\t<h3 style={{ width: \"100%\", textAlign: \"center\", marginTop: \"10px\" }}>\r\n\t\t\t\tNo address found\r\n\t\t\t</h3>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={mapContainer}\r\n\t\t\tstyle={{\r\n\t\t\t\theight: \"150px\",\r\n\t\t\t\twidth: \"100%\",\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default UserMap;\r\n","import React from \"react\";\r\nimport UserMap from \"../../shared-components/UserMap\";\r\n\r\ninterface Props {\r\n  address: any;\r\n}\r\n\r\nconst AddressCard = ({ address } : Props) => {\r\n  console.log(\"address 444\", address)\r\n  return (\r\n    <div className=\"d-flex justify-content-between p-2 flex-column\">\r\n        <UserMap userAddress={address} />\r\n          \r\n        <div className=\"\" >\r\n        <span className=\"text-black font-weight-bold\">{address.name}</span>\r\n        <br />\r\n        <span className=\"text-muted\">{address.address},</span>\r\n        <br />\r\n        <span className=\"text-muted\">{address.city},</span>\r\n        <span className=\"text-muted\">{address.state}</span>\r\n        <br />\r\n        <span className=\"text-muted\">{address.pincode}</span>\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddressCard;\r\n","import { Col, Container, Row } from \"react-bootstrap\";\r\nimport { MdRemoveShoppingCart } from \"react-icons/md\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport AddressCard from \"./AddressCard\";\r\n\r\nconst key = \"users\";\r\n\r\n// const createUpdateUser = ({\r\n//     formdata,\r\n//     id,\r\n// }: {\r\n//     formdata: FormData;\r\n//     id: string;\r\n// }) => {\r\n//     if (!id) {\r\n//         return API.post(`${key}`, formdata, {\r\n//             headers: { \"Content-Type\": \"multipart/form-data\" },\r\n//         });\r\n//     }\r\n\r\n//     return API.post(`${key}/${id}`, formdata, {\r\n//         headers: { \"Content-Type\": \"multipart/form-data\" },\r\n//     });\r\n// };\r\n\r\nconst UserAddress = () => {\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  // const { mutate, isLoading, error, status } = useMutation(createUpdateUser, {\r\n  //     onSuccess: () => {\r\n  //         setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n  //     },\r\n  // });\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return null;\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"User Addresses\" />\r\n      <Row className=\"rounded mt-3\">\r\n        {apiData && apiData.addresses && apiData.addresses.length > 0 ? (\r\n          apiData.addresses.map((address: any) => (\r\n            <>\r\n              <Col md={6}>\r\n                <AddressCard address={address} />\r\n              </Col>\r\n            </>\r\n          ))\r\n        ) : (\r\n          <Container fluid className=\"d-flex justify-content-center display-3\">\r\n            <div className=\"d-flex flex-column align-items-center pt-3 pb-3\">\r\n              <MdRemoveShoppingCart color=\"#000\" size={60} />\r\n              <h4 className=\"text-black font-weight-bold mt-2\">No address found</h4>\r\n            </div>\r\n          </Container>\r\n        )}\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserAddress;\r\n","import { AxiosError } from \"axios\";\r\nimport bsCustomFileInput from \"bs-custom-file-input\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Col, Row, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { handleApiError } from \"../../hooks/handleApiErrors\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport BackButton from \"../../shared-components/BackButton\";\r\nimport { InputField } from \"../../shared-components/InputFeild\";\r\nimport IsLoading from \"../../shared-components/isLoading\";\r\nimport API from \"../../utils/API\";\r\nimport { isActiveArray, userRoles } from \"../../utils/arrays\";\r\nimport { queryClient } from \"../../utils/queryClient\";\r\nimport { showMsgToast } from \"../../utils/showMsgToast\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst key = \"users\";\r\nconst ValidationSchema = Yup.object().shape({\r\n  phone: Yup.string()\r\n    .nullable()\r\n    .matches(/^[6-9]\\d{9}$/, \"Phone number is not valid\")\r\n    .required(\"Phone number required\"),\r\n});\r\n\r\nconst createUpdateUser = ({\r\n  formdata,\r\n  id,\r\n}: {\r\n  formdata: FormData;\r\n  id: string;\r\n}) => {\r\n  if (!id) {\r\n    return API.post(`${key}`, formdata, {\r\n      headers: { \"Content-Type\": \"multipart/form-data\" },\r\n    });\r\n  }\r\n\r\n  return API.post(`${key}/${id}`, formdata, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst UserBasics = () => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const id = state ? (state as any).id : null;\r\n  useEffect(() => {\r\n    bsCustomFileInput.init();\r\n  }, []);\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  const { mutate, isLoading, error, status } = useMutation(createUpdateUser, {\r\n    onSuccess: () => {\r\n      setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n      history.replace(\"/users\");\r\n      if (id) return showMsgToast(\"User updated successfully\");\r\n      showMsgToast(\"User created successfully\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return <IsLoading />;\r\n\r\n  return (\r\n    <>\r\n      <BackButton title=\"Users\" />\r\n      <Row className=\"rounded\">\r\n        <Col className=\"mx-auto\">\r\n          <Formik\r\n            initialValues={apiData || {}}\r\n            onSubmit={(values) => {\r\n              console.log(values);\r\n              const { profile_pic, ...rest } = values;\r\n              const formdata = new FormData();\r\n              for (let k in rest) formdata.append(k, rest[k]);\r\n\r\n              if (typeof profile_pic !== \"string\" && profile_pic)\r\n                formdata.append(\"profile_pic\", profile_pic);\r\n\r\n              mutate({ formdata, id });\r\n            }}\r\n            validationSchema={ValidationSchema}\r\n          >\r\n            {({ setFieldValue, errors }) => (\r\n              <Form className=\"w-100\">\r\n                <div className=\"form-container py-2\">\r\n                  <InputField\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    label=\"Name\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    name=\"phone\"\r\n                    placeholder=\"phone\"\r\n                    label=\"Phone\"\r\n                    error={errors.phone as string}\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                    label=\"Email\"\r\n                    required\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={isActiveArray}\r\n                    name=\"disabled\"\r\n                    label=\"Disabled?\"\r\n                    placeholder=\"Is User Disabled?\"\r\n                  />\r\n                  <InputField\r\n                    as=\"select\"\r\n                    selectData={userRoles}\r\n                    name=\"role\"\r\n                    label=\"Role\"\r\n                    placeholder=\"Role\"\r\n                  />\r\n                  <InputField\r\n                    name=\"profile_pic\"\r\n                    placeholder=\"Profile Pic\"\r\n                    label=\"Choose Profile Pic\"\r\n                    isFile\r\n                    setFieldValue={setFieldValue}\r\n                  />\r\n                </div>\r\n                <Row className=\"d-flex justify-content-start\">\r\n                  <Col md=\"2\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      disabled={isLoading}\r\n                      className=\"w-100\"\r\n                    >\r\n                      {isLoading ? (\r\n                        <Spinner animation=\"border\" size=\"sm\" />\r\n                      ) : (\r\n                        \"Submit\"\r\n                      )}\r\n                    </Button>\r\n                  </Col>\r\n                </Row>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserBasics;\r\nfunction phoneRegExp(phoneRegExp: any, arg1: string) {\r\n  throw new Error(\"Function not implemented.\");\r\n}\r\n","import React from 'react';\r\nimport { Badge } from 'react-bootstrap';\r\nimport CustomBadge from '../../shared-components/CustomBadge';\r\nimport IsActiveBadge from '../../shared-components/IsActiveBadge';\r\n\r\ninterface Props {\r\n    vehicle: any\r\n}\r\n\r\nconst VehicleCard = ({ vehicle }: Props) => {\r\n    return (\r\n\r\n        <div className=\"card view-padding p-2 d-flex\">\r\n            <div className=\"d-flex flex-column\">\r\n                <div className=\"text-primary\">\r\n                    <div className=\"d-flex justify-content-between\">\r\n                        <div\r\n                            className=\"text-black pb-3\"\r\n                            style={{ cursor: \"pointer\", fontWeight: 600 }}\r\n                        >\r\n                            {vehicle.name} <span>{vehicle.is_default && <CustomBadge variant=\"primary\" title=\"Default\" />}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <hr className=\"mb-3\" />\r\n\r\n                <div\r\n                    className=\"d-flex flex-column w-100\"\r\n                    style={{ fontSize: 18 }}\r\n                >\r\n                    <table className=\"w-100\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td className=\"view-heading\">Brand</td>\r\n                                <td className=\"text-right\">\r\n                                    <p className=\"view-subheading\">{vehicle.brand_id}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"view-heading\">Model</td>\r\n                                <td className=\"text-success font-weight-bold text-right\">\r\n                                    <p className=\"view-subheading\">{vehicle.model_id}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"view-heading \">Manf. Year</td>\r\n                                <td\r\n                                    className=\"text-primary  font-weight-bold text-right\"\r\n                                    style={{ fontSize: \"24px\" }}\r\n                                >\r\n                                    <p className=\"view-subheading\">{vehicle.manufactoring_year}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"view-heading \">Fuel Type</td>\r\n                                <td\r\n                                    className=\"text-primary  font-weight-bold text-right\"\r\n                                    style={{ fontSize: \"24px\" }}\r\n                                >\r\n                                    <p className=\"view-subheading\">{vehicle.fuel_type}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"view-heading \">Reg. Number</td>\r\n                                <td\r\n                                    className=\"text-primary  font-weight-bold text-right\"\r\n                                    style={{ fontSize: \"24px\" }}\r\n                                >\r\n                                    <p className=\"view-subheading\">{vehicle.registration_number}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td className=\"view-heading \">Reg. State</td>\r\n                                <td\r\n                                    className=\"text-primary  font-weight-bold text-right\"\r\n                                    style={{ fontSize: \"24px\" }}\r\n                                >\r\n                                    <p className=\"view-subheading\">{vehicle.registration_state}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default VehicleCard\r\n","import { Col, Container, Row } from \"react-bootstrap\";\r\nimport { MdRemoveShoppingCart } from \"react-icons/md\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\nimport PageHeading from \"../../shared-components/PageHeading\";\r\nimport VehicleCard from \"./VehicleCard\";\r\n\r\nconst key = \"users\";\r\n\r\n// const createUpdateUser = ({\r\n//     formdata,\r\n//     id,\r\n// }: {\r\n//     formdata: FormData;\r\n//     id: string;\r\n// }) => {\r\n//     if (!id) {\r\n//         return API.post(`${key}`, formdata, {\r\n//             headers: { \"Content-Type\": \"multipart/form-data\" },\r\n//         });\r\n//     }\r\n\r\n//     return API.post(`${key}/${id}`, formdata, {\r\n//         headers: { \"Content-Type\": \"multipart/form-data\" },\r\n//     });\r\n// };\r\n\r\nconst UserVehicles = () => {\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  const { data, isLoading: dataLoading } = useGetSingleQuery({ id, key });\r\n  // const { mutate, isLoading, error, status } = useMutation(createUpdateUser, {\r\n  //     onSuccess: () => {\r\n  //         setTimeout(() => queryClient.invalidateQueries(key), 500);\r\n  //     },\r\n  // });\r\n\r\n  const apiData = data && (data as any);\r\n\r\n  if (dataLoading) return null;\r\n\r\n  return (\r\n    <>\r\n      <PageHeading title=\"User Vehicles\" />\r\n      <Row\r\n        className=\"rounded mt-3\"\r\n      // style={{ borderTop: \"1px solid rgba(0,0,0,.25\" }}\r\n      >\r\n\r\n        {apiData && apiData.vehicles && apiData.vehicles.length > 0 ? (\r\n          apiData.vehicles.map((vehicle: any) => (\r\n            <>\r\n              <Col md={6}>\r\n                <VehicleCard vehicle={vehicle} />\r\n              </Col>\r\n            </>\r\n          ))\r\n        ) : (\r\n          <Container fluid className=\"d-flex justify-content-center display-3\">\r\n            <div className=\"d-flex flex-column align-items-center pt-3 pb-3\">\r\n              <MdRemoveShoppingCart color=\"#000\" size={60} />\r\n              <h4 className=\"text-black font-weight-bold mt-2\">No vehicle found</h4>\r\n            </div>\r\n          </Container>\r\n        )}\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserVehicles;\r\n","import { useLocation } from \"react-router-dom\";\r\nimport UserAddress from \"./UserAddresses\";\r\nimport UserBasics from \"./UserBasics\";\r\nimport UserVehicles from \"./UserVechiles\";\r\nimport useGetSingleQuery from \"../../hooks/useGetSingleQuery\";\r\n\r\nconst UserCreateUpdateForm = () => {\r\n  const { state } = useLocation();\r\n  const id = state ? (state as any).id : null;\r\n  console.log(id);\r\n  return (\r\n    <>\r\n      <UserBasics />\r\n      <br />\r\n      {id && (\r\n        <>\r\n          <UserAddress />\r\n          <UserVehicles />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserCreateUpdateForm;\r\n","import axios, { AxiosError } from \"axios\";\r\nimport { Form, Formik } from \"formik\";\r\nimport { useEffect } from \"react\";\r\nimport { Alert, Button, Container, Spinner } from \"react-bootstrap\";\r\nimport { useMutation } from \"react-query\";\r\nimport { useHistory, useParams } from \"react-router\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport useTokenStore from \"../hooks/useTokenStore\";\r\nimport useUserProfileStore from \"../hooks/useUserProfileStore\";\r\nimport { InputField } from \"../shared-components/InputFeild\";\r\nimport Logo from \"../shared-components/Logo\";\r\nimport API from \"../utils/API\";\r\nimport { appApiBaseUrl } from \"../utils/constants\";\r\nimport { showErrorToast } from \"../utils/showErrorToast\";\r\nimport { showMsgToast } from \"../utils/showMsgToast\";\r\n\r\ninterface Props {}\r\n\r\nconst VerifySchema = Yup.object().shape({\r\n  otp: Yup.string().max(4).min(4).required(\"Otp is required\"),\r\n});\r\n\r\nconst verifyOtp = (formData: FormData) => {\r\n  return API.post(`auth/verify-otp`, formData, {\r\n    headers: { \"Content-Type\": \"multipart/form-data\" },\r\n  });\r\n};\r\n\r\nconst VerifyOtp = (props: Props) => {\r\n  const { state } = useLocation();\r\n  const history = useHistory();\r\n  const setToken = useTokenStore((state) => state.setToken);\r\n  const setUser = useUserProfileStore((state) => state.setUser);\r\n\r\n  const { mutate, isLoading } = useMutation(verifyOtp, {\r\n    onSuccess: (data) => {\r\n      setToken(data.data.token);\r\n      setUser(data.data.user);\r\n      history.push(\"/\");\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      showErrorToast(error.message);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Container fluid className=\"login-page\">\r\n      <Formik\r\n        initialValues={{ otp: \"\" }}\r\n        onSubmit={(values) => {\r\n          const formData = new FormData();\r\n          formData.append(\"phone\", (state as any).phone);\r\n          formData.append(\"otp\", values.otp);\r\n\r\n          mutate(formData);\r\n        }}\r\n        validationSchema={VerifySchema}\r\n      >\r\n        {({ errors }) => {\r\n          return (\r\n            <Form>\r\n              <div\r\n                className=\"d-flex flex-column align-items-center px-3 py-5\"\r\n                style={{\r\n                  width: \"450px\",\r\n                }}\r\n              >\r\n                <h1 className=\"text-black\">\r\n                  <b>Verify</b>\r\n                </h1>\r\n                <p className=\"text-muted\">\r\n                  Please enter the code sent on your mobile number\r\n                </p>\r\n                <br />\r\n\r\n                <InputField\r\n                  name=\"otp\"\r\n                  placeholder=\"Enter the Otp\"\r\n                  label=\"Verify Otp\"\r\n                  error={errors.otp as string}\r\n                />\r\n                <Button\r\n                  variant=\"primary\"\r\n                  type=\"submit\"\r\n                  className=\"full-width my-2\"\r\n                >\r\n                  {isLoading ? (\r\n                    <Spinner animation=\"border\" variant=\"secondary\" size=\"sm\" />\r\n                  ) : (\r\n                    <div className=\"text-white\">\r\n                      <b>Verify</b>\r\n                    </div>\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          );\r\n        }}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VerifyOtp;\r\n","import axios, { AxiosError } from \"axios\";\r\nimport { QueryFunction, useQuery } from \"react-query\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport API from \"../utils/API\";\r\nimport { adminApiBaseUrl, appApiBaseUrl } from \"../utils/constants\";\r\nimport { handleApiError } from \"./handleApiErrors\";\r\nimport useTokenStore from \"./useTokenStore\";\r\nimport useUserProfileStore from \"./useUserProfileStore\";\r\n\r\nconst getProfile: QueryFunction = async ({ queryKey }) => {\r\n  const r = await axios.get(`${adminApiBaseUrl}${queryKey[0]}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${queryKey[1]}`,\r\n    },\r\n  });\r\n  return r.data;\r\n};\r\n\r\nconst useMeQuery = () => {\r\n  const history = useHistory();\r\n  const token = useTokenStore((state) => state.accessToken);\r\n  const setUser = useUserProfileStore((state) => state.setUser);\r\n\r\n  const me = useQuery([\"profile\", token], getProfile, {\r\n    onSuccess: (data: any) => {\r\n      setUser(data);\r\n    },\r\n    onError: (error: AxiosError) => {\r\n      handleApiError(error, history);\r\n    },\r\n  });\r\n\r\n  return me;\r\n};\r\n\r\nexport default useMeQuery;\r\n","import { Alert, Toast } from 'react-bootstrap'\r\nimport { useErrorToastStore } from './useErrorToastStore'\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst ErrorToast = (props: Props) => {\r\n    const { toasts, hideToast } = useErrorToastStore()\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"position-fixed\" style={{ bottom: \"2%\", right: \"2%\", zIndex: 1001, minWidth: \"200px\" }} >\r\n                {\r\n                    toasts.map((t) => {\r\n                        setTimeout(() => hideToast(t.id), 3000)\r\n\r\n                        return (\r\n                            <Alert variant=\"danger\">{t.message}</Alert>\r\n                            // <Toast className=\" bg-danger\" style={{ bottom: \"2%\", right: \"2%\", zIndex: 1001, minWidth: \"200px\" }} onClose={() => hideToast(t.id)} key={t.id}>\r\n                            //     <Toast.Header className=\"d-flex justify-content-between\" >\r\n                            //         <strong>Error</strong>\r\n                            //         <span></span>\r\n                            //         <span>{\" \"}</span>\r\n                            //     </Toast.Header>\r\n                            //     <Toast.Body>{t.message}</Toast.Body>\r\n                            // </Toast>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default ErrorToast\r\n","import { Alert, Toast } from 'react-bootstrap'\r\nimport { useMsgToastStore } from './useMsgToastStore'\r\nimport { ImCross } from 'react-icons/im';\r\n\r\ninterface Props {\r\n\r\n}\r\n\r\nconst MsgToast = (props: Props) => {\r\n    const { toasts, hideToast } = useMsgToastStore()\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"position-fixed \" style={{ bottom: \"2%\", right: \"2%\", zIndex: 1001, minWidth: \"200px\" }} >\r\n                {\r\n                    toasts.map((t) => {\r\n                        setTimeout(() => hideToast(t.id), 3000)\r\n\r\n                        return (\r\n                            <Alert variant=\"success\">{t.message}</Alert>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n\r\n\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default MsgToast\r\n","import { AxiosError } from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { Container, Spinner } from \"react-bootstrap\";\r\nimport { Route, useHistory } from \"react-router-dom\";\r\nimport { handleApiError } from \"../hooks/handleApiErrors\";\r\nimport useMeQuery from \"../hooks/useMeQuery\";\r\nimport useTokenStore from \"../hooks/useTokenStore\";\r\nimport API from \"../utils/API\";\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }: any) => {\r\n  // const { isFetching, isLoading, error } = useMeQuery();\r\n\r\n  // if (isLoading || isFetching) {\r\n  //   return (\r\n  //     <Container\r\n  //       fluid\r\n  //       className=\"d-flex justify-content-center align-items-center mt-4\"\r\n  //     >\r\n  //       <Spinner animation=\"border\" />\r\n  //     </Container>\r\n  //   );\r\n  // }\r\n  return <Route {...rest} render={(props) => <Component {...props} />} />;\r\n};\r\n","import React from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport IsLoading from \"./isLoading\";\r\n\r\nconst VerifingUserLoader = () => {\r\n  return (\r\n    <Container\r\n      fluid\r\n      style={{\r\n        position: \"fixed\",\r\n        height: \"100vh\",\r\n        width: \"100vw\",\r\n        zIndex: 10000000000,\r\n      }}\r\n      className=\"d-flex align-items-center justify-content-center \"\r\n    >\r\n      <div className=\"d-flex align-items-center justify-content-center flex-column \">\r\n        <IsLoading />\r\n        <p className=\"text-center text-primary font-weight-bold\">Verifing...</p>\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default VerifingUserLoader;\r\n","import { useEffect, useState } from \"react\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { Redirect, Route, Switch, useLocation } from \"react-router-dom\";\r\nimport Advertisements from \"./components/Advertisements\";\r\nimport AdvertisementCreateUpdateForm from \"./components/Advertisements/AdvertisementUpdateCreateForm\";\r\nimport BookingSlots from \"./components/BookingSlots\";\r\nimport SlotCreateUpdateForm from \"./components/BookingSlots/BookingSlotsCreateUpdateForm\";\r\nimport BrandModels from \"./components/BrandModels\";\r\nimport BrandModlesCreateUpdateForm from \"./components/BrandModels/BrandModelsUpdateCreateForm\";\r\n// ------pages components--------\r\nimport Brands from \"./components/Brands\";\r\nimport BrandsCreateUpdateForm from \"./components/Brands/BrandsCreateUpdateForm\";\r\nimport Cart from \"./components/Cart\";\r\nimport Categories from \"./components/Categories\";\r\nimport CategoriesCreateUpdateForm from \"./components/Categories/CategoriesCreateUpdateForm\";\r\nimport Cities from \"./components/Cities\";\r\nimport CitiesCreateUpdateForm from \"./components/Cities/CitiesCreateUpdateForm\";\r\nimport Coupons from \"./components/Coupons\";\r\nimport CouponCreateUpdateForm from \"./components/Coupons/CouponsCreateUpdateForm\";\r\nimport Dashboard from \"./components/Dashboard\";\r\nimport Faqs from \"./components/Faqs\";\r\nimport FaqCreateUpdateForm from \"./components/Faqs/FaqsCreateUpdateForm\";\r\nimport Issues from \"./components/Issues\";\r\nimport IssuesCreateForm from \"./components/Issues/IssuesCreateForm\";\r\nimport SingleIssue from \"./components/Issues/single\";\r\nimport LoginPage from \"./components/LoginPage\";\r\nimport NavBar from \"./components/NavBar\";\r\nimport Notifications from \"./components/Notification\";\r\nimport NotificationCreateUpdateForm from \"./components/Notification/NotificationCreateUpdateForm\";\r\nimport Orders from \"./components/Orders\";\r\nimport AssignAgent from \"./components/Orders/assignAgent\";\r\nimport SingleOrder from \"./components/Orders/single\";\r\nimport Permissions from \"./components/Permissions\";\r\nimport AssignPermissionForm from \"./components/Permissions/AssignPermissonCreateUpdateForm\";\r\nimport PermissionsCreateUpdateForm from \"./components/Permissions/PermissoinsCreateUpdateForm\";\r\nimport RevokePermission from \"./components/Permissions/RevokePermissions\";\r\nimport Plans from \"./components/Plans\";\r\nimport PlanCreateUpdateForm from \"./components/Plans/PlansCreateUpdateForm\";\r\nimport Roles from \"./components/Roles\";\r\nimport RolesCreateUpdateForm from \"./components/Roles/RolesCreateUpdateForm\";\r\nimport Services from \"./components/Servicies\";\r\nimport ServicesCreateUpdateForm from \"./components/Servicies/ServiciesCreateUpdateForm\";\r\nimport StaticPages from \"./components/StaticPages\";\r\nimport StaticPageCreateForm from \"./components/StaticPages/StaticPageCreateUpdateForm\";\r\nimport Subscriptions from \"./components/Subscriptions\";\r\nimport SingleSubscriptions from \"./components/Subscriptions/single\";\r\nimport Testimonial from \"./components/Testimonials\";\r\nimport TestimonialCreateUpdateForm from \"./components/Testimonials/TestimonialCreateUpdateForm\";\r\nimport TopBar from \"./components/TopBar\";\r\nimport Transactions from \"./components/Transactions\";\r\nimport TransactionUpdateForm from \"./components/Transactions/TransactionUpdateForm\";\r\nimport Users from \"./components/Users\";\r\nimport Admins from \"./components/Users/admin\";\r\nimport UserCreateUpdateForm from \"./components/Users/UsersCreateUpdateForm\";\r\nimport VerifyOtp from \"./components/VerifyOtp\";\r\nimport { IsDesktopContext } from \"./context/IsDesktopContext\";\r\nimport useMeQuery from \"./hooks/useMeQuery\";\r\nimport useTokenStore from \"./hooks/useTokenStore\";\r\nimport ErrorToast from \"./shared-components/ErrorToast/ErrorToast\";\r\nimport MsgToast from \"./shared-components/MsgToast/MsgToast\";\r\nimport { PrivateRoute } from \"./shared-components/PrivateRoute\";\r\nimport VerifingUserLoader from \"./shared-components/VerifingUserLoader\";\r\nimport API from \"./utils/API\";\r\n\r\nconst App = () => {\r\n  const [isDesktop, setIsDesktop] = useState<boolean>(false);\r\n  const { isLoading: isVerifingLoggedInUser } = useMeQuery();\r\n  console.log({ isVerifingLoggedInUser });\r\n  //adding token to every request\r\n  const token = useTokenStore((state) => state.accessToken);\r\n  if (token) API.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n\r\n  useEffect(() => {\r\n    updateDimensions();\r\n    window.addEventListener(\"resize\", updateDimensions);\r\n    return () => window.removeEventListener(\"resize\", updateDimensions);\r\n  }, []);\r\n\r\n  const updateDimensions = () => {\r\n    const width = window.innerWidth;\r\n    if (width > 800) setIsDesktop(true);\r\n    else setIsDesktop(false);\r\n  };\r\n\r\n  const [isNavOpen, setIsNavOpen] = useState<boolean>(false);\r\n  const { pathname } = useLocation();\r\n\r\n  function showNavTopBar(): boolean {\r\n    if (pathname.includes(\"login\") || pathname.includes(\"verify-otp\"))\r\n      return false;\r\n    else return true;\r\n  }\r\n\r\n  if (isVerifingLoggedInUser) return <VerifingUserLoader />;\r\n\r\n  return (\r\n    <IsDesktopContext.Provider value={isDesktop}>\r\n      <div className=\"App\">\r\n        {showNavTopBar() ? (\r\n          <NavBar isNavOpen={isNavOpen} setIsNavOpen={setIsNavOpen} />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <div></div>\r\n        {showNavTopBar() ? (\r\n          <TopBar isNavOpen={isNavOpen} setIsNavOpen={setIsNavOpen} />\r\n        ) : (\r\n          \"\"\r\n        )}\r\n        <Container fluid className=\"main-layout\">\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Redirect to=\"/dashboard\" />\r\n            </Route>\r\n            <PrivateRoute path=\"/dashboard\" exact component={Dashboard} />\r\n            <PrivateRoute path=\"/brands\" exact component={Brands} />\r\n            <PrivateRoute path=\"/brand-models\" exact component={BrandModels} />\r\n            <PrivateRoute path=\"/categories\" exact component={Categories} />\r\n            <PrivateRoute path=\"/users\" exact component={Users} />\r\n            <PrivateRoute path=\"/admin\" exact component={Admins} />\r\n            <PrivateRoute path=\"/services\" exact component={Services} />\r\n            <PrivateRoute path=\"/faqs\" exact component={Faqs} />\r\n            <PrivateRoute path=\"/plans\" exact component={Plans} />\r\n            <PrivateRoute path=\"/coupons\" exact component={Coupons} />\r\n            <PrivateRoute path=\"/orders\" exact component={Orders} />\r\n            <PrivateRoute path=\"/cities\" exact component={Cities} />\r\n            <PrivateRoute path=\"/testimonials\" exact component={Testimonial} />\r\n            <PrivateRoute\r\n              path=\"/advertisements\"\r\n              exact\r\n              component={Advertisements}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/brands/create-edit\"\r\n              exact\r\n              component={BrandsCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/brand-models/create-edit\"\r\n              exact\r\n              component={BrandModlesCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/categories/create-edit\"\r\n              exact\r\n              component={CategoriesCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/users/create-edit\"\r\n              exact\r\n              component={UserCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/services/create-edit\"\r\n              exact\r\n              component={ServicesCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/plans/create-edit\"\r\n              exact\r\n              component={PlanCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/coupons/create-edit\"\r\n              exact\r\n              component={CouponCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/faqs/create-edit\"\r\n              exact\r\n              component={FaqCreateUpdateForm}\r\n            />\r\n            <Route\r\n              path=\"/cities/create-edit\"\r\n              exact\r\n              component={CitiesCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/advertisements/create-edit\"\r\n              exact\r\n              component={AdvertisementCreateUpdateForm}\r\n            />\r\n            <PrivateRoute path=\"/transactions\" exact component={Transactions} />\r\n            <PrivateRoute path=\"/issues\" exact component={Issues} />\r\n            <PrivateRoute\r\n              path=\"/issues/create-edit\"\r\n              exact\r\n              component={IssuesCreateForm}\r\n            />\r\n            <PrivateRoute path=\"/permissions\" exact component={Permissions} />\r\n            <PrivateRoute path=\"/roles\" exact component={Roles} />\r\n            <PrivateRoute\r\n              path=\"/push-notifications\"\r\n              exact\r\n              component={Notifications}\r\n            />\r\n            <PrivateRoute path=\"/cart\" exact component={Cart} />\r\n            <PrivateRoute\r\n              path=\"/booking-slots\"\r\n              exact\r\n              component={BookingSlots}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/booking-slots/create-edit\"\r\n              exact\r\n              component={SlotCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/push-notifications/create-edit\"\r\n              exact\r\n              component={NotificationCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/testimonials/create-edit\"\r\n              exact\r\n              component={TestimonialCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/assign-permission/create-edit\"\r\n              exact\r\n              component={AssignPermissionForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/revoke-permission/create-edit\"\r\n              exact\r\n              component={RevokePermission}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/permissions/create-edit\"\r\n              exact\r\n              component={PermissionsCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/roles/create-edit\"\r\n              exact\r\n              component={RolesCreateUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/transactions/:id\"\r\n              exact\r\n              component={TransactionUpdateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/subscriptions\"\r\n              exact\r\n              component={Subscriptions}\r\n            />\r\n            <PrivateRoute path=\"/static-pages\" exact component={StaticPages} />\r\n            <PrivateRoute\r\n              path=\"/static-pages/create-edit\"\r\n              exact\r\n              component={StaticPageCreateForm}\r\n            />\r\n            <PrivateRoute\r\n              path=\"/subscriptions/:id\"\r\n              exact\r\n              component={SingleSubscriptions}\r\n            />\r\n            <PrivateRoute path=\"/orders/:id\" exact component={SingleOrder} />\r\n            <PrivateRoute path=\"/issues/:id\" exact component={SingleIssue} />\r\n            <PrivateRoute\r\n              path=\"/orders/assign-agent/:id\"\r\n              exact\r\n              component={AssignAgent}\r\n            />\r\n            <Route path=\"/login\" exact component={LoginPage} />\r\n            <Route path=\"/verify-otp\" exact component={VerifyOtp} />\r\n          </Switch>\r\n          <ErrorToast />\r\n          <MsgToast />\r\n        </Container>\r\n      </div>\r\n    </IsDesktopContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport \"react-dates/lib/css/_datepicker.css\"\r\nimport 'braft-editor/dist/index.css'\r\nimport 'react-lightbox-component/build/css/index.css'\r\nimport './css/App.css'\r\nimport './index.css';\r\nimport App from './App';\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { QueryClientProvider } from 'react-query';\r\nimport { ReactQueryDevtools } from \"react-query/devtools\"\r\nimport { queryClient } from './utils/queryClient';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n\r\n    <QueryClientProvider client={queryClient}>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n      {/* <ReactQueryDevtools initialIsOpen={false} /> */}\r\n    </QueryClientProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}