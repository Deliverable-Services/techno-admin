(this.webpackJsonpcarsfari_admin=this.webpackJsonpcarsfari_admin||[]).push([[0],{484:function(e,t,a){},485:function(e,t,a){},681:function(e,t){},874:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(35),i=a.n(n),r=(a(479),a(480),a(481),a(482),a(483),a(484),a(485),a(7)),l=a(885),d=a(43),o=a(22),j=a(6),u=a(30),b=a.n(u),x=a(54),m=a(889),h=a(440),O=a(439),p=a(18),f=a(438),v=a.n(f),g=a(905),N=a(907),y=a(218),w=a.n(y),C=(window.innerHeight,"#2c7be5"),_="http://carsafai.deliverable.services/admin/v1/",S="http://carsafai.deliverable.services/upload/",F="http://portal.carsafai.in",k=w.a.create({baseURL:_}),P=a(80),L=a(59),D=Object(L.combine)({accessToken:null},(function(e){return{setToken:function(t){return e((function(e){return{accessToken:t}}))},removeToken:function(){return e((function(e){return{accessToken:null}}))}}}));D=Object(L.persist)(D,{name:"accessToken"});var H=Object(P.a)(D),T=a(52),A=a(904),V=Object(P.a)(Object(L.combine)({toasts:[]},(function(e){return{hideToast:function(t){return e((function(e){return{toasts:e.toasts.filter((function(e){return e.id!==t}))}}))},showToast:function(t){return e((function(e){return{toasts:[].concat(Object(T.a)(e.toasts),[Object(j.a)(Object(j.a)({},t),{},{id:Object(A.a)()})])}}))}}}))),I=function(e){V.getState().showToast({message:e})},z=function(){var e=Object(x.a)(b.a.mark((function e(t,a){var c,s,n,i,r,l,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(401==(null===t||void 0===t||null===(c=t.response)||void 0===c?void 0:c.status)){e.next=6;break}return I((null===t||void 0===t||null===(s=t.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.message)||t.message),e.abrupt("return");case 6:return e.prev=6,e.next=9,k.post("/auth/refresh");case 9:i=e.sent,r=i.data,console.log("refresh-data",r),r&&H.getState().setToken(r.access_token),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),a.push("/login"),I((null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l||null===(d=l.data)||void 0===d?void 0:d.message)||e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(t,a){return e.apply(this,arguments)}}(),E=a(1),R=function(e){var t=e.onFilterChange,a=e.title,c=e.dataLength,s=e.currentValue,n=e.value,i=e.idx,r=e.isLast,l=void 0!==r&&r;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("span",{onClick:function(){return t(i,n)},className:"".concat(s===n?"text-primary":"text-muted"),style:{cursor:"pointer"},children:[a," ",s===n?"(".concat(c,")"):""]}),!l&&Object(E.jsx)("span",{className:"mx-2",style:{opacity:.2},children:"|"})]})},M=a(10),Y=a.n(M),q=function(e){var t=e.date;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{children:t?Y()(t).format("DD:MM:YY"):"NA"}),Object(E.jsx)("br",{}),Object(E.jsxs)("span",{children:["(",t?Y()(t).format("hh:mm"):"NA",")"]})]})},U=a(60),B=function(e){return Object(E.jsx)("div",{children:Object(E.jsxs)(O.a,{variant:"outline-primary",onClick:e.onClick,children:[Object(E.jsx)(U.a,{size:16,className:"mr-1"}),"Edit"]})})},Q=a(901),W=function(e){var t=e.onFilterChange,a=e.width,c=void 0===a?"200px":a,s=e.defaultSelectTitle,n=void 0===s?"All":s,i=e.isDefaultDisabled,r=void 0!==i&&i,l=e.label,d=e.currentValue,o=e.idx,j=e.data,u=e.valueSelector,b=void 0===u?"id":u,x=e.nameSelector,m=void 0===x?"name":x;return Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{className:"text-muted",children:l}),Object(E.jsxs)(Q.a.Control,{as:"select",value:d,id:o,onChange:function(e){return t(o,e.target.value)},style:{width:c,fontSize:14},children:[Object(E.jsx)("option",{value:"",disabled:r,children:n}),j&&j.map((function(e){return Object(E.jsx)("option",{value:e[b],children:e[m]||e[b]})}))]})]})},G=function(e){var t=e.variant,a=e.title,c=e.fontSize,s=void 0===c?14:c,n=function(){return"danger"===t?{bg:"#f8d7da",color:"red"}:"warning"===t?{bg:"#fff3cd",color:"#ccb81f"}:"success"===t?{bg:"#d4edda",color:"green"}:"primary"===t?{bg:"#cce5ff",color:"blue"}:void 0};return Object(E.jsx)("span",{style:{backgroundColor:n().bg,color:n().color,fontSize:s,padding:"3px 6px"},className:"text-capitalize rounded",children:a})},K=function(e){var t=e.value;return Object(E.jsx)(G,{title:1==parseInt(t)?"Yes":"No",variant:1===parseInt(t)?"success":"danger"})},J=a(886),X=function(){return Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center pt-3 pb-3",children:Object(E.jsx)(J.a,{variant:"primary",animation:"border"})})},$=function(e){var t=e.title,a=e.onClick,c=e.totalRecords;return Object(E.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(E.jsxs)("h2",{className:"font-weight-bolder",children:[t,c?Object(E.jsxs)("small",{style:{fontSize:14,marginLeft:5,opacity:.6},children:["(",c,")"]}):null]}),a&&Object(E.jsx)(O.a,{variant:"primary",onClick:a,children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(U.c,{size:25})," ",Object(E.jsx)("b",{children:"Create"})]})})]})},Z=a(906),ee=function(e){var t=e.currentPage,a=e.setPage,c=e.hasNextPage,s=e.hasPrevPage,n=e.lastPage;return Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-end",children:Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(Z.a.First,{onClick:function(){return a("page",1)}}),s&&Object(E.jsx)(Z.a.Prev,{onClick:function(){return a("page",t-1)}}),Object(E.jsx)(Z.a.Item,{active:!0,children:Object(E.jsx)("span",{className:"text-secondary",children:t})}),c&&Object(E.jsx)(Z.a.Next,{onClick:function(){return a("page",t+1)}}),Object(E.jsx)(Z.a.Last,{onClick:function(){return a("page",n)}})]})})},te=a(40),ae=a(237),ce=a(899),se=a(888),ne=a(887),ie=a(466),re=a(93),le=a(222),de=a(189),oe=a(140),je=[{id:"1",name:"Yes"},{id:"0",name:"No"}],ue=[{id:"percentage",name:"Percentage"},{id:"discount",name:"Discount"}],be=[{id:"admin",name:"Admin"},{id:"customer",name:"Customer"},{id:"agent",name:"Agent"}],xe=[{id:"0",name:0},{id:"1",name:1},{id:"2",name:2},{id:"3",name:3},{id:"4",name:4},{id:"5",name:5},{id:"6",name:6},{id:"7",name:7}],me=[{id:"razorpay",name:"Razor Pay"},{id:"cod",name:"COD"}],he=[{id:"25",name:25},{id:"35",name:35},{id:"45",name:45}],Oe=[{id:"Order related",name:"Order related"},{id:"Payment Related",name:"Payment Related"},{id:"Other Issue",name:"Other Issue"}],pe=[{id:"fulfilled",name:"Fulfilled"},{id:"picked",name:"Picked"},{id:"transit",name:"Transit"},{id:"dispatched",name:"Dispatched"},{id:"delayed",name:"Delayed"},{id:"processing",name:"Processing"}],fe=[{id:"normal",name:"Normal"}],ve=[{id:"active",name:"Active"},{id:"closed",name:"Closed"}],ge=[{id:"active-users",name:"Active Users"},{id:"disabled-users",name:"Disabled Users"},{id:"subscribed-users",name:"Subscribed Users"},{id:"not-subscribed-users",name:"Not Subscribed Users"},{id:"agents",name:"Agents"}],Ne=["indeterminate"];function ye(e){var t=e.preGlobalFilteredRows,a=(e.globalFilter,e.setGlobalFilter,e.searchValue),c=e.onSearchChange,n=t.length,i=s.a.useState(a),l=Object(r.a)(i,2),d=l[0],o=l[1];return Object(E.jsx)("input",{value:d||"",onChange:function(e){c("q",e.target.value),o(e.target.value)},placeholder:"Search ".concat(n," records...")})}var we=s.a.forwardRef((function(e,t){e.indeterminate;var a=Object(te.a)(e,Ne),c=s.a.useRef(null)||t;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox",ref:c},a),{},{name:"row-check",id:"row-check"}))})}));var Ce=function(e){var t=e.provided,a=e.row,c=e.snapshot;return Object(E.jsx)("tr",Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({ref:t.innerRef},a.getRowProps()),t.draggableProps),t.dragHandleProps),{},{style:Object(j.a)(Object(j.a)({},t.draggableProps.style),{},{opacity:c.isDragging?".5":"1"}),children:a.cells.map((function(e){return Object(E.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{style:{verticalAlign:"middle"},children:e.render("Cell",{dragHandleProps:t.dragHandleProps,isSomethingDragging:c.isDragging})}))}))}))},_e=function(e){var t=e.row;return Object(E.jsx)("tr",Object(j.a)(Object(j.a)({},t.getRowProps()),{},{children:t.cells.map((function(e){return Object(E.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{style:{verticalAlign:"middle"},children:e.render("Cell")}))}))}))},Se=function(e){var t=e.data,a=e.columns,c=e.updateOrder,n=e.initialState,i=e.isDraggable,d=void 0!==i&&i,o=e.setSelectedRows,u=e.filter,b=e.onFilterChange,x=e.isDataLoading,m=e.setSelectedRowIds,h=e.isSelectable,O=void 0===h||h,p=s.a.useState(t),f=Object(r.a)(p,2),v=f[0],g=f[1];s.a.useEffect((function(){return g(t)}),[t]);var N=s.a.useCallback((function(e){return e.id}),[]),y=Object(oe.useTable)({columns:a,data:v,initialState:Object(j.a)(Object(j.a)({},n),{},{pageSize:u.perPage})},oe.useFilters,oe.useGlobalFilter,oe.useSortBy,oe.usePagination,oe.useRowSelect,N,(function(e){O&&e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(E.jsx)("div",{children:Object(E.jsx)(we,Object(j.a)({},t()))})},Cell:function(e){var t=e.row;return Object(E.jsx)("div",{children:Object(E.jsx)(we,Object(j.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(T.a)(e))}))})),w=y.getTableProps,_=(y.getTableBodyProps,y.headerGroups),S=y.rows,F=y.prepareRow,k=y.allColumns,P=y.state,L=y.preGlobalFilteredRows,D=y.setGlobalFilter,H=y.selectedFlatRows,A=y.setPageSize,V=y.state,I=V.selectedRowIds,z=V.pageSize;return s.a.useEffect((function(){m&&m(I),o&&o((function(){var e=[];return H.map((function(t){e.push(t.original)})),e}))}),[I]),Object(E.jsxs)("div",{children:[Object(E.jsxs)(l.a,{fluid:!0,className:"card-header pb-3 d-flex align-items-center position-relative",children:[Object(E.jsx)("div",{className:"w-100",children:Object(E.jsxs)("div",{className:"search-input",children:[Object(E.jsx)(U.e,{size:18}),Object(E.jsx)(ye,{preGlobalFilteredRows:L,globalFilter:P.globalFilter,setGlobalFilter:D,searchValue:null===u||void 0===u?void 0:u.query,onSearchChange:b})]})}),Object(E.jsxs)("div",{className:"d-flex",children:[Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-center",children:[Object(E.jsx)("span",{className:"text-muted",children:"Records "}),Object(E.jsx)("select",{className:"text-primary font-weight-bold",style:{border:"none",marginRight:5},value:z,onChange:function(e){var t=e.target.value;A(parseInt(t)),b("perPage",t)},children:he.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.name},e.id)}))})]}),Object(E.jsxs)(ce.a,{children:[Object(E.jsxs)(ce.a.Toggle,{id:"dropdown-basic",className:"filter-button bg-transparent border-0 text-primary",children:[Object(E.jsx)(le.b,{size:17,color:C})," ",Object(E.jsx)("span",{className:"text-muted my-auto",children:"Filter"})]}),Object(E.jsx)(ce.a.Menu,{className:"p-2",children:k.map((function(e){return e.disableGlobalFilter=!e.isVisible,Object(E.jsxs)("div",{className:"custom-control custom-checkbox w-100 px-2",children:[Object(E.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox"},e.getToggleHiddenProps()),{},{className:"d-none",id:e.id})),Object(E.jsxs)("div",{className:"custom-control custom-checkbox ",children:[Object(E.jsx)("input",Object(j.a)({type:"checkbox",className:"custom-control-input",id:e.id},e.getToggleHiddenProps())),Object(E.jsx)("label",{className:"custom-control-label",htmlFor:e.id,children:Object(E.jsx)("p",{style:{whiteSpace:"nowrap"},children:e.Header})})]})]},e.id)}))})]})]})]}),Object(E.jsx)(ne.a,{backend:ie.a,children:Object(E.jsx)("div",{className:"tableFixed",children:Object(E.jsxs)(se.a,Object(j.a)(Object(j.a)({className:"table-fixed"},w()),{},{responsive:!0,hover:!0,size:"sm",children:[Object(E.jsxs)("thead",{className:"bg-grey-primary",children:[x?Object(E.jsx)("tr",{children:Object(E.jsxs)("td",{className:"text-muted font-weight-bold w-100",children:["Loading ",Object(E.jsx)(J.a,{size:"sm",animation:"border"})]})}):null,_.map((function(e){return Object(E.jsx)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(E.jsxs)("th",Object(j.a)(Object(j.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(E.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(E.jsx)(de.c,{}):Object(E.jsx)(de.b,{}):""})]}))}))}))}))]}),Object(E.jsx)(ae.a,{onDragEnd:function(e){var t=e.source,a=e.destination;if(a){!function(e,t){var a=Object(T.a)(v),c=a.splice(e,1),s=Object(r.a)(c,1)[0];a.splice(t,0,s),g(a)}(t.index,a.index);var s=v[e.draggableId];c&&c(s.id,a.index,s)}},children:Object(E.jsx)(ae.c,{droppableId:"table-body",children:function(e,t){return Object(E.jsxs)("tbody",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[S.map((function(e,t){return F(e),d?Object(E.jsx)(ae.b,{draggableId:e.id,index:t,children:function(t,a){return Object(E.jsx)(Ce,{provided:t,row:e,snapshot:a})}},e.id):Object(E.jsx)(_e,{row:e})})),e.placeholder]}))}})})]}))})}),0===S.length?Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(E.jsx)(re.a,{color:"#000",size:60}),Object(E.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No data found"})]})}):null]})},Fe=a(903),ke=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in a=t.queryKey,console.log({queryKey:a}),c={},a[2])a[2][s]&&(c[s]=a[2][s]);return console.log({params:c}),e.next=7,k.get("".concat(a[0]),{params:c});case 7:if(200===(n=e.sent).status){e.next=12;break}throw I(n.status.toString()),Pe.invalidateQueries("profile"),new Error;case 12:return e.next=14,n.data;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=new Fe.a({defaultOptions:{queries:{refetchOnMount:"always",staleTime:3e5,queryFn:ke,onError:function(e){I(e.message),Pe.invalidateQueries("profile")},keepPreviousData:!0,retry:!1}}}),Le=Object(P.a)(Object(L.combine)({toasts:[]},(function(e){return{hideToast:function(t){return e((function(e){return{toasts:e.toasts.filter((function(e){return e.id!==t}))}}))},showToast:function(t){return e((function(e){return{toasts:[].concat(Object(T.a)(e.toasts),[Object(j.a)(Object(j.a)({},t),{},{id:Object(A.a)()})])}}))}}}))),De=function(e){Le.getState().showToast({message:e})},He="banners/list",Te=function(e){return k.post("banners/delete",{id:e})},Ae={type:"offers",q:"",page:"",perPage:25,active:""},Ve=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in a=t.queryKey,c={},a[2])a[2][s]&&(c[s]=a[2][s]);return e.next=5,k.get("".concat(a[0],"/").concat(a[1].toLowerCase()),{params:c});case 5:return n=e.sent,e.next=8,n.data;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)(""),u=Object(r.a)(i,2),b=(u[0],u[1],Object(c.useState)([])),x=Object(r.a)(b,2),f=x[0],y=x[1];console.log(f.map((function(e){return e.id})));var w=Object(c.useState)(1),_=Object(r.a)(w,2),k=(_[0],_[1],Object(c.useState)(!1)),P=Object(r.a)(k,2),L=(P[0],P[1]),D=Object(c.useState)(!1),H=Object(r.a)(D,2),T=H[0],A=(H[1],Object(c.useState)(Ae)),V=Object(r.a)(A,2),I=V[0],M=V[1],Y=Object(g.a)([He,I.type,I],Ve,{onError:function(e){z(e,n)}}),U=Y.data,Q=Y.isLoading,G=Y.isFetching,J=Y.error,Z=Object(N.a)(Te,{onSuccess:function(){Pe.invalidateQueries(He),L(!1),De("Banner(s) deleted successfully")},onError:function(e){z(e,n)}}),te=Z.mutate,ae=Z.isLoading,ce=function(e,t){M((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},se=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(E.jsx)(v.a,{images:[{src:"".concat(S,"banners/").concat(e.row.values.image),title:e.row.values.image}],thumbnailWidth:"100px",thumbnailHeight:"50px"})}},{Header:"Name",accessor:"name"},{Header:"Deep Link",accessor:"deeplink",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){window.open(F)},children:e.row.values.deeplink})}},{Header:"Order",accessor:"order"},{Header:" Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Valid from",accessor:"valid_from",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.valid_from})}},{Header:"Valid To",accessor:"valid_to",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.valid_to})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/advertisements/create-edit",{id:t})}})}}]}),[]);return U||Q&&G?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Banners",onClick:function(){n.push("/advertisements/create-edit")},totalRecords:null===U||void 0===U?void 0:U.total}),(!Q||!G)&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:ce,value:"offers",currentValue:I.type,dataLength:null===U||void 0===U||null===(e=U.data)||void 0===e?void 0:e.length,idx:"type",title:"Offers"}),Object(E.jsx)(R,{onFilterChange:ce,value:"latest",currentValue:I.type,dataLength:null===U||void 0===U||null===(t=U.data)||void 0===t?void 0:t.length,idx:"type",title:"Latest"}),Object(E.jsx)(R,{onFilterChange:ce,value:"trending",currentValue:I.type,dataLength:null===U||void 0===U||null===(a=U.data)||void 0===a?void 0:a.length,idx:"type",title:"Trending",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Q?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!J&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsx)(m.a,{className:"select-filter d-flex",children:Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:I.active,data:je,label:"Is Active?",idx:"active",onFilterChange:ce,defaultSelectTitle:"Show All"})})})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:U.data,columns:se,setSelectedRows:y,onFilterChange:ce,filter:I,isDataLoading:G,isDraggable:T})]}),!J&&(null===U||void 0===U||null===(s=U.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===U||void 0===U?void 0:U.current_page,lastPage:null===U||void 0===U?void 0:U.last_page,setPage:ce,hasNextPage:!!(null===U||void 0===U?void 0:U.next_page_url),hasPrevPage:!!(null===U||void 0===U?void 0:U.prev_page_url)}):null," "]})})}),f.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",f.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){te(f.map((function(e){return e.id})))},children:ae?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ze=a(27),Ee=a.n(ze),Re=a(11),Me=a(890),Ye=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryKey,e.next=3,k.get("".concat(a[0],"/").concat(a[1]));case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(e){var t=e.id,a=e.key,c=Object(d.g)();return Object(g.a)([a,t],Ye,{enabled:!!t,refetchOnMount:"always",onError:function(e){z(e,c)}})},Ue=function(e){var t=e.title,a=Object(d.g)();return Object(E.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2 px-0",children:[Object(E.jsx)("h2",{className:"font-weight-bold",children:t}),Object(E.jsx)(O.a,{variant:"primary",onClick:function(){return a.goBack()},children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(p.a,{size:25})," ",Object(E.jsx)("b",{children:"Back"})]})})]})},Be=["label","name","error","setFieldValue"],Qe=function(e){var t=e.label,a=e.name,s=e.error,n=e.setFieldValue,i=Object(te.a)(e,Be),l=Object(Re.d)(Object(j.a)(Object(j.a)({},i),{},{name:a})),d=Object(r.a)(l,1)[0],o=Object(c.useState)(Y()(d.value).format("YYYY-MM-DDThh:mm")),u=Object(r.a)(o,2),b=u[0],x=u[1];return Object(E.jsx)("div",{className:"w-100",children:Object(E.jsxs)(Q.a.Group,{children:[t?Object(E.jsx)(Q.a.Label,{htmlFor:d.name,children:t}):null,Object(E.jsx)(Q.a.Control,{id:d.name,value:b,onChange:function(e){n(a,Y()(e.target.value).format("YYYY-MM-DD hh:mm:ss")),x(e.target.value)},type:"datetime-local"}),s&&Object(E.jsx)(Q.a.Text,{className:"text-danger",children:s})]})})},We=["isFile","error","label","as","setFieldValue","size","selectData","selectValueKey","selectTitleKey"],Ge=function(e){var t=e.isFile,a=e.error,c=e.label,s=e.as,n=void 0===s?"input":s,i=e.setFieldValue,l=(e.size,e.selectData),d=e.selectValueKey,o=e.selectTitleKey,u=Object(te.a)(e,We),b=Object(Re.d)(u),x=Object(r.a)(b,1)[0];return Object(E.jsx)("div",{className:"w-100",children:Object(E.jsxs)(Q.a.Group,{children:[c?Object(E.jsx)(Q.a.Label,{htmlFor:x.name,children:c}):null,t?Object(E.jsx)(Q.a.File,{id:"custom-file",label:"Choose file",custom:!0,onChange:function(e){var t=e.currentTarget.files;t&&i&&i(x.name,t[0])}}):"select"===n?Object(E.jsxs)(Q.a.Control,Object(j.a)(Object(j.a)({},x),{},{id:x.name,as:"select",children:[Object(E.jsx)("option",{value:"",children:c}),l&&l.map((function(e){return Object(E.jsx)("option",{value:e[d||"id"],children:e[o||"name"]})}))]})):Object(E.jsx)(Q.a.Control,Object(j.a)(Object(j.a)(Object(j.a)({},x),u),{},{id:x.name,as:n})),a&&Object(E.jsx)(Q.a.Text,{className:"text-danger",children:a})]})})},Ke=[{id:"Trending",name:"Trending"},{id:"Latest",name:"Latest"}],Je=["image"],Xe="banners",$e=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Xe,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Xe),t,{headers:{"Content-Type":"multipart/form-data"}})},Ze=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:Xe}),n=s.data,i=s.isLoading,r=Object(N.a)($e,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries("banners/list")}),500),e.replace("/advertisements"),a)return De("Banner updated successfully");De("Bannner created successfully")},onError:function(t){z(t,e)}}),l=r.mutate,o=r.isLoading,j=r.error,u=r.status,b=n&&n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Banners"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:b||{valid_to:Y()().format("YYYY-MM-DD hh:mm:ss"),valid_from:Y()().format("YYYY-MM-DD hh:mm:ss")},onSubmit:function(e){var t=e.image,c=Object(te.a)(e,Je);console.log({values:e});var s=new FormData;for(var n in c)s.append(n,c[n]);t&&s.append("image",e.image),l({formdata:s,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:["success"===u&&Object(E.jsx)(Me.a,{variant:"success",children:a?"Advertisement  updated successfully":"Advertisement created successfully"}),j&&Object(E.jsx)(Me.a,{variant:"danger",children:j.message}),Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name"}),Object(E.jsx)(Ge,{name:"title",placeholder:"Title",label:"Title"}),Object(E.jsx)(Ge,{name:"deeplink",placeholder:"Deep Link",label:"Deep Link"}),Object(E.jsx)(Ge,{type:"number",name:"order",placeholder:"Order",label:"Order"}),Object(E.jsx)(Qe,{name:"valid_from",label:"Valid From",setFieldValue:t}),Object(E.jsx)(Qe,{name:"valid_to",label:"Valid To",setFieldValue:t}),Object(E.jsx)(Ge,{name:"image",placeholder:"image",label:"Image",isFile:!0,setFieldValue:t}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(E.jsx)(Ge,{name:"type",placeholder:"Advertisement type",label:"Choose Type",as:"select",selectData:Ke}),Object(E.jsx)(Ge,{as:"textarea",name:"description",placeholder:"Description",label:"Description"}),Object(E.jsx)(Ge,{as:"textarea",name:"terms",placeholder:"Terms",label:"Terms"})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},et=a(900),tt=a(444),at=a.n(tt),ct="disabled-slots",st=function(e){return k.delete("".concat(ct,"/").concat(e))},nt={start:Y()().startOf("month").format("YYYY-MM-DD"),end:Y()().endOf("month").format("YYYY-MM-DD")},it=function(){var e=Object(d.g)(),t=Object(c.useState)([]),a=Object(r.a)(t,2),n=(a[0],a[1],Object(c.useState)(!1)),i=Object(r.a)(n,2),o=i[0],j=i[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),x=b[0],m=b[1],h=Object(c.useState)(null),f=Object(r.a)(h,2),v=f[0],y=f[1],w=Object(c.useState)(nt),_=Object(r.a)(w,2),S=_[0],F=(_[1],Object(g.a)([ct,,S],{onError:function(t){z(t,e)}})),k=F.data,P=F.isLoading,L=F.isFetching,D=(F.error,Object(N.a)(st,{onSuccess:function(){Pe.invalidateQueries(ct),j(!1),De("Slot deleted successfully")},onError:function(t){z(t,e)}})),H=D.mutate,T=D.isLoading;s.a.useEffect((function(){!function(){var e=[];P||k&&(Object.values(k).map((function(t){t.map((function(t){var a={id:t.id,from:Y()(t.datetime).format("YYYY-MM-DDThh:mm:ss"),to:Y()(t.datetime).add(1,"hour").format("YYYY-MM-DDThh:mm:ss"),title:"".concat(t.reason," ").concat(Y()(t.datetime).format("HH a"),"-").concat(Y()(t.datetime).add(1,"hour").format("HH a")," "),color:C};e.push(a)}))})),y(e))}()}),[k,P]);Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Reason",accessor:"reason"},{Header:"Date",accessor:"updated_at",Cell:function(e){return Y()(e.row.values.updated_at).format("DD-MM-YYYY")}},{Header:"Slot",Cell:function(e){return Y()(e.row.values.updated_at).format("hh (hh+1) A")}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}}]}),[]);return k||P&&L?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Booking Slots",onClick:function(){e.push("/booking-slots/create-edit")},totalRecords:null===k||void 0===k?void 0:k.total}),Object(E.jsx)("hr",{}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P?Object(E.jsx)(X,{}):Object(E.jsx)(E.Fragment,{children:Object.entries(k)&&Object.entries(k).length?Object(E.jsx)(at.a,{events:v,onClickEvent:function(e){m(e),j(!0)}}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(E.jsx)(re.a,{color:"#000",size:60}),Object(E.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No data found"})]})})})})}),Object(E.jsxs)(et.a,{show:o,onHide:function(){return j(!1)},children:[Object(E.jsx)(et.a.Header,{closeButton:!0,children:Object(E.jsx)(et.a.Title,{children:"Are you sure?"})}),Object(E.jsx)(et.a.Body,{children:"Do you really want to delete this disabled slot? This process cannot be undone"}),Object(E.jsxs)(et.a.Footer,{children:[Object(E.jsx)(O.a,{variant:"bg-light",onClick:function(){return j(!1)},children:"Close"}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){H(x)},children:T?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},rt="disabled-slots",lt=function(e){var t=e.formdata;return k.post("".concat(rt),t)},dt=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:rt}),n=s.data,i=s.isLoading,r=Object(N.a)(lt,{onSuccess:function(){setTimeout((function(){return Pe.invalidateQueries(rt)}),500),t.replace("/booking-slots"),De("Slot has been  disabled successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading,j=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Booking Slots"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{},onSubmit:function(e){var t={reason:e.reason,datetime:Y()(e.datetime).format("YYYY-MM-DD hh:mm:ss")};console.log({formdata:t}),l({formdata:t})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container ",children:[Object(E.jsx)(Ge,{name:"reason",placeholder:"Reason",label:"Reason",required:!0}),Object(E.jsx)(Qe,{name:"datetime",setFieldValue:t,label:"Date Time"})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},ot=function(e){var t=e.file,a=e.folder;return t?Object(E.jsx)("div",{className:"table-image",children:Object(E.jsx)("img",{src:"".concat(S).concat(a,"/").concat(t),alt:t})}):Object(E.jsx)("p",{className:"text-muted text-center",children:"NA"})};function jt(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;if(e.constructor!==t.constructor)return!1;for(var a in e)if(e.hasOwnProperty(a)){if(!t.hasOwnProperty(a))return!1;if(e[a]!==t[a]){if("object"!==typeof e[a])return!1;if(!jt(e[a],t[a]))return!1}}for(a in t)if(t.hasOwnProperty(a)&&!e.hasOwnProperty(a))return!1;return!0}var ut="brand-models",bt=function(e){return k.post("".concat(ut,"/delete"),{id:e})},xt={q:"",page:null,perPage:25,active:"",brand_id:""},mt=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],x=u[1],f=Object(c.useState)(xt),v=Object(r.a)(f,2),y=v[0],w=v[1],_=Object(c.useState)(1),S=Object(r.a)(_,2),k=(S[0],S[1],Object(g.a)([ut,,y],{onError:function(e){z(e,n)}})),P=k.data,L=k.isLoading,D=k.isFetching,H=k.error,T=Object(g.a)(["brands"]),A=T.data,V=T.isLoading,I=Object(N.a)(bt,{onSuccess:function(){Pe.invalidateQueries(ut),De("Brand Model deleted successfully")},onError:function(e){z(e,n)}}),M=I.mutate,Y=I.isLoading,U=function(e,t){w((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},Q=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(E.jsx)(ot,{folder:"brand-models",file:e.row.values.image})}},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(F)},children:e.row.values.url})}},{Header:"Brand",accessor:"brand.name"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/brand-models/create-edit",{id:t})}})}}]}),[]);return P||L&&D?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Brand Models",onClick:function(){n.push("/brand-models/create-edit")},totalRecords:null===P||void 0===P?void 0:P.total}),!L&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:U,value:"",currentValue:y.active,dataLength:null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(E.jsx)(R,{onFilterChange:U,value:"1",currentValue:y.active,dataLength:null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(E.jsx)(R,{onFilterChange:U,value:"0",currentValue:y.active,dataLength:null===P||void 0===P||null===(a=P.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:L?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!H&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:y.brand_id,data:!V&&A.data,label:"Brands",idx:"brand_id",onFilterChange:U})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{variant:jt(xt,y)?"light":"primary",style:{fontSize:14},onClick:function(){return w(xt)},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===P||void 0===P?void 0:P.data,columns:Q,setSelectedRows:x,filter:y,onFilterChange:U,isDataLoading:D})]}),!H&&(null===P||void 0===P||null===(s=P.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===P||void 0===P?void 0:P.current_page,lastPage:null===P||void 0===P?void 0:P.last_page,setPage:U,hasNextPage:!!(null===P||void 0===P?void 0:P.next_page_url),hasPrevPage:!!(null===P||void 0===P?void 0:P.prev_page_url)}):null," "]})})}),b.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){M(b.map((function(e){return e.id})))},children:Y?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ht=["image"],Ot="brand-models",pt=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Ot,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Ot),t,{headers:{"Content-Type":"multipart/form-data"}})},ft=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=Object(g.a)(["brands"]),n=s.data,i=s.isLoading,r=qe({id:a,key:Ot}),l=r.data,o=r.isLoading,j=Object(N.a)(pt,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Ot)}),500),t.replace("/brand-models"),a)return De("Brand Model updated successfully");De("Brand Model created successfully")},onError:function(e){z(e,t)}}),u=j.mutate,b=j.isLoading,x=l&&l;return o?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Brands Model"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:x||{is_active:"1"},onSubmit:function(e){var t=new FormData,c=(e.image,Object(te.a)(e,ht));for(var s in c)t.append(s,c[s]);e.image&&"string"!==typeof e.image&&t.append("image",e.image),u({formdata:t,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(E.jsx)(Ge,{name:"image",placeholder:"image",label:"Choose Brand Model Image",isFile:!0,setFieldValue:t}),Object(E.jsx)(Ge,{name:"brand_id",placeholder:"Brand",label:"Choose Brand",as:"select",selectData:!i&&n.data}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},vt="brands",gt=function(e){return k.post("".concat(vt,"/delete"),{id:e})},Nt={active:"",q:"",page:1,perPage:25},yt=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],x=u[1];console.log(b.map((function(e){return e.id})));var m=Object(c.useState)(Nt),h=Object(r.a)(m,2),f=h[0],v=h[1];console.log({filter:f});var y=Object(g.a)([vt,,f],{onError:function(e){z(e,n)}}),w=y.data,_=y.isLoading,S=y.isFetching,k=y.error,P=Object(N.a)(gt,{onSuccess:function(){Pe.invalidateQueries(vt),De("Brands deleted successfully")},onError:function(e){z(e,n)}}),L=P.mutate,D=P.isLoading,H=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},T=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Logo",accessor:"logo",Cell:function(e){return Object(E.jsx)(ot,{folder:"brands",file:e.row.values.logo})}},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(F)},children:e.row.values.url})}},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/brands/create-edit",{id:t})}})}}]}),[]);return w||_&&S?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Brands",onClick:function(){n.push("/brands/create-edit")},totalRecords:null===w||void 0===w?void 0:w.total}),!_&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:H,value:"",currentValue:f.active,dataLength:null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(E.jsx)(R,{onFilterChange:H,value:"1",currentValue:f.active,dataLength:null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(E.jsx)(R,{onFilterChange:H,value:"0",currentValue:f.active,dataLength:null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:_?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!k&&Object(E.jsx)(Se,{data:null===w||void 0===w?void 0:w.data,columns:T,setSelectedRows:x,filter:f,onFilterChange:H,isDataLoading:S}),!k&&(null===w||void 0===w||null===(s=w.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===w||void 0===w?void 0:w.current_page,lastPage:null===w||void 0===w?void 0:w.last_page,setPage:H,hasNextPage:!!(null===w||void 0===w?void 0:w.next_page_url),hasPrevPage:!!(null===w||void 0===w?void 0:w.prev_page_url)}):null," "]})})}),b.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){L(b.map((function(e){return e.id})))},children:D?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},wt=["logo"],Ct="brands",_t=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Ct,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Ct),t,{headers:{"Content-Type":"multipart/form-data"}})},St=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null,s=qe({id:a,key:Ct}),n=s.data,i=s.isLoading,r=Object(N.a)(_t,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Ct)}),500),t.replace("/brands"),a)return De("Brand updated successfully");De("Brands created successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading;Object(c.useEffect)((function(){Ee.a.init()}),[]);var j=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Add brand"}),Object(E.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{is_active:"1"},onSubmit:function(e){var t=e.logo,c=Object(te.a)(e,wt),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("logo",t),l({formdata:s,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(E.jsx)(Ge,{name:"logo",placeholder:"logo",label:"Choose Brand Logo",isFile:!0,setFieldValue:t}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},Ft={status:"",user_id:"",agent_id:"",order_type:""},kt=Object(L.combine)({filter:Ft},(function(e){return{onFilterChange:function(t,a){return e((function(e){return Object(j.a)(Object(j.a)({},e),{},{filter:Object(j.a)(Object(j.a)({},e.filter),{},Object(o.a)({},t,a))})}))},resetFilter:function(){return e((function(e){return{filter:Ft}}))}}}));kt=Object(L.persist)(kt,{name:"carsafai_admin_order_filter"});var Pt=Object(P.a)(kt),Lt=function(e){return e.id?Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){return e.onClick(e.id)},children:e.title||e.id}):Object(E.jsx)("p",{className:"text-muted m-0",children:"NA"})},Dt={q:"",page:null,perPage:25,created_at:"",inside_cart:"1"},Ht=function(){var e,t=Object(d.g)(),a=Object(c.useState)(1),s=Object(r.a)(a,2),n=(s[0],s[1],Object(c.useState)([])),i=Object(r.a)(n,2),u=(i[0],i[1]),b=Object(c.useState)(Dt),x=Object(r.a)(b,2),f=x[0],v=x[1],N=Pt((function(e){return e.filter})),y=Pt((function(e){return e.onFilterChange})),w=Pt((function(e){return e.resetFilter})),_=Object(g.a)(["bookings",,Object(j.a)(Object(j.a)({},N),f)],{onError:function(e){z(e,t)}}),S=_.data,F=_.isLoading,k=_.isFetching,P=_.error,L=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){z(e,t)}}),D=L.data,H=L.isLoading,T=function(e){var t=e.status;return Object(E.jsx)(G,{variant:"cancelled"===t||"error_payment"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success",title:t})},A=function(e){e&&t.push("/users/create-edit",{id:e})},V=function(e){e&&t.push("/orders/".concat(e))},I=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},R=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id",Cell:function(e){return Object(E.jsx)(Lt,{onClick:V,id:e.row.values.id,title:e.row.values.ref_id})}},{Header:"Customer",accessor:"user.name",Cell:function(e){return Object(E.jsx)(Lt,{onClick:A,id:e.row.original.user_id,title:e.row.values["user.name"]})}},{Header:"Order Type",accessor:"order_type",Cell:function(e){return Object(E.jsx)(T,{status:e.row.values.order_type})}},{Header:"Order Status",accessor:"status",Cell:function(e){return Object(E.jsx)(T,{status:e.row.values.status})}},{Header:"Scheduled At",accessor:"scheduled_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.scheduled_at})}},{Header:"Inside Cart",accessor:"inside_cart"},{Header:"Paid Amount",accessor:"payable_amount"},{Header:"Rating",accessor:"rating"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)("div",{className:"d-flex",children:Object(E.jsx)(O.a,{onClick:function(){return t.push("/orders/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return S||F&&k?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Inside Cart",totalRecords:null===S||void 0===S?void 0:S.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Object(E.jsx)(E.Fragment,{children:F?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!P&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-2",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:N.user_id,data:!H&&D.data,label:"Customer",idx:"user_id",onFilterChange:y})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:N.order_type,data:fe,label:"Order Type",idx:"order_type",onFilterChange:y})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{onClick:function(){w(),v(Dt)},variant:jt(Object(j.a)(Object(j.a)({},Dt),Ft),Object(j.a)(Object(j.a)({},f),N))?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:S.data,columns:R,setSelectedRows:u,filter:N,onFilterChange:I,isDataLoading:k,isSelectable:!1})]}),!P&&(null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.length)>0?Object(E.jsx)(ee,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:I,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})})})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Tt="categories",At=function(e){return k.post("".concat(Tt,"/delete"),{id:e})},Vt=function(){var e=Object(x.a)(b.a.mark((function e(t,a,c){var s,n,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in s=(parseInt(a)+1).toString(),n=new FormData,c)n.append(i,c[i]);return n.append("order",s),e.prev=4,e.next=7,k.post("".concat(Tt,"/").concat(t),n,{headers:{"Content-Type":"multipart/form-data"}});case 7:r=e.sent,r.data&&(De("Successfully updated order"),Pe.invalidateQueries(Tt)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),I(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,a,c){return e.apply(this,arguments)}}(),It={q:"",page:null,perPage:25,active:""},zt=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],x=u[1],h=Object(c.useState)(It),f=Object(r.a)(h,2),v=f[0],y=f[1],w=Object(c.useState)(!1),_=Object(r.a)(w,2),S=_[0],k=(_[1],Object(g.a)([Tt,,v],{onError:function(e){z(e,n)}})),P=k.data,L=k.isLoading,D=k.isFetching,H=k.error,T=Object(N.a)(At,{onSuccess:function(){Pe.invalidateQueries(Tt),De("Categories deleted successfully")},onError:function(e){z(e,n)}}),A=T.mutate,V=T.isLoading,I=function(e,t){y((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},M=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){window.open(F)},children:e.row.values.url})}},{Header:"Order",accessor:"order",isSortedDesc:!0},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/categories/create-edit",{id:t})}})}}]}),[]);return P||L&&D?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Categories",onClick:function(){n.push("/categories/create-edit")},totalRecords:null===P||void 0===P?void 0:P.total}),!L&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{className:"d-flex align-items-center justify-content-between w-100",children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:I,value:"",currentValue:v.active,dataLength:null===P||void 0===P||null===(e=P.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(E.jsx)(R,{onFilterChange:I,value:"1",currentValue:v.active,dataLength:null===P||void 0===P||null===(t=P.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(E.jsx)(R,{onFilterChange:I,value:"0",currentValue:v.active,dataLength:null===P||void 0===P||null===(a=P.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:L?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!H&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsx)(m.a,{className:"select-filter d-flex"})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===P||void 0===P?void 0:P.data,columns:M,setSelectedRows:x,filter:v,onFilterChange:I,isDataLoading:D,isDraggable:S,updateOrder:Vt})]}),!H&&(null===P||void 0===P||null===(s=P.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===P||void 0===P?void 0:P.current_page,lastPage:null===P||void 0===P?void 0:P.last_page,setPage:I,hasNextPage:!!(null===P||void 0===P?void 0:P.next_page_url),hasPrevPage:!!(null===P||void 0===P?void 0:P.prev_page_url)}):null," "]})})}),b.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){A(b.map((function(e){return e.id})))},children:V?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Et="categories",Rt=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Et,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Et),t,{headers:{"Content-Type":"application/json"}})},Mt=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:Et}),n=s.data,i=s.isLoading,r=Object(N.a)(Rt,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Et)}),500),e.replace("/categories"),a)return De("Category  updated successfully");De("Categoryj  created successfully")},onError:function(t){z(t,e)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Categories"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{},onSubmit:function(e){var t=new FormData;t.append("name",e.name),t.append("url",e.url),t.append("order",e.order),t.append("is_active",e.is_active),e.logo&&"string"!==typeof e.logo&&t.append("logo",e.logo),l({formdata:t,id:a})},children:function(e){e.setFieldValue;return Object(E.jsxs)(Re.b,{className:"w-100",children:[Object(E.jsxs)("div",{className:"form-container py-2",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(E.jsx)(Ge,{name:"order",placeholder:"order",label:"order",required:!0}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},Yt="cities",qt=function(e){return k.post("".concat(Yt,"/delete"),{id:e})},Ut={q:"",page:1,perPage:25},Bt=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(Ut),b=Object(r.a)(u,2),x=b[0],m=b[1],h=Object(g.a)([Yt,,x],{onError:function(e){z(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,_=Object(N.a)(qt,{onSuccess:function(){Pe.invalidateQueries(Yt),De("Cities deleted successfully")},onError:function(e){z(e,t)}}),S=_.mutate,F=_.isLoading,k=function(e,t){m((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"State",accessor:"state"},{Header:"Lat",accessor:"lat"},{Header:"Lng",accessor:"lng"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var a;a=e.row.values.id,t.push("/cities/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Serviceable Cities",onClick:function(){t.push("/cities/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!w&&Object(E.jsx)(Se,{data:null===f||void 0===f?void 0:f.data,columns:P,setSelectedRows:i,filter:x,onFilterChange:k,isDataLoading:y}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(E.jsx)(ee,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:k,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})}),n.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){S(n.map((function(e){return e.id})))},children:F?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Qt=["logo"],Wt="cities",Gt=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Wt,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Wt),t,{headers:{"Content-Type":"multipart/form-data"}})},Kt=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:Wt}),n=s.data,i=s.isLoading,r=Object(N.a)(Gt,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Wt)}),500),t.replace("/cities"),a)return De("City updated successfully");De("City created successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading,j=a?"Update City":"Add City",u=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:j}),Object(E.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:u||{},onSubmit:function(e){var t=e.logo,c=Object(te.a)(e,Qt),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("logo",t),l({formdata:s,id:a})},children:function(e){e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{name:"state",placeholder:"State",label:"State",required:!0}),Object(E.jsx)(Ge,{name:"lat",placeholder:"Latitude",label:"Latitude",required:!0}),Object(E.jsx)(Ge,{name:"lng",placeholder:"Longitude",label:"Longitude",required:!0})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},Jt="coupons",Xt=function(e){return k.post("".concat(Jt,"/delete"),{id:e})},$t={q:"",page:null,perPage:25,active:"",condition_type:""},Zt=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],x=u[1];console.log(b.map((function(e){return e.id})));var f=Object(c.useState)($t),v=Object(r.a)(f,2),y=v[0],w=v[1];console.log({filter:y});var _=Object(g.a)([Jt,,y],{onError:function(e){z(e,n)}}),S=_.data,F=_.isLoading,k=_.isFetching,P=_.error,L=Object(N.a)(Xt,{onSuccess:function(){Pe.invalidateQueries(Jt),De("Coupons deleted successfully")},onError:function(e){z(e,n)}}),D=L.mutate,H=L.isLoading,T=function(e,t){w((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},A=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Coupon Code",accessor:"coupon_code"},{Header:"Condition",accessor:"condition"},{Header:"Conditioin Type",accessor:"condition_type"},{Header:"Valid From",accessor:"valid_from",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.valid_from})}},{Header:"Valid To",accessor:"valid_to",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.valid_to})}},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/coupons/create-edit",{id:t})}})}}]}),[]);return S||F&&k?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Coupons",onClick:function(){n.push("/coupons/create-edit")},totalRecords:null===S||void 0===S?void 0:S.total}),!F&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:T,value:"",currentValue:y.active,dataLength:null===S||void 0===S||null===(e=S.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(E.jsx)(R,{onFilterChange:T,value:"1",currentValue:y.active,dataLength:null===S||void 0===S||null===(t=S.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(E.jsx)(R,{onFilterChange:T,value:"0",currentValue:y.active,dataLength:null===S||void 0===S||null===(a=S.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:F?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!P&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:y.condition_type,data:ue,label:"Condition Type",idx:"condition_type",onFilterChange:T})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{variant:jt($t,y)?"light":"primary",style:{fontSize:14},onClick:function(){return w($t)},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===S||void 0===S?void 0:S.data,columns:A,setSelectedRows:x,filter:y,onFilterChange:T,isDataLoading:k})]}),!P&&(null===S||void 0===S||null===(s=S.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:T,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})}),b.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){D(b.map((function(e){return e.id})))},children:H?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ea=a(166),ta=a.n(ea),aa=["name","label","setFieldValue"],ca=function(e){var t=e.name,a=e.label,s=e.setFieldValue,n=Object(te.a)(e,aa),i=Object(Re.d)(Object(j.a)({name:t},n)),d=Object(r.a)(i,1)[0],o=Object(c.useState)(ta.a.createEditorState(d.value)),u=Object(r.a)(o,2),b=u[0],x=u[1];return Object(E.jsxs)(l.a,{fluid:!0,className:"p-0",style:{height:"400px",zIndex:-1},children:[Object(E.jsx)("span",{className:"text-black ",style:{fontWeight:500},children:a}),Object(E.jsx)("div",{className:"mx-auto",children:Object(E.jsx)(ta.a,{value:b,onChange:function(e){s(t,e.toHTML()),x(e)},language:"en",style:{height:"100%",zIndex:0}})})]})},sa="coupons",na=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(sa,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):k.post("".concat(sa),t,{headers:{"Content-Type":"applicatioin/json"}})},ia=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:sa}),n=s.data,i=s.isLoading,r=Object(N.a)(na,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(sa)}),500),e.replace("/coupons"),a)return De("Brand updated successfully");De("Brands created successfully")},onError:function(t){z(t,e)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return console.log("apiData",j),i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Coupons"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{valid_to:Y()().format("YYYY-MM-DD hh:mm:ss"),valid_from:Y()().format("YYYY-MM-DD hh:mm:ss")},onSubmit:function(e){l({formdata:e,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(E.jsx)(Ge,{name:"coupon_code",placeholder:"Coupon Code",label:"Coupon Code",required:!0}),Object(E.jsx)(Ge,{type:"number",name:"condition",placeholder:"Condition",label:"Condition",required:!0}),Object(E.jsx)(Qe,{name:"valid_from",label:"Valid From",setFieldValue:t}),Object(E.jsx)(Qe,{name:"valid_to",label:"Valid To",setFieldValue:t}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(E.jsx)(Ge,{as:"select",selectData:ue,name:"condition_type",label:"Condition Type",placeholder:"Condition Type"})]}),Object(E.jsx)(ca,{name:"description",label:"Description",setFieldValue:t}),Object(E.jsx)(ca,{name:"terms",label:"Terms",setFieldValue:t}),Object(E.jsx)(m.a,{className:"d-flex justify-content-center",children:Object(E.jsx)(h.a,{md:"6",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},ra=a(445),la=(a(673),a(232)),da=a(891),oa=a(892),ja=a(161),ua=a(162),ba=a(195),xa=a(193),ma=a(457),ha=(a(896),a(459),a(897),a(468),function(e){var t=e.data,a=e.xAxisDataKey,c=e.dataKey;return Object(E.jsx)(da.a,{children:Object(E.jsxs)(oa.a,{width:"100%",height:300,data:t,margin:{top:10,right:30,left:0,bottom:0},children:[Object(E.jsx)(ja.a,{dataKey:a,tickLine:!1,padding:{left:20,right:20}}),Object(E.jsx)(ua.a,{tickLine:!1,axisLine:!1}),Object(E.jsx)(ba.a,{}),Object(E.jsx)(xa.a,{}),Object(E.jsx)(ma.a,{type:"monotone",dataKey:c,stroke:C,activeDot:{r:8}})]})})}),Oa=function(e,t){return 0===e&&0===t?0:(100*(e/(t+e))).toFixed(1)},pa={datefrom:Y()().startOf("month").format("YYYY-MM-DD"),dateto:Y()().endOf("month").format("YYYY-MM-DD"),duration:"month"},fa=function(){var e=Object(d.g)(),t=Object(c.useState)(pa),a=Object(r.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(null),u=Object(r.a)(i,2),b=u[0],x=u[1],m=Object(g.a)(["analytics",,s],{onError:function(t){z(t,e)}}),h=m.data,O=m.isLoading,f=m.isFetching,v=Object(g.a)(["bookingAnalytics",,s],{onError:function(t){z(t,e)}}),N=v.data,y=v.isLoading,w=function(e,t){n((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))};return O?Object(E.jsx)(X,{}):h||O&&f?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(E.jsx)("div",{className:"card",children:Object(E.jsx)("div",{className:"card-content",children:Object(E.jsxs)(l.a,{fluid:!0,className:"d-flex align-items-center justify-content-start",children:[Object(E.jsx)("div",{children:Object(E.jsx)(la.a,{color:C,size:24,className:"mr-3"})}),Object(E.jsx)(ra.DateRangePicker,{startDate:Y()(s.datefrom),startDateId:"start_date",endDate:Y()(s.dateto),endDateId:"end_date",isOutsideRange:function(){return!1},keepOpenOnDateSelect:!0,onDatesChange:function(e){var t=e.startDate,a=e.endDate;t&&w("datefrom",t.format("YYYY-MM-DD")),a&&w("dateto",a.format("YYYY-MM-DD"))},focusedInput:b,onFocusChange:function(e){return x(e)}}),Object(E.jsxs)(Q.a.Control,{as:"select",custom:!0,onChange:function(e){w("duration",e.target.value)},className:"bg-transparent m-0 ml-4",style:{width:"100px",height:"44px"},value:s.duration,children:[Object(E.jsx)("option",{value:"year",children:"Year"}),Object(E.jsx)("option",{value:"month",children:"Month"}),Object(E.jsx)("option",{value:"week",children:"Week"}),Object(E.jsx)("option",{value:"day",children:"Daily"})]})]})})}),Object(E.jsx)(l.a,{children:Object(E.jsx)("h1",{children:f?Object(E.jsx)("h3",{className:"text-muted text-center",children:"Fetching data...."}):null})}),Object(E.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(E.jsxs)("div",{className:"d-flex justify-content-between my-3",children:[Object(E.jsx)("div",{className:"card hoverable stats-card d-flex w-100 mr-3",children:Object(E.jsxs)("div",{className:"card-content",children:[Object(E.jsx)("div",{className:"lead",children:"Customers"}),Object(E.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(E.jsx)("h1",{className:"text-black font-weight-bold",children:(null===h||void 0===h?void 0:h.customer)+(null===h||void 0===h?void 0:h.customerprev)})}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(E.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(E.jsx)(U.d,{size:13}),Object(E.jsxs)("strong",{children:[Oa(h.customer,h.customerprev),"%"]})]}),Object(E.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})}),Object(E.jsx)("div",{className:"card hoverable stats-card d-flex w-100 mr-3 ml-3",children:Object(E.jsxs)("div",{className:"card-content",children:[Object(E.jsx)("div",{className:"lead",children:"Orders"}),Object(E.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(E.jsx)("h1",{className:"text-black font-weight-bold",children:(null===h||void 0===h?void 0:h.order)+(null===h||void 0===h?void 0:h.orderprev)})}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(E.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(E.jsx)(U.d,{size:13}),Object(E.jsxs)("strong",{children:[Oa(null===h||void 0===h?void 0:h.order,null===h||void 0===h?void 0:h.orderprev),"%"]})]}),Object(E.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})}),Object(E.jsx)("div",{className:"card hoverable stats-card d-flex w-100 mr-3 ml-3",children:Object(E.jsxs)("div",{className:"card-content",children:[Object(E.jsx)("div",{className:"lead",children:"Active Subscriptions"}),Object(E.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(E.jsx)("h1",{className:"text-black font-weight-bold",children:(null===h||void 0===h?void 0:h.subscription)+(null===h||void 0===h?void 0:h.subscriptionprev)})}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(E.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(E.jsx)(U.d,{size:13}),Object(E.jsxs)("strong",{children:[Oa(null===h||void 0===h?void 0:h.subscription,null===h||void 0===h?void 0:h.subscriptionprev),"%"]})]}),Object(E.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})}),Object(E.jsx)("div",{className:"card hoverable stats-card d-flex w-100 ml-3",children:Object(E.jsxs)("div",{className:"card-content",children:[Object(E.jsx)("div",{className:"lead",children:"Agents"}),Object(E.jsx)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:Object(E.jsx)("h1",{className:"text-black font-weight-bold",children:(null===h||void 0===h?void 0:h.agent)+(null===h||void 0===h?void 0:h.agentprev)})}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(E.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(E.jsx)(U.d,{size:13}),Object(E.jsxs)("strong",{children:[Oa(null===h||void 0===h?void 0:h.agent,null===h||void 0===h?void 0:h.agentprev),"%"]})]}),Object(E.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})})]})}),Object(E.jsxs)("div",{className:"dashboard-page w-100 mt-4",children:[Object(E.jsxs)(l.a,{fluid:!0,className:"status-container mt-0 pl-2 pr-0",children:[Object(E.jsxs)("div",{className:"card hoverable stats-card d-flex w-100",children:[Object(E.jsx)("div",{className:"card-header",children:Object(E.jsx)("p",{className:"text-black",children:"Reports overview"})}),Object(E.jsx)("div",{className:"card-content",children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsx)("tbody",{children:(null===h||void 0===h?void 0:h.data_total)&&Object.entries(null===h||void 0===h?void 0:h.data_total).map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:" m-0",children:e[0].toUpperCase()})}),Object(E.jsx)("td",{className:"text-left",style:{width:"30px"},children:Object(E.jsx)("p",{className:"view-subheading m-0",children:Object(E.jsx)("b",{children:e[1]})})})]})}))})})})]}),Object(E.jsxs)("div",{className:"card hoverable stats-card d-flex w-100 mt-3",children:[Object(E.jsx)("div",{className:"card-header",children:Object(E.jsx)("p",{className:"text-black",children:"Platform Data Overview"})}),Object(E.jsxs)("div",{className:"card-content",children:[Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 pb-2",children:[Object(E.jsx)("span",{className:"text-grey",children:"Brands"}),Object(E.jsx)("span",{className:"text-grey",children:"10"})]}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 pt-2 pb-2",children:[Object(E.jsx)("span",{className:"text-grey",children:"Brand Models"}),Object(E.jsx)("span",{className:"text-grey",children:"6"})]}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 pt-2 pb-2",children:[Object(E.jsx)("span",{className:"text-grey",children:"Categories"}),Object(E.jsx)("span",{className:"text-grey",children:"12"})]}),Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100 pt-2 pb-2",children:[Object(E.jsx)("span",{className:"text-grey",children:"Services"}),Object(E.jsx)("span",{className:"text-grey",children:"12"})]})]})]})]}),Object(E.jsx)(l.a,{fluid:!0,className:"charts-container mt-0 pl-0 pr-2",children:Object(E.jsx)("div",{className:"charts-row",children:Object(E.jsxs)("div",{className:"card",children:[Object(E.jsx)("div",{className:"card-header pb-3 d-flex justify-content-between align-items-center",children:Object(E.jsx)("h5",{className:"mb-0",children:Object(E.jsx)("strong",{children:"Bookings"})})}),Object(E.jsx)("div",{className:"card-content chart-container",children:y?Object(E.jsx)(X,{}):Object(E.jsx)(ha,{data:null===N||void 0===N?void 0:N.booking,xAxisDataKey:"date",dataKey:"order"})})]})})})]})]})}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},va="faqs",ga=function(e){return k.post("".concat(va,"/delete"),{id:e})},Na={q:"",page:1,perPage:25,active:""},ya=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],x=u[1],m=Object(c.useState)(Na),h=Object(r.a)(m,2),f=h[0],v=h[1];console.log(b.map((function(e){return e.id})));var y=Object(g.a)([va,,f],{onError:function(e){z(e,n)}}),w=y.data,_=y.isLoading,S=y.isFetching,F=y.error,k=Object(N.a)(ga,{onSuccess:function(){Pe.invalidateQueries(va),De("Faqs deleted successfully")},onError:function(e){z(e,n)}}),P=k.mutate,L=k.isLoading,D=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},H=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/faqs/create-edit",{id:t})}})}}]}),[]);return w||_&&S?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Faqs",onClick:function(){n.push("/faqs/create-edit")},totalRecords:null===w||void 0===w?void 0:w.total}),!_&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:D,value:"",currentValue:f.active,dataLength:null===w||void 0===w||null===(e=w.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(E.jsx)(R,{onFilterChange:D,value:"1",currentValue:f.active,dataLength:null===w||void 0===w||null===(t=w.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(E.jsx)(R,{onFilterChange:D,value:"0",currentValue:f.active,dataLength:null===w||void 0===w||null===(a=w.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:_?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!F&&Object(E.jsx)(Se,{data:null===w||void 0===w?void 0:w.data,columns:H,setSelectedRows:x,filter:f,onFilterChange:D,isDataLoading:S}),!F&&(null===w||void 0===w||null===(s=w.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===w||void 0===w?void 0:w.current_page,lastPage:null===w||void 0===w?void 0:w.last_page,setPage:D,hasNextPage:!!(null===w||void 0===w?void 0:w.next_page_url),hasPrevPage:!!(null===w||void 0===w?void 0:w.prev_page_url)}):null," "]})})}),b.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){P(b.map((function(e){return e.id})))},children:L?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},wa="faqs",Ca=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(wa,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(wa),t,{headers:{"Content-Type":"multipart/form-data"}})},_a=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:wa}),n=s.data,i=s.isLoading,r=Object(N.a)(Ca,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(wa)}),500),t.replace("/faqs"),a)return De("Faq updated successfully");De("Faq created successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading,j=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Faqs"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{is_active:1},onSubmit:function(e){var t=new FormData;t.append("title",e.title),t.append("description",e.description),t.append("is_active",e.is_active),l({formdata:t,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container ",children:[Object(E.jsx)(Ge,{name:"title",placeholder:"title",label:"Title",required:!0}),Object(E.jsx)(Ge,{name:"is_active",placeholder:"Is Active?",label:"Is Active?",as:"select",selectData:je})]}),Object(E.jsx)(m.a,{children:Object(E.jsx)(h.a,{md:12,xl:12,children:Object(E.jsx)(ca,{name:"description",label:"Description",setFieldValue:t})})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},Sa={q:"",page:null,perPage:25,status:"active",user_id:"",related_to:"",created_at:""},Fa=function(){var e,t,a=Object(d.g)(),s=Object(c.useState)([]),n=Object(r.a)(s,2),i=n[0],u=n[1],b=Object(c.useState)(Sa),x=Object(r.a)(b,2),f=x[0],v=x[1],N=Object(g.a)(["tickets",,f],{onError:function(e){I(e.response.data.message)}}),y=N.data,w=N.isLoading,_=N.isFetching,S=N.error,F=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){z(e,a)}}),k=F.data,P=F.isLoading,L=function(e){var t=e.status;return Object(E.jsx)(G,{variant:"closed"===t?"danger":"success",title:t})},D=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},H=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Reference Id",accessor:"ref_id"},{Header:"Related to",accessor:"related_to"},{Header:"Issue Status",accessor:"status",Cell:function(e){return Object(E.jsx)(L,{status:e.row.values.status})}},{Header:"Raised by",accessor:"user.name",Cell:function(e){return e.row.original.user_id?Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.user_id)&&a.push("/users/create-edit",{id:t})},children:e.row.values["user.name"]}):"NA"}},{Header:"Order Id",accessor:"order.ref_id",Cell:function(e){return e.row.original.order_id?Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.order_id)&&a.push("/orders/".concat(t))},children:e.row.values["order.ref_id"]}):"NA"}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)("div",{className:"d-flex",children:Object(E.jsx)(O.a,{onClick:function(){return a.push("/issues/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return y||w&&_?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Issues",totalRecords:50}),!w&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:D,value:"active",currentValue:f.status,dataLength:null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.length,idx:"status",title:"Active"}),Object(E.jsx)(R,{onFilterChange:D,value:"closed",currentValue:f.status,dataLength:null===y||void 0===y||null===(t=y.data)||void 0===t?void 0:t.length,idx:"status",title:"Closed"})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:w?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!S&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-2",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:f.user_id,data:!P&&k.data,label:"Customer",idx:"user_id",onFilterChange:D})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:f.related_to,data:Oe,label:"Related to",idx:"related_to",onFilterChange:D})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{className:"text-muted",children:"Raised At"}),Object(E.jsx)(Q.a.Control,{type:"date",value:f.created_at,onChange:function(e){var t=Y()(e.target.value).format("YYYY-MM-DD");D("created_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{onClick:function(){v(Sa)},variant:jt(Sa,f)?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(E.jsx)(Se,{data:null===y||void 0===y?void 0:y.data,columns:H,setSelectedRows:u,filter:f,onFilterChange:D,isDataLoading:_,isSelectable:!1})]}),!S&&y.length>0?Object(E.jsx)(ee,{currentPage:null===y||void 0===y?void 0:y.current_page,lastPage:null===y||void 0===y?void 0:y.last_page,setPage:D,hasNextPage:!!(null===y||void 0===y?void 0:y.next_page_url),hasPrevPage:!!(null===y||void 0===y?void 0:y.prev_page_url)}):null," "]})})}),i.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",i.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",children:"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ka="tickets",Pa=function(e){var t=e.formdata;return k.post("".concat(ka,"/create"),t,{headers:{"Content-Type":"application/json"}})},La=function(){var e=Object(d.h)().state;console.log({state:e});var t=Object(d.g)();Object(c.useEffect)((function(){Ee.a.init()}),[]);var a=Object(N.a)(Pa,{onSuccess:function(){setTimeout((function(){return Pe.invalidateQueries(ka)}),500),t.replace("/issues"),De("Issue created successfully")},onError:function(e){z(e,t)}}),s=a.mutate,n=a.isLoading;return e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Create issue for order #".concat(null===e||void 0===e?void 0:e.order_id)}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:e,onSubmit:function(e){s({formdata:e})},children:function(e){e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(E.jsx)(Ge,{as:"select",selectData:ve,name:"status",label:"Status",placeholder:"Choose Status"}),Object(E.jsx)(Ge,{name:"related_to",label:"Related To",placeholder:"Related To?",selectData:Oe,as:"select"})]}),Object(E.jsx)(m.a,{children:Object(E.jsx)(h.a,{md:6,children:Object(E.jsx)(Ge,{name:"description",label:"Description",placeholder:"Description",as:"textarea"})})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:n,className:"w-100",children:n?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]}):Object(E.jsx)("h1",{children:"Order Id is required"})},Da=(a(283),a(84)),Ha=Object(L.combine)({user:null},(function(e){return{setUser:function(t){return e((function(e){return{user:t}}))},removeUser:function(){return e((function(e){return{user:null}}))}}}));Ha=Object(L.persist)(Ha,{name:"user"});var Ta=Object(P.a)(Ha),Aa="tickets",Va=function(e){var t=e.id,a=e.message;return k.post("".concat(Aa,"/").concat(t,"/message"),{message:a},{headers:{"Content-Type":"application/json"}})},Ia=function(e){var t=e.initialMessages,a=e.id,c=Object(d.g)(),n=Ta((function(e){return e.user})),i=s.a.useRef(null);console.log({messagesRefs:i});var o=s.a.useState(t),j=Object(r.a)(o,2),u=j[0],b=(j[1],Object(N.a)(Va,{onSuccess:function(e){setTimeout((function(){Pe.invalidateQueries(Aa)}),500)},onError:function(e){z(e,c)}})),x=b.mutate,m=(b.isLoading,s.a.useRef()),h=function(e){return n.id===e};return Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"card d-flex flex-column justify-content-between ",style:{minHeight:"75vh",backgroundColor:"#7598ce2b"},children:[Object(E.jsxs)(l.a,{fluid:!0,className:"messages-container p-0 py-2 hide-scroll",style:{maxHeight:"70vh",overflow:"auto"},children:[0===u.length&&Object(E.jsx)("p",{className:"text-center text-muted",children:"Send Message to start a conversation"}),null===u||void 0===u?void 0:u.map((function(e,t){var a;return Object(E.jsx)("div",{ref:u.current[t],className:"message w-100",style:{position:"relative",marginBottom:6},children:Object(E.jsxs)("div",{className:"d-flex",style:{display:"flex",minWidth:"50%",flexDirection:h(e.user_id)?"row-reverse":"row"},children:[Object(E.jsx)("div",{className:"user-image mx-1",style:{flex:0},children:Object(E.jsx)("div",{className:"d-flex align-items-center justify-content-center text-black ",style:{height:30,width:30,borderRadius:"50%",backgroundColor:h(e.user_id)?"#7bbfff":"#ffd76a"},children:(null===e||void 0===e||null===(a=e.user)||void 0===a?void 0:a.name.slice(0,1).toUpperCase())||"A"})}),Object(E.jsxs)("div",{className:"message-details d-flex flex-column",children:[Object(E.jsx)("p",{style:{backgroundColor:h(e.user_id)?C:"#fff",color:h(e.user_id)?"white":"black",boxShadow:h(e.user_id)?"":"4px 0 20px rgba(0,0,0,.12",maxWidth:"300px",minHeight:20},className:"p-1 rounded m-0",children:e.message}),Object(E.jsx)("span",{className:"small text-muted ",style:{fontSize:12,alignSelf:h(e.user_id)&&"flex-end"},children:Y()(e.created_at).fromNow()})]})]})})})),Object(E.jsx)("div",{ref:m,className:"dummy-div "})]}),Object(E.jsx)(l.a,{fluid:!0,className:"send-message-form mb-1",children:Object(E.jsx)("div",{className:"bg-light rounded p-1",children:Object(E.jsx)(Re.c,{initialValues:{text:""},onSubmit:function(e,t){var c=e.text,s=t.resetForm;x({id:a,message:c}),s()},children:function(e){var t=e.handleChange,a=e.values;return Object(E.jsx)(Re.b,{children:Object(E.jsxs)("div",{className:"input-group d-flex align-items-center",children:[Object(E.jsx)("input",{type:"text",name:"text",id:"text",value:a.text,placeholder:"Type Message ...",className:"form-control shadow-none",style:{border:"none",outline:"none"},required:!0,onChange:t}),Object(E.jsx)("button",{type:"submit",children:Object(E.jsx)(Da.g,{color:C,size:24})})]})})}})})})]})})},za="tickets",Ea=function(e){var t=e.formdata,a=e.id;return k.post("".concat(za,"/").concat(a,"/update-status"),t,{headers:{"Content-Type":"application/json"}})},Ra=function(){var e,t,a=Object(d.i)().id,s=Object(d.g)(),n=qe({id:a,key:za}),i=n.data,u=n.isLoading,b=n.isFetching,x=Object(N.a)(Ea,{onSuccess:function(e){De("Status changed successfully"),setTimeout((function(){Pe.invalidateQueries(za),Pe.invalidateQueries("".concat(za,"/").concat(a))}),500)}}),f=x.mutate,v=(x.isLoading,Object(c.useState)({status:null===i||void 0===i?void 0:i.status})),g=Object(r.a)(v,2),y=(g[0],g[1]),w=function(e){e&&s.push("/users/create-edit",{id:e})};return u||b?Object(E.jsx)(X,{}):i||u&&b?Object(E.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(E.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)("h2",{className:"font-weight-bold",children:"Issue"}),Object(E.jsxs)("h2",{className:"ml-2",children:["#",null===i||void 0===i?void 0:i.id]})]}),Object(E.jsx)("div",{children:Object(E.jsx)(O.a,{className:"ml-2",onClick:function(){return s.goBack()},children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(p.a,{size:25})," ",Object(E.jsx)("b",{children:"Back"})]})})})]}),Object(E.jsxs)("div",{className:"dashboard-page w-100",children:[Object(E.jsxs)(l.a,{fluid:!0,className:"status-container mt-2",children:[Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return w(null===i||void 0===i?void 0:i.user_id)},children:"Update Issue status"})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(E.jsx)(m.a,{children:Object(E.jsxs)(h.a,{md:"auto",children:[Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(Q.a.Control,{as:"select",value:null===i||void 0===i?void 0:i.status,onChange:function(e){var t,c;t="status",c=e.target.value,y((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t,c))})),f({formdata:{status:e.target.value},id:a})},style:{width:"200px",fontSize:14},children:ve.map((function(e){if(""!==e.id)return Object(E.jsx)("option",{value:e.id,children:e.name})}))})}),Object(E.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted"})]})})})]})}),Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return w(null===i||void 0===i?void 0:i.user_id)},children:"Issue Info"})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(E.jsx)(m.a,{children:Object(E.jsxs)(h.a,{md:"auto",className:"w-100",children:[Object(E.jsx)("p",{className:"font-weight-bold mb-1",children:null===i||void 0===i?void 0:i.title}),Object(E.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted",children:null===i||void 0===i?void 0:i.description}),Object(E.jsx)("table",{className:"w-100 ",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Order"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading text-primary",style:{cursor:"pointer"},onClick:function(){return function(e){e&&s.push("/orders/".concat(e))}(null===i||void 0===i?void 0:i.order_id)},children:i.order_id||"NA"})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Related To"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:null===i||void 0===i?void 0:i.related_to})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Updated At"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:Y()(null===i||void 0===i?void 0:i.updated_at).format("YYYY-MM-DD")})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Created At"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:Y()(null===i||void 0===i?void 0:i.created_at).format("YYYY-MM-DD")})})]})]})})]})})})]})}),Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",children:"Customer"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Name"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:null===i||void 0===i?void 0:i.user.name})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Email"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("a",{href:"mailto:".concat(null===i||void 0===i?void 0:i.user.email),children:Object(E.jsx)("p",{className:"view-subheading text-primary",children:null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.email})})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:null===i||void 0===i||null===(t=i.user)||void 0===t?void 0:t.phone})})]})]})}),Object(E.jsx)("span",{className:"small text-primary font-weight-bold",style:{cursor:"pointer"},onClick:function(){return w(null===i||void 0===i?void 0:i.user_id)},children:"View Profile"})]}),Object(E.jsx)("hr",{className:"mb-3 mt-3"})]})})]}),Object(E.jsx)(l.a,{fluid:!0,className:"charts-container",children:Object(E.jsx)(Ia,{initialMessages:null===i||void 0===i?void 0:i.messages,id:a})})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ma=a(109),Ya=Ma.a().shape({phone:Ma.b().matches(/^[6-9]\d{9}$/,"Phone number is not valid").required("Phone number required")}),qa=function(e){return k.post("auth/send-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},Ua=function(e){var t=Object(d.g)(),a=Object(N.a)(qa,{onSuccess:function(e){console.log("send-otp",e.data),t.push("/verify-otp/",{phone:e.data.user.phone,otp:e.data.user.otp})},onError:function(e){z(e,t)}}),c=a.mutate,s=(a.data,a.isLoading);return Object(E.jsx)(l.a,{fluid:!0,className:"login-page",children:Object(E.jsx)(Re.c,{initialValues:{phone:""},onSubmit:function(e){var t=new FormData;t.append("phone",e.phone),c(t)},validationSchema:Ya,children:function(e){var t=e.errors;return Object(E.jsx)(Re.b,{children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-between px-3 py-3",style:{width:"450px"},children:[Object(E.jsx)("h1",{className:"text-black",children:Object(E.jsx)("b",{children:"Sign In"})}),Object(E.jsx)("p",{className:"text-muted",children:"OTP will be send to your number."}),Object(E.jsx)("br",{}),Object(E.jsx)(Ge,{name:"phone",placeholder:"Enter your phone number",label:"Phone number",type:"text",error:t.phone}),Object(E.jsx)(O.a,{variant:"primary",type:"submit",className:"full-width my-2",children:s?Object(E.jsx)(J.a,{animation:"border",variant:"secondary",size:"sm"}):Object(E.jsx)("div",{className:"text-white",children:Object(E.jsx)("b",{children:"Submit"})})})]})})}})})},Ba=a(127),Qa=a(465),Wa=a(463),Ga=Object(c.createContext)(!1),Ka=a.p+"static/media/logo.e8dbbb1a.svg",Ja=function(){return Object(E.jsx)("div",{className:"d-flex justify-content-start",children:Object(E.jsx)("div",{className:"logo text-left ml-4",children:Object(E.jsx)("img",{src:Ka,alt:"logo"})})})},Xa=a(20),$a=function(e){var t=e.title,a=e.path,c=e.onClick,s=e.icon,n=Object(d.h)().pathname;return Object(E.jsx)(Xa.b,{to:a,children:Object(E.jsxs)("li",{className:n.includes(a)?"navLink active":"navLink my-1",onClick:c,children:[s&&s," ",t]})})},Za=function(e){var t=e.onClick;return Object(E.jsx)("div",{className:"overlay",onClick:t||function(){}})},ec=a(464),tc=[{title:"Brands",path:"/brands",icon:Object(E.jsx)(Wa.a,{})},{title:"Brand Models",path:"/brand-models",icon:Object(E.jsx)(de.a,{})},{title:"Categories",path:"/categories",icon:Object(E.jsx)(Ba.c,{})},{title:"Users",path:"/users",icon:Object(E.jsx)(ec.a,{})},{title:"Admins",path:"/admin",icon:Object(E.jsx)(Da.a,{})},{title:"Services",path:"/services",icon:Object(E.jsx)(Da.h,{})},{title:"Faqs",path:"/faqs",icon:Object(E.jsx)(Ba.e,{})},{title:"Plans",path:"/plans",icon:Object(E.jsx)(Ba.f,{})},{title:"Coupons",path:"/coupons",icon:Object(E.jsx)(Da.c,{})},{title:"Banners",path:"/advertisements",icon:Object(E.jsx)(Da.b,{})},{title:"Roles",path:"/roles",icon:Object(E.jsx)(Ba.g,{})},{title:"Booking Slots",path:"/booking-slots",icon:Object(E.jsx)(la.b,{})},{title:"Cities",path:"/cities",icon:Object(E.jsx)(Qa.a,{})},{title:"Testimonials",path:"/testimonials",icon:Object(E.jsx)(U.b,{})},{title:"Static Pages",path:"/static-pages",icon:Object(E.jsx)(Da.f,{})}],ac=[{title:"Orders",path:"/orders",icon:Object(E.jsx)(Ba.b,{})},{title:"Cart",path:"/cart",icon:Object(E.jsx)(re.b,{})},{title:"Subscriptions",path:"/subscriptions",icon:Object(E.jsx)(Ba.a,{})},{title:"Transactions",path:"/transactions",icon:Object(E.jsx)(Ba.d,{})},{title:"Issues",path:"/issues",icon:Object(E.jsx)(le.a,{})},{title:"Notifications",path:"/push-notifications",icon:Object(E.jsx)(Da.e,{})}],cc=function(e){var t=e.isNavOpen,a=e.setIsNavOpen,s=Object(c.useContext)(Ga),n=function(){a&&a(!1)};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("nav",{className:t?"active":"",children:[s?Object(E.jsx)(Ja,{}):null,Object(E.jsxs)("div",{className:"all-links",children:[Object(E.jsx)("ul",{className:"pt-4",children:Object(E.jsx)($a,{title:"Dashboard",path:"/dashboard",onClick:n,icon:Object(E.jsx)(Da.d,{})})}),Object(E.jsx)("p",{className:"text-muted mb-2",children:"Main"}),Object(E.jsx)("ul",{children:ac.map((function(e){var t=e.title,a=e.path,c=e.icon;return Object(E.jsx)($a,{path:a,title:t,onClick:n,icon:c},t)}))}),Object(E.jsx)("p",{className:"text-muted mb-2",children:"Manage"}),Object(E.jsx)("ul",{children:tc.map((function(e){var t=e.title,a=e.path,c=e.icon;return Object(E.jsx)($a,{path:a,title:t,onClick:n,icon:c},t)}))})]})]}),t&&Object(E.jsx)(Za,{onClick:n})]})},sc="fcm-notification",nc={q:"",page:null,perPage:25,sent:"",sent_to:"",scheduled_at:""},ic=function(e){return k.post("".concat(sc,"/delete"),{id:e})},rc=function(){var e,t,a,s=Object(d.g)(),n=Object(c.useState)([]),i=Object(r.a)(n,2),u=i[0],b=i[1],x=Object(c.useState)(nc),f=Object(r.a)(x,2),v=f[0],y=f[1],w=Object(g.a)([sc,,v],{onError:function(e){z(e,s)}}),_=w.data,S=w.isLoading,F=w.isFetching,k=w.error,P=Object(N.a)(ic,{onSuccess:function(){Pe.invalidateQueries(sc),De("Notifications deleted successfully")},onError:function(e){z(e,s)}}),L=P.mutate,D=P.isLoading,H=function(e,t){y((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},T=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Sent ?",accessor:"sent",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.sent})}},{Header:"Scheduled At",accessor:"scheduled_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.scheduled_at})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,s.push("/push-notifications/create-edit",{id:t})}})}}]}),[]);return _||S&&F?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Notifications",onClick:function(){s.push("/push-notifications/create-edit")},totalRecords:null===_||void 0===_?void 0:_.total}),!S&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:H,value:"",currentValue:v.sent,dataLength:null===_||void 0===_||null===(e=_.data)||void 0===e?void 0:e.length,idx:"sent",title:"All"}),Object(E.jsx)(R,{onFilterChange:H,value:"1",currentValue:v.sent,dataLength:null===_||void 0===_||null===(t=_.data)||void 0===t?void 0:t.length,idx:"sent",title:"Sent"}),Object(E.jsx)(R,{onFilterChange:H,value:"0",currentValue:v.sent,dataLength:null===_||void 0===_||null===(a=_.data)||void 0===a?void 0:a.length,idx:"sent",title:"Not Sent",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:S?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!k&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:v.sent_to,data:ge,label:"Sent To",idx:"sent_to",onFilterChange:H})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{className:"text-muted",children:"Scheduled At"}),Object(E.jsx)(Q.a.Control,{type:"date",value:v.scheduled_at,onChange:function(e){var t=Y()(e.target.value).format("YYYY-MM-DD");H("scheduled_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{variant:jt(nc,v)?"light":"primary",style:{fontSize:14},onClick:function(){return y(nc)},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===_||void 0===_?void 0:_.data,columns:T,setSelectedRows:b,filter:v,onFilterChange:H,isDataLoading:F})]}),!k&&_.length>0?Object(E.jsx)(ee,{currentPage:null===_||void 0===_?void 0:_.current_page,lastPage:null===_||void 0===_?void 0:_.last_page,setPage:H,hasNextPage:!!(null===_||void 0===_?void 0:_.next_page_url),hasPrevPage:!!(null===_||void 0===_?void 0:_.prev_page_url)}):null," "]})})}),u.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",u.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){L(u.map((function(e){return e.id})))},children:D?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},lc="fcm-notification",dc=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(lc,"/").concat(a),t):k.post("".concat(lc),t)},oc={q:"",role:"",page:null,perPage:25},jc=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null,s=Object(c.useState)((function(){return!!a})),n=Object(r.a)(s,2),i=n[0],l=n[1],u=Object(c.useState)([]),b=Object(r.a)(u,2),x=b[0],p=b[1],f=Object(c.useState)({}),v=Object(r.a)(f,2),y=v[0],w=v[1],_=Object(c.useState)(oc),S=Object(r.a)(_,2),F=S[0],k=S[1];Object(c.useEffect)((function(){Ee.a.init()}),[]);var P=qe({id:a,key:lc}),L=P.data,D=P.isLoading,H=Object(g.a)(["users",,F]),T=H.data,A=H.error,V=H.isLoading,I=H.isFetching,R=function(e,t){k((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},M=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Role",accessor:"role"},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.disabled})}}]}),[]),q=Object(N.a)(dc,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(lc)}),500),t.replace("/push-notifications"),a)return De("Notification updated successfully");De("Notification created successfully")},onError:function(e){z(e,t)}}),U=q.mutate,B=q.isLoading,Q=L,W=function(){return l(!0)},G=function(){return l(!1)};return D?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Notification"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:Q||{},onSubmit:function(e){var t=Object(j.a)(Object(j.a)({},e),{},{users:x.map((function(e){return e.id}))});(null===e||void 0===e?void 0:e.scheduled_at)||(t.scheduled_at=Y()().format("YYYY-MM-DD hh:mm:ss")),console.log({formdata:t}),U({formdata:t,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container ",children:[Object(E.jsx)(Ge,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(E.jsx)(Ge,{as:"select",selectData:ge,name:"send_to",label:"Send to ?",placeholder:"Choose user category"}),Object(E.jsx)(Ge,{name:"description",placeholder:"Description",label:"Description",as:"textarea",required:!0})]}),Object(E.jsxs)(m.a,{children:[Object(E.jsxs)(h.a,{md:12,xl:12,children:[Object(E.jsxs)("h4",{className:"font-weight-bold d-flex align-items-center ",children:[Object(E.jsx)(Da.i,{size:24})," ",Object(E.jsx)("span",{children:" Schedule"})]}),!a&&Object(E.jsxs)("div",{className:"navigation-tab mt-3",children:[Object(E.jsx)("button",{type:"button",className:i?"text-muted":"text-primary",style:{borderBottom:i?"":" 2px solid ".concat(C)},onClick:G,children:Object(E.jsx)("b",{children:"Now"})}),Object(E.jsx)("button",{type:"button",className:"".concat(i?"text-primary":"text-muted"," ml-2"),style:{borderBottom:i?" 2px solid ".concat(C):""},onClick:W,children:Object(E.jsx)("b",{children:"Schedule"})})]}),Object(E.jsx)("div",{className:"display-for-schedule mt-2",children:i?Object(E.jsx)("div",{style:{width:"200px"},children:Object(E.jsx)(Qe,{name:"scheduled_at",setFieldValue:t,label:"Data\\time"})}):Object(E.jsx)("div",{className:"py-3",children:Object(E.jsx)("p",{children:"Notification will be send now"})})})]}),Object(E.jsx)(h.a,{md:12,xl:12,children:!A&&!V&&T&&Object(E.jsx)(Se,{data:null===T||void 0===T?void 0:T.data,columns:M,setSelectedRows:p,filter:F,onFilterChange:R,isDataLoading:I,initialState:{selectedRowIds:y},setSelectedRowIds:w})})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:B,className:"w-100",children:B?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},uc={q:"",page:null,perPage:25,created_at:"",inside_cart:"0"},bc=function(){var e,t,a,s,n,i,u=Object(d.g)(),b=Object(c.useState)(1),x=Object(r.a)(b,2),f=(x[0],x[1],Object(c.useState)([])),v=Object(r.a)(f,2),N=(v[0],v[1]),y=Object(c.useState)(uc),w=Object(r.a)(y,2),_=w[0],S=w[1];console.log({localFilter:_});var F=Pt((function(e){return e.filter})),k=Pt((function(e){return e.onFilterChange})),P=Pt((function(e){return e.resetFilter})),L=Object(g.a)(["bookings",,Object(j.a)(Object(j.a)({},F),_)],{onError:function(e){z(e,u)}}),D=L.data,H=L.isLoading,T=L.isFetching,A=L.error,V=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){z(e,u)}}),I=V.data,M=V.isLoading,U=Object(g.a)(["users",1,{role:"agent"}],{onError:function(e){z(e,u)}}),B=U.data,K=U.isLoading,J=function(e){var t=e.status;return Object(E.jsx)(G,{variant:"cancelled"===t||"error_payment"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success",title:t})},Z=function(e){e&&u.push("/users/create-edit",{id:e})},te=function(e){e&&u.push("/orders/".concat(e))},ae=function(e,t){S((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},ce=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id",Cell:function(e){return Object(E.jsx)(Lt,{onClick:te,id:e.row.values.id,title:e.row.values.ref_id})}},{Header:"Customer",accessor:"user.name",Cell:function(e){return Object(E.jsx)(Lt,{onClick:Z,id:e.row.original.user_id,title:e.row.values["user.name"]})}},{Header:"Agent",accessor:"agent.name",Cell:function(e){return Object(E.jsx)(Lt,{onClick:Z,id:e.row.original.agent_id,title:e.row.values["agent.name"]})}},{Header:"Order Type",accessor:"order_type",Cell:function(e){return Object(E.jsx)(J,{status:e.row.values.order_type})}},{Header:"Order Status",accessor:"status",Cell:function(e){return Object(E.jsx)(J,{status:e.row.values.status})}},{Header:"Scheduled At",accessor:"scheduled_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.scheduled_at})}},{Header:"Paid Amount",accessor:"payable_amount"},{Header:"Rating",accessor:"rating"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return console.log({data:e}),Object(E.jsx)("div",{className:"d-flex",children:Object(E.jsx)(O.a,{onClick:function(){return u.push("/orders/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return D||H&&T?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Orders",totalRecords:null===D||void 0===D?void 0:D.total}),(!H||!T)&&Object(E.jsxs)("div",{className:"filter mb-4",children:[Object(E.jsx)(R,{onFilterChange:k,value:"",currentValue:F.status,dataLength:null===D||void 0===D||null===(e=D.data)||void 0===e?void 0:e.length,idx:"status",title:"All"}),Object(E.jsx)(R,{onFilterChange:k,value:"confirmed",currentValue:F.status,dataLength:null===D||void 0===D||null===(t=D.data)||void 0===t?void 0:t.length,idx:"status",title:"Confirmed"}),Object(E.jsx)(R,{onFilterChange:k,value:"pending_payment",currentValue:F.status,dataLength:null===D||void 0===D||null===(a=D.data)||void 0===a?void 0:a.length,idx:"status",title:"Pending Payment"}),Object(E.jsx)(R,{onFilterChange:k,value:"error_payment",currentValue:F.status,dataLength:null===D||void 0===D||null===(s=D.data)||void 0===s?void 0:s.length,idx:"status",title:"Payment Errors"}),Object(E.jsx)(R,{onFilterChange:k,value:"failed",currentValue:F.status,dataLength:null===D||void 0===D||null===(n=D.data)||void 0===n?void 0:n.length,idx:"status",title:"Failed",isLast:!0})]}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Object(E.jsx)(E.Fragment,{children:H?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!A&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-2",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:F.user_id,data:!M&&I.data,label:"Customer",idx:"user_id",onFilterChange:k})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:F.agent_id,data:!K&&B.data,label:"Agents",idx:"agent_id",onFilterChange:k})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:F.order_type,data:fe,label:"Order Type",idx:"order_type",onFilterChange:k})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{className:"text-muted",children:"Ordered At"}),Object(E.jsx)(Q.a.Control,{type:"date",value:_.created_at,onChange:function(e){var t=Y()(e.target.value).format("YYYY-MM-DD");ae("created_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{onClick:function(){P(),S(uc)},variant:jt(Object(j.a)(Object(j.a)({},uc),Ft),Object(j.a)(Object(j.a)({},_),F))?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:D.data,columns:ce,setSelectedRows:N,filter:F,onFilterChange:ae,isDataLoading:T,isSelectable:!1})]}),!A&&(null===D||void 0===D||null===(i=D.data)||void 0===i?void 0:i.length)>0?Object(E.jsx)(ee,{currentPage:null===D||void 0===D?void 0:D.current_page,lastPage:null===D||void 0===D?void 0:D.last_page,setPage:ae,hasNextPage:!!(null===D||void 0===D?void 0:D.next_page_url),hasPrevPage:!!(null===D||void 0===D?void 0:D.prev_page_url)}):null," "]})})})})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},xc="bookings",mc=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/users",{params:{role:"agent"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hc=function(e){var t=e.formdata,a=e.id;return k.post("bookings/".concat(a,"/assign-agent"),t,{headers:{"Content-Type":"application/json"}})},Oc=function(){var e=Object(d.i)().id,t=Object(d.g)(),a=Object(g.a)("agent",(function(){return mc()})),c=a.data,s=a.isLoading,n=Object(N.a)(hc,{onSuccess:function(a){setTimeout((function(){Pe.invalidateQueries(xc),Pe.invalidateQueries("".concat(xc,"/").concat(e)),t.goBack()}),500)}}),i=(n.data,n.mutate),r=n.isLoading,o=(n.error,n.status);return s?Object(E.jsx)(X,{}):Object(E.jsxs)(l.a,{children:[Object(E.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(E.jsx)("h2",{className:"font-weight-bold",children:"Assign Aggent"}),Object(E.jsx)(O.a,{variant:"primary",onClick:function(){return t.goBack()},children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(p.a,{size:25})," ",Object(E.jsx)("b",{children:"Back"})]})})]}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:{agent_id:""},onSubmit:function(t){i({formdata:t,id:e})},children:function(e){e.setFieldValue;return Object(E.jsxs)(Re.b,{children:["success"===o&&Object(E.jsx)(Me.a,{variant:"success",children:"Agent Successfully Assigned"}),Object(E.jsx)(m.a,{className:"align-items-center justify-content-center",children:Object(E.jsx)(h.a,{sm:!0,md:6,children:Object(E.jsx)(Ge,{name:"agent_id",placeholder:"Select Agent",label:"Select Agent",as:"select",selectData:c.data})})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:r,className:"w-100",children:r?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},pc=a(898),fc=a(169),vc=a.n(fc),gc="pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw",Nc=function(e){var t=e.order;console.log("order",{order:t});var a=t.address;console.log("address",{userAddress:a});var s=Object(c.useRef)(null),n=Object(c.useState)(null),i=Object(r.a)(n,2),l=i[0],d=i[1],o=Object(c.useState)({width:350,height:350,lat:a&&a.lat?parseInt(a.lat):37.78,lng:a&&a.lng?parseInt(a.lng):-122.41,zoom:12}),j=Object(r.a)(o,1)[0],u=Object(c.useState)({lat:a&&parseInt(a.lat),lng:a&&parseInt(a.lng)}),m=Object(r.a)(u,1)[0],h=Object(c.useState)(null),O=Object(r.a)(h,2),p=O[0],f=(O[1],Object(c.useState)(null)),v=Object(r.a)(f,2),g=v[0],N=v[1];Object(c.useEffect)((function(){!l&&function(e,t){t.current&&e(new vc.a.Map({accessToken:gc,container:t.current||"",style:"mapbox://styles/mapbox/streets-v11",center:[j.lng,j.lat],zoom:j.zoom,interactive:!1,dragPan:!1}))}(d,s);var e=setInterval(w,1e3);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){l&&s.current&&C()}),[l,s]),Object(c.useEffect)((function(){g?S():_()}),[p]);var y=function(e){return!!(e&&e.lat&&e.lng)},w=function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){if(y(m)){var e=document.createElement("div");e.className="user-marker",new vc.a.Marker(e).setLngLat([m.lat,m.lng]).addTo(l),w()}},_=function(){if(y(m)&&y(p)){var e=new window.MapboxDirections({accessToken:gc,controls:{instructions:!1},unit:"metric",profile:"mapbox/driving"});N(e),l.addControl(e,"top-left"),S()}},S=function(){g&&(g.setOrigin([m.lng,m.lat]),0===Object.keys(g.getDestination()).length&&g.setDestination([p.lng,p.lat]))};if(t)return a?Object(E.jsx)("div",{ref:s,style:{height:"350px",width:"100%"}}):Object(E.jsx)("h3",{style:{width:"100%",textAlign:"center",marginTop:"10px"},children:"No address found"})},yc="bookings",wc=function(e){var t=e.formdata,a=e.id;return k.post("bookings/".concat(a,"/assign-agent"),t,{headers:{"Content-Type":"application/json"}})},Cc=function(e){var t=e.formdata,a=e.id;return k.post("".concat(yc,"/").concat(a,"/update-status"),t,{headers:{"Content-Type":"application/json"}})},_c=function(){var e,t,a,s,n=Object(d.i)().id,i=Object(d.g)(),u=Object(c.useState)(!1),b=Object(r.a)(u,2),x=b[0],f=b[1],v=qe({id:n,key:yc}),y=v.data,w=v.isLoading,C=v.isFetching,_=Object(g.a)(["".concat(yc,"/").concat(null===y||void 0===y||null===(e=y.transaction)||void 0===e?void 0:e.id,"/download-invoice")],{enabled:!!(null===y||void 0===y||null===(t=y.transaction)||void 0===t?void 0:t.id)}),S=(_.data,_.isLoading,Object(N.a)(wc,{onSuccess:function(e){De("Agent assigned successfully"),setTimeout((function(){Pe.invalidateQueries(yc),Pe.invalidateQueries("".concat(yc,"/").concat(n))}),500)}})),F=S.mutate,k=(S.isLoading,Object(N.a)(Cc,{onSuccess:function(e){De("Order Status  updated successfully"),setTimeout((function(){Pe.invalidateQueries(yc),Pe.invalidateQueries("".concat(yc,"/").concat(n))}),500)}})),P=k.mutate,L=(k.isLoading,Object(c.useState)({agent_id:null===y||void 0===y?void 0:y.agent_id,status:null===y||void 0===y?void 0:y.status})),D=Object(r.a)(L,2),H=D[0],T=D[1],A=function(e,t){T((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))})),f(!1)},V=Object(g.a)(["users",,{role:"agent"}],{onError:function(e){z(e,i)}}),I=V.data,R=V.isLoading,M=function(e){e&&i.push("/users/create-edit",{id:e})};return w||C?Object(E.jsx)(X,{}):Object(E.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(E.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)("h2",{className:"font-weight-bold",children:"Order"}),Object(E.jsxs)("h2",{className:"ml-2",children:["#",y.ref_id]}),Object(E.jsx)(pc.a,{variant:"primary",className:"mx-3 px-3 py-2 text-uppercase",children:y.order_type}),Object(E.jsx)(pc.a,{variant:function(e){var t=e.toLowerCase();return"success"===t?"success":"pending"===t||"pending_payment"===t?"warning":"danger"}(y.status),className:"px-3 py-2 text-uppercase",children:y.status})]}),Object(E.jsxs)("div",{children:[!w&&y.transaction&&Object(E.jsx)(O.a,{variant:"success",children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(p.b,{size:24})," ",Object(E.jsx)("b",{children:"Invoice"})]})}),Object(E.jsx)(O.a,{className:"ml-2",onClick:function(){i.push("/issues/create-edit",{id:null===y||void 0===y?void 0:y.user_id,order_id:n,ref_id:null===y||void 0===y?void 0:y.ref_id})},children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(U.c,{size:24})," ",Object(E.jsx)("b",{children:"Issue"})]})}),Object(E.jsx)(O.a,{className:"ml-2",onClick:function(){return i.goBack()},children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(p.a,{size:25})," ",Object(E.jsx)("b",{children:"Back"})]})})]})]}),y.cancellation_reason&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("p",{className:"text-danger",children:y.cancellation_reason})}),Object(E.jsxs)("div",{className:"dashboard-page w-100",children:[Object(E.jsxs)(l.a,{fluid:!0,className:"status-container mt-2",children:[Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return M(y.user_id)},children:"Update order status"})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(E.jsx)(m.a,{children:Object(E.jsxs)(h.a,{md:"auto",children:[Object(E.jsx)(Q.a.Group,{children:Object(E.jsx)(Q.a.Control,{as:"select",value:null===y||void 0===y?void 0:y.status,onChange:function(e){A("status",e.target.value),P({formdata:{status:e.target.value},id:n})},style:{width:"200px",fontSize:14},children:pe.map((function(e){if(""!==e.id)return Object(E.jsx)("option",{value:e.id,children:e.name})}))})}),Object(E.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted",children:"Do note: Status should be changed by the agent from the app, as it should be to avoid complection in the database. Please try to avoid changing from here if possible."})]})})})]})}),Object(E.jsx)("div",{className:"card p-2  view-padding right-div d-flex mb-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return M(y.user_id)},children:w||(null===y||void 0===y?void 0:y.agent_id)?"Assigned Agent":"Assign Agent"}),Object(E.jsx)("div",{className:"text-primary small",onClick:function(){return f(!x)},children:x&&(null===y||void 0===y?void 0:y.agent_id)?"Close":"Assign agent"})]}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[!w&&(!(null===y||void 0===y?void 0:y.agent_id)||x)&&Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(Q.a.Group,{children:Object(E.jsxs)(Q.a.Control,{as:"select",value:H.agent_id||"",onChange:function(e){A("agent_id",e.target.value),F({formdata:{agent_id:e.target.value},id:n})},style:{width:"200px",fontSize:14},children:[Object(E.jsx)("option",{value:"",children:"Select Agent"}),!R&&(null===I||void 0===I?void 0:I.data.map((function(e){return Object(E.jsx)("option",{value:e.id,children:e.name})})))]})})}),y.agent&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Name"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.agent.name})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Email"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.agent.email})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.agent.phone})})]})]})}),Object(E.jsx)("span",{className:"small text-primary font-weight-bold",onClick:function(){return M(y.agent_id)},style:{cursor:"pointer"},children:"View Profile"})]})]})]})}),Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return M(y.user_id)},children:"Customer"}),Object(E.jsx)("div",{className:"text-primary small",onClick:function(){return M(y.user_id)},children:"Edit Info"})]})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Name"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.user.name})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Email"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("a",{href:"mailto:".concat(y.user.email),children:Object(E.jsx)("p",{className:"view-subheading text-primary",children:y.user.email})})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.user.phone})})]})]})}),Object(E.jsx)("span",{className:"small text-primary font-weight-bold",onClick:function(){return M(y.user_id)},style:{cursor:"pointer"},children:"View Profile"})]}),Object(E.jsx)("hr",{className:"mb-3 mt-3"}),(null===y||void 0===y?void 0:y.address)?Object(E.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(E.jsx)("p",{className:"view-heading font-weight-bold",children:"Billing Address"}),Object(E.jsxs)("p",{className:"view-subheading",children:[y.address.address,", ",y.address.city,", ",y.address.pincode," "]})]}):Object(E.jsx)("p",{className:"view-subheading",children:"Billing Address not available"}),Object(E.jsx)("hr",{className:"mb-3 mt-2"}),(null===y||void 0===y?void 0:y.address)&&Object(E.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(E.jsx)("p",{className:"view-heading font-weight-bold",children:"Shipping Address"}),Object(E.jsxs)("p",{className:"view-subheading",children:[y.address.address,", ",y.address.city,", ",y.address.pincode," "]})]})]})})]}),Object(E.jsxs)(l.a,{fluid:!0,className:"charts-container",children:[Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsx)("div",{className:"d-flex flex-column",children:Object(E.jsx)("div",{style:{width:"100%",height:"350px",position:"relative"},children:Object(E.jsx)(Nc,{order:y})})})}),(null===y||void 0===y||null===(a=y.tickets)||void 0===a?void 0:a.length)&&Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex mb-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Order Issues"})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:null===y||void 0===y?void 0:y.tickets.map((function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(m.a,{children:Object(E.jsxs)(h.a,{md:"auto",children:[Object(E.jsxs)(l.a,{fluid:!0,className:" m-0 p-0 d-flex align-items-center justify-content-between w-100",children:[Object(E.jsx)("p",{className:"m-0 mr-2 w-100",children:Object(E.jsx)("b",{children:e.title})}),Object(E.jsx)(G,{title:e.status,variant:"active"===e.status?"danger":"success"})]}),Object(E.jsx)("p",{style:{fontSize:13,lineHeight:1.3,marginBottom:5},className:"text-muted",children:e.description}),Object(E.jsx)("span",{className:"small text-primary font-weight-bold ml-auto",style:{cursor:"pointer"},onClick:function(){return i.push("/issues/".concat(e.id))},children:"View Issue"})]})}),Object(E.jsx)("hr",{className:"my-2"})]})}))})]})}),Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return M(y.user_id)},children:"Summary"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[y.vehicle&&Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading py-2",children:"Pick-up Vehicle"}),Object(E.jsx)("td",{className:"view-subheading py-2 text-right",children:y.vehicle.name})]})}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Scheduled At"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.scheduled_at?Y()(y.scheduled_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Picked At"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.picked_at?Y()(y.picked_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Closed At"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:y.closed_at?Y()(y.closed_at).format("DD/MM/YY(hh:mm)"):"-"})})]})]})})})]})}),(null===y||void 0===y||null===(s=y.services)||void 0===s?void 0:s.length)?Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Services"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column",children:Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsx)("tbody",{children:y.services.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading text-primary",style:{cursor:"pointer"},onClick:function(){return i.push("/services/create-edit",{id:e.id})},children:null===e||void 0===e?void 0:e.name}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsxs)("p",{className:"view-subheading",children:["\u20b9",null===e||void 0===e?void 0:e.price]})})]})}))})})})})]})}):null,Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return M(y.user_id)},children:"Payment Summary"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading",children:"Total Cost"}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsxs)("p",{className:"view-subheading",children:["\u20b9",y.total_cost]})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading",children:"Discount"}),Object(E.jsx)("td",{className:"text-success font-weight-bold text-right",children:Object(E.jsxs)("p",{className:"view-subheading",children:["\u20b9",y.discount]})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading pt-3",children:"Total Payable Amount"}),Object(E.jsx)("td",{className:"text-primary pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:Object(E.jsxs)("p",{className:"view-subheading",children:["\u20b9",y.payable_amount]})})]})]})})})]})}),y.plan&&Object(E.jsx)("div",{className:"card p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("h5",{children:"Plan"})}),Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading",children:"Name"}),Object(E.jsx)("td",{className:"view-subheading font-weight-bold text-right",children:y.plan.name})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading py-2",children:"Description"}),Object(E.jsx)("td",{className:"view-subheading font-weight-light text-capitalize",children:y.plan.description})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading pt-3",children:"Price"}),Object(E.jsxs)("td",{className:"view-subheading pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:["\u20b9",y.plan.price]})]})]})})})]})})]})]})]})},Sc="get-all-permission",Fc=function(e){return k.post("".concat(Sc,"/delete"),{id:e})},kc={active:"",q:"",page:1,perPage:25},Pc=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(kc),b=Object(r.a)(u,2),x=b[0],m=b[1];console.log({filter:x});var h=Object(g.a)([Sc,,x],{onError:function(e){z(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,_=Object(g.a)(["roles-with-permission",,x],{onError:function(e){z(e,t)}}),S=_.data,F=_.isLoading,k=_.isFetching,P=(_.error,Object(N.a)(Fc,{onSuccess:function(){Pe.invalidateQueries(Sc),De("Permission deleted successfully")},onError:function(e){z(e,t)}})),L=P.mutate,D=P.isLoading,H=function(e,t){m((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},T=Object(c.useMemo)((function(){return[{Header:"Role",accessor:"role"},{Header:"Permissions",accessor:"permissions"},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var a;a=e.row.values.id,t.push("/assign-pemission/create-edit",{id:a})}})}}]}),[]),A=Object(c.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}}]}),[]);return(f||v&&y)&&(S||F&&k)?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Assign Permission",onClick:function(){t.push("/assign-permission/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2 mb-3",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:F?Object(E.jsx)(X,{}):Object(E.jsx)(E.Fragment,{children:!w&&Object(E.jsx)(Se,{data:S,columns:T,filter:x,onFilterChange:H,isDataLoading:k})})})}),Object(E.jsx)($,{title:"Permissions",onClick:function(){t.push("/permissions/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!w&&Object(E.jsx)(Se,{data:f,columns:A,setSelectedRows:i,filter:x,onFilterChange:H,isDataLoading:y}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(E.jsx)(ee,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:H,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})}),n.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){L(n.map((function(e){return e.id})))},children:D?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Lc="give-permission",Dc=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Lc,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):k.post("give-permission",t,{headers:{"Content-Type":"application/json"}})},Hc=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:Lc}),n=s.data,i=s.isLoading,r=Object(g.a)(["get-all-roles/d"]),l=r.data,o=r.isLoading,j=Object(g.a)(["get-all-permission/d"]),u=j.data,b=(j.isLoading,Object(N.a)(Dc,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Lc)}),500),t.replace("/permissions"),a)return De("Role updated successfully");De("Role created successfully")},onError:function(e){z(e,t)}})),x=b.mutate,p=b.isLoading,f=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Assign Permission Role"}),Object(E.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:f||{},onSubmit:function(e){console.log({values:e}),x({formdata:e,id:a})},children:function(e){e.setFieldValue;var t=e.values;return Object(E.jsxs)(Re.b,{children:[Object(E.jsx)("div",{className:"form-container ",children:Object(E.jsx)(Ge,{as:"select",selectData:!o&&l,name:"id",label:"Role",placeholder:"Role"})}),Object(E.jsx)(m.a,{children:Object(E.jsxs)(h.a,{children:[Object(E.jsx)("p",{className:"text-muted",children:"Permissions"}),Object(E.jsx)(Re.a,{name:"permission",render:function(e){return Object(E.jsx)("div",{children:null===u||void 0===u?void 0:u.map((function(a){var c;return Object(E.jsx)("div",{children:Object(E.jsxs)("label",{className:"d-flex align-items-center",children:[Object(E.jsx)("input",{name:"permissions",type:"checkbox",value:a.id,checked:null===t||void 0===t||null===(c=t.permissions)||void 0===c?void 0:c.includes(a.id),onChange:function(c){if(c.target.checked)e.push(a.id);else{var s,n=null===t||void 0===t||null===(s=t.permissions)||void 0===s?void 0:s.indexOf(a.id);e.remove(n)}}}),Object(E.jsx)("span",{className:" ml-2 ",children:a.name})]},a.id)})}))})}})]})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:p,className:"w-100",children:p?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},Tc="create-permission",Ac=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Tc,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):k.post("".concat(Tc),t,{headers:{"Content-Type":"application/json"}})},Vc=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:"get-permission"}),n=s.data,i=s.isLoading,r=Object(N.a)(Ac,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries("get-all-permission/1")}),500),t.replace("/permissions"),a)return De("Permission updated successfully");De("Permission created successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading,j=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:a?"Update Permission":"Add Permission"}),Object(E.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{},onSubmit:function(e){l({formdata:e,id:a})},children:function(e){e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsx)("div",{className:"form-container ",children:Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},Ic="plans",zc=function(e){return k.post("".concat(Ic,"/delete"),{id:e})},Ec={q:"",page:null,perPage:25,active:"",is_popular:"",category_id:"",allowed_usage:""},Rc=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)([]),u=Object(r.a)(i,2),b=u[0],x=u[1];console.log(b.map((function(e){return e.id})));var f=Object(c.useState)(Ec),v=Object(r.a)(f,2),y=v[0],w=v[1];console.log({filter:y});var _=Object(g.a)([Ic,,y],{onError:function(e){z(e,n)}}),F=_.data,k=_.isLoading,P=_.isFetching,L=_.error,D=Object(g.a)(["categories"]),H=D.data,T=D.isLoading,A=Object(N.a)(zc,{onSuccess:function(){Pe.invalidateQueries(Ic),De("Plans deleted successfully")},onError:function(e){z(e,n)}}),V=A.mutate,I=A.isLoading,M=function(e,t){w((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},Y=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(E.jsx)("div",{className:"table-image",children:Object(E.jsx)("img",{src:"".concat(S,"plans/").concat(e.row.values.image),alt:e.row.values.image})})}},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Category",accessor:"category_id"},{Header:"Allowed Usage",accessor:"allowed_usage"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Is Popular",accessor:"is_popular",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_popular})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/plans/create-edit",{id:t})}})}}]}),[]);return F||k&&P?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Plans",onClick:function(){n.push("/plans/create-edit")},totalRecords:null===F||void 0===F?void 0:F.total}),!k&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:M,value:"",currentValue:y.active,dataLength:null===F||void 0===F||null===(e=F.data)||void 0===e?void 0:e.length,idx:"active",title:"All"}),Object(E.jsx)(R,{onFilterChange:M,value:"1",currentValue:y.active,dataLength:null===F||void 0===F||null===(t=F.data)||void 0===t?void 0:t.length,idx:"active",title:"Active"}),Object(E.jsx)(R,{onFilterChange:M,value:"0",currentValue:y.active,dataLength:null===F||void 0===F||null===(a=F.data)||void 0===a?void 0:a.length,idx:"active",title:"Not Active",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:k?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!L&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:y.category_id,data:!T&&H.data,label:"Categories",idx:"category_id",onFilterChange:M})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:y.allowed_usage,data:xe,label:"Allowed Usage",idx:"allowed_usage",width:"80px",onFilterChange:M})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:y.is_popular,data:je,label:"Is Popular?",idx:"is_popular",onFilterChange:M,defaultSelectTitle:"Show All"})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{variant:jt(Ec,y)?"light":"primary",style:{fontSize:14},onClick:function(){return w(Ec)},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===F||void 0===F?void 0:F.data,columns:Y,setSelectedRows:x,filter:y,onFilterChange:M,isDataLoading:P})]}),!L&&(null===F||void 0===F||null===(s=F.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===F||void 0===F?void 0:F.current_page,lastPage:null===F||void 0===F?void 0:F.last_page,setPage:M,hasNextPage:!!(null===F||void 0===F?void 0:F.next_page_url),hasPrevPage:!!(null===F||void 0===F?void 0:F.prev_page_url)}):null," "]})})}),b.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",b.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){V(b.map((function(e){return e.id})))},children:I?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Mc=["image"],Yc="plans",qc=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Yc,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Yc),t,{headers:{"Content-Type":"multipart/form-data"}})},Uc=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=Object(g.a)(["categories"]),n=s.data,i=s.isLoading,r=Object(g.a)(["services"]),l=r.data,o=r.isLoading,u=qe({id:a,key:Yc}),b=u.data,x=u.isLoading,p=Object(N.a)(qc,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Yc)}),500),e.replace("/plans"),a)return De("Plan updated successfully");De("Plan created successfully")},onError:function(t){z(t,e)}}),f=(p.mutate,p.isLoading),v=(p.error,p.status,b&&b);return x?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Plans"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:v?Object(j.a)(Object(j.a)({},v),{},{services:null===v||void 0===v?void 0:v.allowed_services.map((function(e){return a}))}):{is_active:1},onSubmit:function(e){console.log({values:e});var t=e.image,a=Object(te.a)(e,Mc),c=new FormData;for(var s in a)c.append(s,a[s]);t&&"string"!==typeof t&&c.append("image",t)},children:function(e){var t=e.setFieldValue,a=e.values;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{type:"number",name:"price",placeholder:"Price",label:"Price",required:!0}),Object(E.jsx)(Ge,{type:"number",name:"allowed_usage",placeholder:"Allowed Usage",label:"Allowed Usage",required:!0}),Object(E.jsx)(Ge,{name:"image",placeholder:"image",label:"Choose Plan Image",isFile:!0,setFieldValue:t}),Object(E.jsx)(Ge,{name:"category_id",placeholder:"Category",label:"Choose Category",as:"select",selectData:!i&&n.data}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_popular",label:"Is Popular?",placeholder:"Choose is popular"})]}),Object(E.jsxs)(m.a,{children:[Object(E.jsxs)(h.a,{xl:12,sm:12,children:[Object(E.jsx)("p",{className:"text-black font-weight-bold small",children:"Services"}),Object(E.jsx)(Re.a,{name:"services",render:function(e){var t;return Object(E.jsx)("div",{className:"d-flex flex-wrap",children:!o&&(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.map((function(t){var c;return Object(E.jsx)("div",{className:"mr-2",children:Object(E.jsxs)("label",{className:"d-flex align-items-center",children:[Object(E.jsx)("input",{name:"services",type:"checkbox",value:t.id,checked:null===a||void 0===a||null===(c=a.services)||void 0===c?void 0:c.includes(t.id),onChange:function(c){if(c.target.checked)e.push(t.id);else{var s,n=null===a||void 0===a||null===(s=a.services)||void 0===s?void 0:s.indexOf(t.id);e.remove(n)}}}),Object(E.jsx)("span",{className:" ml-2 ",children:t.name})]},t.id)})})))})}})]}),Object(E.jsx)(h.a,{xl:12,sm:12,children:Object(E.jsx)(ca,{name:"description",label:"Description",setFieldValue:t})})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:f,className:"w-100",children:f?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},Bc="get-all-roles",Qc=function(e){return k.get("remove-role/".concat(e))},Wc={q:"",page:1,perPage:25},Gc=function(){var e=Object(d.g)(),t=Object(c.useState)([]),a=Object(r.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(Wc),u=Object(r.a)(i,2),b=u[0],x=u[1],m=Object(g.a)([Bc,,b],{onError:function(t){z(t,e)}}),h=m.data,f=m.isLoading,v=m.isFetching,y=m.error,w=Object(N.a)(Qc,{onSuccess:function(){Pe.invalidateQueries(Bc),De("Role removed successfully")},onError:function(t){z(t,e)}}),_=w.mutate,S=w.isLoading,F=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}}]}),[]);return h||f&&v?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Roles",onClick:function(){e.push("/roles/create-edit")},totalRecords:null===h||void 0===h?void 0:h.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:f?Object(E.jsx)(X,{}):Object(E.jsx)(E.Fragment,{children:!y&&Object(E.jsx)(Se,{data:h,columns:F,setSelectedRows:n,filter:b,onFilterChange:function(e,t){x((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},isDataLoading:v})})})}),s.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",s.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){_(s.map((function(e){return e.id}))[0])},children:S?"Loading...":"Remove"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Kc=["logo"],Jc="create-roles",Xc=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Jc,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Jc),t,{headers:{"Content-Type":"multipart/form-data"}})},$c=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:"get-roles"}),n=s.data,i=s.isLoading,r=Object(N.a)(Xc,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries("get-all-roles/1")}),500),t.replace("/roles"),a)return De("Role updated successfully");De("Role created successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading,j=a?"Update Role":"Add Role",u=n;return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:j}),Object(E.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:u||{},onSubmit:function(e){var t=e.logo,c=Object(te.a)(e,Kc),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("logo",t),l({formdata:s,id:a})},children:function(e){e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsx)("div",{className:"form-container ",children:Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},Zc="services",es=function(e){return k.post("".concat(Zc,"/delete"),{id:e})},ts={q:"",page:null,perPage:25},as=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(ts),b=Object(r.a)(u,2),x=b[0],m=b[1];console.log({filter:x});var h=Object(g.a)([Zc,,x],{onError:function(e){z(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,_=Object(N.a)(es,{onSuccess:function(){Pe.invalidateQueries(Zc),De("Services deleted successfully")},onError:function(e){z(e,t)}}),F=_.mutate,k=_.isLoading,P=function(e,t){m((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},L=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(E.jsx)("div",{className:"table-image",children:Object(E.jsx)("img",{src:"".concat(S,"services/").concat(e.row.values.image),alt:e.row.values.image})})}},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Category",accessor:"category.name"},{Header:"Url",accessor:"url"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var a;a=e.row.values.id,t.push("/services/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Services",onClick:function(){t.push("/services/create-edit")},totalRecords:50}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!w&&Object(E.jsx)(Se,{data:null===f||void 0===f?void 0:f.data,columns:L,setSelectedRows:i,filter:x,onFilterChange:P,isDataLoading:y}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(E.jsx)(ee,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:P,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})}),n.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){F(n.map((function(e){return e.id})))},children:k?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},cs=["image"],ss="services",ns=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(ss,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(ss),t,{headers:{"Content-Type":"multipart/form-data"}})},is=function(){var e=Object(d.h)().state,t=e?e.id:null,a=Object(d.g)();Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:t,key:ss}),n=s.data,i=s.isLoading,r=Object(g.a)("categories"),l=r.data,o=r.isLoading,j=Object(N.a)(ns,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(ss)}),500),a.replace("/services"),t)return De("Service updated successfully");De("Service created successfully")},onError:function(e){z(e,a)}}),u=j.mutate,b=j.isLoading,x=(j.error,j.status,n&&n);return i?Object(E.jsx)(X,{}):Object(E.jsxs)(m.a,{className:"rounded",children:[Object(E.jsx)(Ue,{title:"Services"}),Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:x||{},onSubmit:function(e){var a=new FormData,c=(e.image,Object(te.a)(e,cs));for(var s in c)a.append(s,c[s]);e.image&&a.append("image",e.image),u({formdata:a,id:t})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(E.jsx)(Ge,{name:"price",placeholder:"Price",label:"Price",type:"number"}),Object(E.jsx)(Ge,{name:"category_id",placeholder:"Category",label:"Choose Category",as:"select",selectData:!o&&l.data}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(E.jsx)(Ge,{name:"image",placeholder:"image",label:"Choose Service Image",isFile:!0,setFieldValue:t})]}),Object(E.jsx)(ca,{name:"details",label:"Details",setFieldValue:t}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},rs="staticPages",ls=function(e){var t=e.formdata,a=e.id;return k.post("".concat(rs,"/").concat(a),t)},ds=function(e){return k.post("".concat(rs,"/delete"),{id:e})},os=function(){var e=Object(d.g)(),t=Object(g.a)([rs]),a=t.data,s=t.isLoading,n=t.isFetching,i=Object(N.a)(ls,{onSuccess:function(){De("Page  saved successfully"),setTimeout((function(){return Pe.invalidateQueries(rs)}),500)},onError:function(t){z(t,e)}}),o=i.mutate,u=i.isLoading,b=Object(N.a)(ds,{onSuccess:function(){De("Page  deleted successfully"),setTimeout((function(){return Pe.invalidateQueries(rs)}),500)},onError:function(t){z(t,e)}}),x=b.mutate,m=b.isLoading,h=Object(c.useState)([]),f=Object(r.a)(h,2),v=f[0],y=f[1],w=Object(c.useState)(v[0]),_=Object(r.a)(w,2),S=_[0],F=_[1];Object(c.useEffect)((function(){s||n||a&&y(null===a||void 0===a?void 0:a.data.map((function(e){return e.title})))}),[a,s,n]),Object(c.useEffect)((function(){v.length>0&&F(v[0])}),[v.length]);return a||s&&n?s?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Static Pages",onClick:function(){e.push("/static-pages/create-edit")}}),Object(E.jsx)("p",{className:"small text-muted",children:"Pres Ctrl+S inside editor to save content"}),Object(E.jsx)(l.a,{fluid:!0,className:"px-0 my-3",children:null===v||void 0===v?void 0:v.map((function(e){return Object(E.jsx)(O.a,{variant:S===e?"primary":"outline-primary",className:"mr-2",onClick:function(){return F(e)},children:e})}))}),null===a||void 0===a?void 0:a.data.map((function(e){return Object(E.jsx)(l.a,{fluid:!0,className:"p-0 mb-3",style:{display:S===e.title?"block":"none"},children:Object(E.jsxs)("div",{className:"card",children:[Object(E.jsxs)("div",{className:"card-title d-flex align-items-center justify-content-between",children:[Object(E.jsx)("h3",{className:"text-black px-2",children:Object(E.jsx)("b",{children:e.title})}),Object(E.jsx)("div",{className:"d-flex align-items-center",children:Object(E.jsx)(O.a,{className:"mr-2",variant:"danger",onClick:function(){return t=e.id,console.log("delete page",t),void x(t);var t},disabled:m,children:m?"Loading...":"Delete"})})]}),Object(E.jsx)("p",{className:"text-muted px-2",children:e.description}),Object(E.jsx)("div",{className:"mx-auto",children:n||u?Object(E.jsx)(X,{}):Object(E.jsx)(ta.a,{value:ta.a.createEditorState(e.content),onSave:function(t){return function(e,t){var a=e.toHTML(),c=Object(j.a)(Object(j.a)({},t),{},{content:a});o({formdata:c,id:t.id})}(t,e)},language:"en"})})]})})}))]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},js="staticPages",us=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(js,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):k.post("".concat(js),t,{headers:{"Content-Type":"applicatioin/json"}})},bs=function(){var e=Object(d.g)(),t=Object(d.h)().state,a=t?t.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:js}),n=s.data,i=s.isLoading,r=Object(N.a)(us,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(js)}),500),e.replace("/static-pages"),a)return De("Page updated successfully");De("Page created successfully")},onError:function(t){z(t,e)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return console.log("apiData",j),i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Static Page"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{},onSubmit:function(e){l({formdata:e,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container  py-2 ",children:[Object(E.jsx)(Ge,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(E.jsx)(Ge,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(E.jsx)(Ge,{name:"description",placeholder:"Description",label:"Description",as:"textarea",required:!0})]}),Object(E.jsx)(m.a,{children:Object(E.jsx)(h.a,{md:12,xl:12,children:Object(E.jsx)(ca,{name:"content",label:"Content",setFieldValue:t})})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-center",children:Object(E.jsx)(h.a,{md:"6",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},xs={q:"",page:null,perPage:25,plan_id:"",status:"active",allowed_usage:"",created_at:"",user_id:"",last_used_at:""},ms=function(){var e,t,a=Object(d.g)(),s=Object(c.useState)([]),n=Object(r.a)(s,2),i=n[0],u=n[1];console.log(i.map((function(e){return e.id})));var b=Object(c.useState)(xs),x=Object(r.a)(b,2),f=x[0],v=x[1],N=Object(g.a)(["user-subscriptions",,f],{onError:function(e){z(e,a)}}),y=N.data,w=N.isLoading,_=N.isFetching,S=N.error,F=Object(g.a)(["plans"]),k=F.data,P=F.isLoading,L=Object(g.a)(["users",,{}]),D=L.data,H=L.isLoading,T=function(e){var t=e.status;return Object(E.jsx)(G,{title:t,variant:"active"===t?"success":"danger"})},A=function(e,t){v((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},V=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"User Name",accessor:"user.name",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.user_id)&&a.push("/users/create-edit",{id:t})},children:e.row.values["user.name"]})}},{Header:"Plan ID",accessor:"plan.name",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.plan_id)&&a.push("/plans/create-edit",{id:t})},children:e.row.values["plan.name"]})}},{Header:"Allowed Usage",accessor:"allowed_usage"},{Header:"Status",accessor:"status",Cell:function(e){return Object(E.jsx)(T,{status:e.row.values.status})}},{Header:"Transaction Id",accessor:"transaction_id"},{Header:"No. Times Used",accessor:"used"},{Header:"Last Used",accessor:"last_used_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.last_used_at})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)("div",{className:"d-flex",children:Object(E.jsx)(O.a,{onClick:function(){return a.push("/subscriptions/".concat(e.row.values.id))},children:"View"})})}}]}),[]);return y||w&&_?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Subscriptions",totalRecords:null===y||void 0===y?void 0:y.total}),(!w||!_)&&Object(E.jsxs)("div",{className:"filter mb-4",children:[Object(E.jsx)(R,{onFilterChange:A,value:"active",currentValue:f.status,dataLength:null===y||void 0===y||null===(e=y.data)||void 0===e?void 0:e.length,idx:"status",title:"Active"}),Object(E.jsx)(R,{onFilterChange:A,value:"expired",currentValue:f.status,dataLength:null===y||void 0===y||null===(t=y.data)||void 0===t?void 0:t.length,idx:"status",title:"Expired",isLast:!0})]}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:w?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-2",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:f.user_id,data:!H&&D.data,label:"User",idx:"user_id",onFilterChange:A})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:f.plan_id,data:!P&&k.data,label:"Plan",idx:"plan_id",onFilterChange:A})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:f.allowed_usage,data:xe,label:"Allowed Usage",idx:"allowed_usage",onFilterChange:A})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{className:"text-muted",children:"Purchased on"}),Object(E.jsx)(Q.a.Control,{type:"date",value:f.created_at,onChange:function(e){var t=Y()(e.target.value).format("YYYY-MM-DD");A("created_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsxs)(Q.a.Group,{children:[Object(E.jsx)(Q.a.Label,{className:"text-muted",children:"Last used at"}),Object(E.jsx)(Q.a.Control,{type:"date",value:f.last_used_at,onChange:function(e){var t=Y()(e.target.value).format("YYYY-MM-DD");A("last_used_at",t)},style:{fontSize:14,width:150,height:35}})]})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{onClick:function(){return v(xs)},variant:jt(xs,f)?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),!S&&Object(E.jsx)(Se,{data:null===y||void 0===y?void 0:y.data,columns:V,setSelectedRows:u,filter:f,onFilterChange:A,isDataLoading:_,isSelectable:!1}),!S&&y.length>0?Object(E.jsx)(ee,{currentPage:null===y||void 0===y?void 0:y.current_page,lastPage:null===y||void 0===y?void 0:y.last_page,setPage:A,hasNextPage:!!(null===y||void 0===y?void 0:y.next_page_url),hasPrevPage:!!(null===y||void 0===y?void 0:y.prev_page_url)}):null," "]})})}),i.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",i.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",children:"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},hs=function(){var e,t,a=Object(d.i)().id,c=Object(d.g)(),s=qe({id:a,key:"user-subscriptions"}),n=s.data,i=s.isLoading,r=s.isFetching,o=function(e){e&&c.push("/users/create-edit",{id:e})};return i||r?Object(E.jsx)(X,{}):Object(E.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(E.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)("h2",{className:"font-weight-bold",children:"Subscription"}),Object(E.jsxs)("h2",{className:"mx-2",children:["#",null===n||void 0===n?void 0:n.id]}),Object(E.jsx)(pc.a,{variant:(t=n.status,"active"===t.toLowerCase()?"success":"danger"),className:"px-3 py-2 text-uppercase",children:n.status})]}),Object(E.jsx)("div",{children:Object(E.jsx)(O.a,{className:"ml-2",onClick:function(){return c.goBack()},children:Object(E.jsxs)("div",{className:"text-white",children:[Object(E.jsx)(p.a,{size:25})," ",Object(E.jsx)("b",{children:"Back"})]})})})]}),Object(E.jsxs)("div",{className:"dashboard-page w-100",children:[Object(E.jsx)(l.a,{fluid:!0,className:"status-container mt-2",children:Object(E.jsx)("div",{className:"card p-2 view-padding right-div d-flex",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return o(n.user_id)},children:"Customer"}),Object(E.jsx)("div",{className:"text-primary small",onClick:function(){return o(n.user_id)},children:"Edit Info"})]})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted",children:Object(E.jsx)("p",{className:"view-heading",children:"Name"})}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.user.name})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Email"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("a",{href:"mailto:".concat(n.user.email),children:Object(E.jsx)("p",{className:"view-subheading text-primary",children:n.user.email})})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.user.phone})})]})]})}),Object(E.jsx)("span",{className:"small text-primary font-weight-bold",onClick:function(){return o(n.user_id)},style:{cursor:"pointer"},children:"View Profile"})]})]})})}),Object(E.jsxs)(l.a,{fluid:!0,className:"charts-container",children:[Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return o(n.user_id)},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Last User At"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.last_used_at?Y()(n.last_used_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Valid Till"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.last_used_at?Y()(null===n||void 0===n?void 0:n.valid_till).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Created At"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.last_used_at?Y()(null===n||void 0===n?void 0:n.created_at).format("DD/MM/YY(hh:mm)"):"-"})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Transaction Id"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:null===n||void 0===n?void 0:n.transaction_id})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Used"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:null===n||void 0===n?void 0:n.used})})]})]})})})]})}),(null===n||void 0===n||null===(e=n.services)||void 0===e?void 0:e.length)?Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Services"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column",children:Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsx)("tbody",{children:n.services.map((function(e){return Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading",children:e.name}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsxs)("p",{className:"view-subheading",children:["\u20b9",e.cost]})})]})}))})})})})]})}):null,n.plan&&Object(E.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-primary pb-3",style:{cursor:"pointer",fontWeight:600},onClick:function(){return function(e){e&&c.push("/plans/create-edit",{id:e})}(n.plan_id)},children:"Plan"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Name"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.plan.name})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Price"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsxs)("p",{className:"view-subheading",children:["\u20b9",n.plan.price]})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Allowed Usage"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:n.plan.allowed_usage})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Is Popular?"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:Object(E.jsx)(K,{value:n.plan.is_active})})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"text-muted ",children:Object(E.jsx)("p",{className:"view-heading",children:"Is Active?"})}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:Object(E.jsx)(K,{value:n.plan.is_popular})})})]})]})})})]})})]})]})]})},Os="testimonial",ps=function(e){return k.post("".concat(Os,"/delete"),{id:e})},fs={q:"",page:1,perPage:25},vs=function(){var e,t=Object(d.g)(),a=Object(c.useState)([]),s=Object(r.a)(a,2),n=s[0],i=s[1];console.log(n.map((function(e){return e.id})));var u=Object(c.useState)(fs),b=Object(r.a)(u,2),x=b[0],m=b[1],h=Object(g.a)([Os,,x],{onError:function(e){z(e,t)}}),f=h.data,v=h.isLoading,y=h.isFetching,w=h.error,_=Object(N.a)(ps,{onSuccess:function(){Pe.invalidateQueries(Os),De("Testimonials deleted successfully")},onError:function(e){z(e,t)}}),F=_.mutate,k=_.isLoading,P=function(e,t){m((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},L=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Picture",accessor:"picture",Cell:function(e){return Object(E.jsx)("div",{className:"table-image",children:Object(E.jsx)("img",{src:"".concat(S,"profile_pic/").concat(e.row.values.picture),alt:e.row.values.picture})})}},{Header:"Name",accessor:"name"},{Header:"Link",accessor:"link"},{Header:"User",accessor:"user.name",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var a;(a=e.row.original.user_id)&&t.push("/users/create-edit",{id:a})},children:e.row.values["user.name"]||"NA"})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var a;a=e.row.values.id,t.push("/testimonials/create-edit",{id:a})}})}}]}),[]);return f||v&&y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Testimonials",onClick:function(){t.push("/testimonials/create-edit")},totalRecords:null===f||void 0===f?void 0:f.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:v?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!w&&Object(E.jsx)(Se,{data:null===f||void 0===f?void 0:f.data,columns:L,setSelectedRows:i,filter:x,onFilterChange:P,isDataLoading:y}),!w&&(null===f||void 0===f||null===(e=f.data)||void 0===e?void 0:e.length)>0?Object(E.jsx)(ee,{currentPage:null===f||void 0===f?void 0:f.current_page,lastPage:null===f||void 0===f?void 0:f.last_page,setPage:P,hasNextPage:!!(null===f||void 0===f?void 0:f.next_page_url),hasPrevPage:!!(null===f||void 0===f?void 0:f.prev_page_url)}):null," "]})})}),n.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",n.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){F(n.map((function(e){return e.id})))},children:k?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},gs=["picture"],Ns="testimonial",ys=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Ns,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Ns),t,{headers:{"Content-Type":"multipart/form-data"}})},ws=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=Object(g.a)(["users",,{}]),n=s.data,i=(s.error,s.isLoading),r=(s.isFetching,qe({id:a,key:Ns})),l=r.data,o=r.isLoading,j=Object(N.a)(ys,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Ns)}),500),a&&setTimeout((function(){return Pe.invalidateQueries("".concat(Ns,"/").concat(a))}),500),t.replace("/testimonials"),a)return De("Testimonial updated successfully");De("Testimonial created successfully")},onError:function(e){z(e,t)}}),u=j.mutate,b=j.isLoading,x=a?"Update Testimonial":"Add Testimonial",p=l;return o?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:x}),Object(E.jsxs)("div",{className:"card view-padding p-2 d-flex mt-3",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsx)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:"Basic Information"})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:p||{},onSubmit:function(e){var t=e.picture,c=Object(te.a)(e,gs),s=new FormData;for(var n in c)s.append(n,c[n]);t&&"string"!==typeof t&&s.append("picture",t),console.log({formdata:s}),u({formdata:s,id:a})},children:function(e){var t=e.setFieldValue;return Object(E.jsxs)(Re.b,{children:[Object(E.jsxs)("div",{className:"form-container ",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name"}),Object(E.jsx)(Ge,{name:"picture",placeholder:"picture",label:"Picture",isFile:!0,setFieldValue:t}),Object(E.jsx)(Ge,{name:"link",placeholder:"Link",label:"Link"}),Object(E.jsx)(Ge,{name:"user_id",placeholder:"User",label:"Choose User",as:"select",selectData:!i&&n.data})]}),Object(E.jsx)(m.a,{children:Object(E.jsx)(h.a,{md:12,xl:12,children:Object(E.jsx)(ca,{name:"description",label:"Description",setFieldValue:t})})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:b,className:"w-100",children:b?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})]})},Cs=a.p+"static/media/profile.aba28314.svg",_s=function(){return k.post("/auth/logout")},Ss=function(e){var t=e.isNavOpen,a=e.setIsNavOpen,s=Object(c.useContext)(Ga),n=Object(d.g)(),i=H((function(e){return e.removeToken})),r=Ta((function(e){return e.removeUser})),o=Ta((function(e){return e.user})),j=Object(N.a)(_s,{onSuccess:function(){r(),i(),n.push("/login")}}),u=j.mutate,b=j.isLoading;return Object(E.jsxs)(l.a,{fluid:!0,className:"top-bar d-flex align-items-center justify-content-between",children:[s?null:Object(E.jsx)("div",{className:"menu-hamburger",children:t?null:Object(E.jsx)(p.c,{size:32,onClick:function(){a&&a(!0)},color:C})}),!s&&Object(E.jsx)(Ja,{}),s&&Object(E.jsxs)(Q.a.Group,{className:"form-group store-select",children:[Object(E.jsx)(Q.a.Label,{className:"text-muted font-weight-bold",children:"Select Store"}),Object(E.jsx)(Q.a.Control,{as:"select",style:{width:150,fontSize:14},disabled:!0,children:Object(E.jsx)("option",{value:"carsafai",children:"Car Safai"})})]}),Object(E.jsx)("div",{className:s?"d-flex align-items-center ml-auto":"d-flex align-items-center",children:Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-center ml-4",children:[o&&Object(E.jsx)("span",{className:"text-muted",children:null===o||void 0===o?void 0:o.name}),Object(E.jsxs)(ce.a,{className:"ml-4",children:[Object(E.jsx)(ce.a.Toggle,{id:"dropdown-basic",className:"filter-button bg-transparent border-0 text-primary",children:b?"Loading":Object(E.jsx)("img",{src:Cs,alt:"profile",className:"profile"})}),Object(E.jsx)(ce.a.Menu,{children:Object(E.jsx)(ce.a.Item,{onClick:function(){return u()},children:b?"Loading":"SignOut"})})]})]})})]})},Fs={status:"",user_id:"",payment_method:""},ks=Object(L.combine)({filter:Fs},(function(e){return{onFilterChange:function(t,a){return e((function(e){return Object(j.a)(Object(j.a)({},e),{},{filter:Object(j.a)(Object(j.a)({},e.filter),{},Object(o.a)({},t,a))})}))},resetFilter:function(){return e((function(e){return{filter:Fs}}))}}}));ks=Object(L.persist)(ks,{name:"carsafai_admin_transaction_filter"});var Ps=Object(P.a)(ks),Ls={q:"",page:null,perPage:25},Ds=function(){var e,t,a,s=Object(d.g)(),n=Object(c.useState)([]),i=Object(r.a)(n,2),u=i[0],b=i[1],x=Object(c.useState)(1),f=Object(r.a)(x,2),v=(f[0],f[1]),N=Object(c.useState)(Ls),y=Object(r.a)(N,2),w=y[0],_=y[1],S=Ps((function(e){return e.filter})),F=Ps((function(e){return e.onFilterChange})),k=Ps((function(e){return e.resetFilter})),P=Object(g.a)(["transactions",,Object(j.a)(Object(j.a)({},w),S)],{onError:function(e){I(e.response.data.message)}}),L=P.data,D=P.isLoading,H=P.isFetching,T=P.error,A=Object(g.a)(["users",1,{}],{onError:function(e){I(e.response.data.message)}}),V=A.data,z=A.isLoading,M=function(e){var t=e.status;return Object(E.jsx)(G,{title:t,variant:"success"===t?"success":"danger"})},Y=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id"},{Header:"User",accessor:"user.name",Cell:function(e){return Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){var t;(t=e.row.original.user_id)&&s.push("/users/create-edit",{id:t})},children:e.row.values["user.name"]})}},{Header:"Order",accessor:"order.ref_id",Cell:function(e){return console.log({data:e}),Object(E.jsx)("p",{className:"text-primary m-0",style:{cursor:"pointer"},onClick:function(){return t=e.row.original.order_id,console.log({id:t}),void(t&&s.push("/orders/".concat(t)));var t},children:e.row.values["order.ref_id"]})}},{Header:"Paid Amount",accessor:"paid_amount"},{Header:"Payment Method",accessor:"payment_method"},{Header:"Status",accessor:"status",Cell:function(e){return Object(E.jsx)(M,{status:e.row.values.status})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.updated_at})}}]}),[]);return L||D&&H?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Transactions",totalRecords:null===L||void 0===L?void 0:L.total}),!D&&Object(E.jsx)("div",{children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:F,value:"",currentValue:S.status,dataLength:null===L||void 0===L||null===(e=L.data)||void 0===e?void 0:e.length,idx:"status",title:"All"}),Object(E.jsx)(R,{onFilterChange:F,value:"success",currentValue:S.status,dataLength:null===L||void 0===L||null===(t=L.data)||void 0===t?void 0:t.length,idx:"status",title:"Success"}),Object(E.jsx)(R,{onFilterChange:F,value:"failed",currentValue:S.status,dataLength:null===L||void 0===L?void 0:L.data.length,idx:"status",title:"Failed"})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2 mt-3",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:D?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!T&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:S.user_id,data:!z&&V.data,label:"Customers",idx:"user_id",onFilterChange:F})}),Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:S.payment_method,data:me,label:"Payment Method",idx:"payment_method",onFilterChange:F})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{onClick:function(){return k()},variant:jt(Object(j.a)(Object(j.a)({},Ls),Fs),Object(j.a)(Object(j.a)({},w),S))?"light":"primary",style:{fontSize:14},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===L||void 0===L?void 0:L.data,columns:Y,setSelectedRows:b,filter:S,onFilterChange:function(e,t){_((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},isDataLoading:H,isSelectable:!1})]}),!T&&(null===L||void 0===L||null===(a=L.data)||void 0===a?void 0:a.length)>0?Object(E.jsx)(ee,{currentPage:null===L||void 0===L?void 0:L.current_page,lastPage:null===L||void 0===L?void 0:L.last_page,setPage:v,hasNextPage:!!(null===L||void 0===L?void 0:L.next_page_url),hasPrevPage:!!(null===L||void 0===L?void 0:L.prev_page_url)}):null," "]})})}),u.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",u.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",children:"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Hs="categories",Ts=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Hs,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):k.post("".concat(Hs),t,{headers:{"Content-Type":"application/json"}})},As=function(e){var t=e.id,a=void 0===t?"":t;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:Hs}),n=s.data,i=s.isLoading,r=Object(N.a)(Ts,{onSuccess:function(){setTimeout((function(){return Pe.invalidateQueries(Hs)}),500)}}),l=r.mutate,d=r.isLoading,o=r.error,j=r.status,u=n&&n;return console.log("apiData",n),i?Object(E.jsx)(X,{}):Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:{name:u?u.name:""},onSubmit:function(e){console.log(e),l({formdata:e,id:a})},children:function(){return Object(E.jsxs)(Re.b,{className:"w-100",children:["success"===j&&Object(E.jsx)(Me.a,{variant:"success",children:a?"Category updated successfully":"Category created successfully"}),o&&Object(E.jsx)(Me.a,{variant:"danger",children:o.message}),Object(E.jsx)("div",{className:"form-container py-2",children:Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0})}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:d,className:"w-100",children:d?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})},Vs="users",Is=function(e){return k.post("".concat(Vs,"/delete"),{id:e})},zs={q:"",role:"",page:null,perPage:25,disabled:""},Es=function(){var e,t,a,s,n=Object(d.g)(),i=Object(c.useState)(!1),u=Object(r.a)(i,2),b=u[0],x=u[1],f=Object(c.useState)(""),v=Object(r.a)(f,2),y=(v[0],v[1],Object(c.useState)([])),w=Object(r.a)(y,2),_=w[0],S=w[1],F=Object(c.useState)(zs),k=Object(r.a)(F,2),P=k[0],L=k[1];console.log(_.map((function(e){return e.id})));var D=Object(c.useState)(1),H=Object(r.a)(D,2),T=(H[0],H[1],Object(c.useState)("")),A=Object(r.a)(T,2),V=(A[0],A[1],Object(g.a)([Vs,,P],{onError:function(e){z(e,n)}})),I=V.data,M=V.isLoading,Y=V.isFetching,U=V.error,Q=Object(N.a)(Is,{onSuccess:function(){Pe.invalidateQueries(Vs),De("Users deleted successfully")},onError:function(e){z(e,n)}}),Z=Q.mutate,te=Q.isLoading,ae=function(e,t){L((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},ce=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Profile Pic",accessor:"profile_pic",Cell:function(e){return Object(E.jsx)(ot,{folder:"profile_pic",file:e.row.values.profile_pic})}},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Role",accessor:"role",Cell:function(e){return Object(E.jsx)(G,{variant:"primary",title:e.row.values.role})}},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.disabled})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var t;t=e.row.values.id,n.push("/users/create-edit",{id:t})}})}}]}),[]);return I||M&&Y?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Users",onClick:function(){n.push("/users/create-edit")},totalRecords:null===I||void 0===I?void 0:I.total}),!M&&Object(E.jsx)(l.a,{fluid:!0,children:Object(E.jsx)("div",{children:Object(E.jsxs)("div",{className:"filter",children:[Object(E.jsx)(R,{onFilterChange:ae,value:"",currentValue:P.role,dataLength:null===I||void 0===I||null===(e=I.data)||void 0===e?void 0:e.length,idx:"role",title:"All"}),Object(E.jsx)(R,{onFilterChange:ae,value:"customer",currentValue:P.role,dataLength:null===I||void 0===I||null===(t=I.data)||void 0===t?void 0:t.length,idx:"role",title:"Customer"}),Object(E.jsx)(R,{onFilterChange:ae,value:"agent",currentValue:P.role,dataLength:null===I||void 0===I||null===(a=I.data)||void 0===a?void 0:a.length,idx:"role",title:"Agent",isLast:!0})]})})}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:M?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!U&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:P.disabled,data:je,label:"Disabled Users?",idx:"disabled",onFilterChange:ae,defaultSelectTitle:"Show All"})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{variant:jt(zs,P)?"light":"primary",style:{fontSize:14},onClick:function(){return L(zs)},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===I||void 0===I?void 0:I.data,columns:ce,setSelectedRows:S,filter:P,onFilterChange:ae,isDataLoading:Y})]}),!U&&(null===I||void 0===I||null===(s=I.data)||void 0===s?void 0:s.length)>0?Object(E.jsx)(ee,{currentPage:null===I||void 0===I?void 0:I.current_page,lastPage:null===I||void 0===I?void 0:I.last_page,setPage:ae,hasNextPage:!!(null===I||void 0===I?void 0:I.next_page_url),hasPrevPage:!!(null===I||void 0===I?void 0:I.prev_page_url)}):null," "]})})}),Object(E.jsxs)(et.a,{show:b,onHide:function(){return x(!1)},children:[Object(E.jsx)(et.a.Header,{closeButton:!0,children:Object(E.jsx)(et.a.Title,{children:"Are you sure?"})}),Object(E.jsx)(et.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(E.jsxs)(et.a.Footer,{children:[Object(E.jsx)(O.a,{variant:"bg-light",onClick:function(){return x(!1)},children:"Close"}),Object(E.jsx)(O.a,{variant:"danger",children:te?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Disable"})]})]}),_.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",_.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){Z(_.map((function(e){return e.id})))},children:te?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Rs="users",Ms=function(e){return k.post("".concat(Rs,"/delete"),{id:e})},Ys={q:"",role:"admin",page:null,perPage:25,disabled:""},qs=function(){var e,t=Object(d.g)(),a=Object(c.useState)(!1),s=Object(r.a)(a,2),n=s[0],i=s[1],u=Object(c.useState)(""),b=Object(r.a)(u,2),x=(b[0],b[1],Object(c.useState)([])),f=Object(r.a)(x,2),v=f[0],y=f[1],w=Object(c.useState)(Ys),_=Object(r.a)(w,2),F=_[0],k=_[1];console.log(v.map((function(e){return e.id})));var P=Object(c.useState)(1),L=Object(r.a)(P,2),D=(L[0],L[1],Object(c.useState)("")),H=Object(r.a)(D,2),T=(H[0],H[1],Object(g.a)([Rs,,F],{onError:function(e){z(e,t)}})),A=T.data,V=T.isLoading,I=T.isFetching,R=T.error,M=Object(N.a)(Ms,{onSuccess:function(){Pe.invalidateQueries(Rs),De("Users deleted successfully")},onError:function(e){z(e,t)}}),Y=M.mutate,U=M.isLoading,Q=function(e,t){k((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},G=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Profile Pic",accessor:"profile_pic",Cell:function(e){return Object(E.jsx)("div",{className:"table-image",children:Object(E.jsx)("img",{src:"".concat(S,"profile_pic/").concat(e.row.values.profile_pic),alt:"name"})})}},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Role",accessor:"role"},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(E.jsx)(K,{value:e.row.values.disabled})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(E.jsx)(q,{date:e.row.values.created_at})}},{Header:"Actions",Cell:function(e){return Object(E.jsx)(B,{onClick:function(){var a;a=e.row.values.id,t.push("/users/create-edit",{id:a})}})}}]}),[]);return A||V&&I?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"Admins",onClick:function(){t.push("/users/create-edit")},totalRecords:null===A||void 0===A?void 0:A.total}),Object(E.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(E.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:V?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[!R&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(l.a,{className:"pt-3",children:Object(E.jsxs)(m.a,{className:"select-filter d-flex",children:[Object(E.jsx)(h.a,{md:"auto",children:Object(E.jsx)(W,{currentValue:F.disabled,data:je,label:"Disabled Users?",idx:"disabled",onFilterChange:Q,defaultSelectTitle:"Show All"})}),Object(E.jsx)(h.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(E.jsx)(O.a,{variant:jt(Ys,F)?"light":"primary",style:{fontSize:14},onClick:function(){return k(Ys)},children:"Reset Filters"})})]})}),Object(E.jsx)("hr",{}),Object(E.jsx)(Se,{data:null===A||void 0===A?void 0:A.data,columns:G,setSelectedRows:y,filter:F,onFilterChange:Q,isDataLoading:I})]}),!R&&(null===A||void 0===A||null===(e=A.data)||void 0===e?void 0:e.length)>0?Object(E.jsx)(ee,{currentPage:null===A||void 0===A?void 0:A.current_page,lastPage:null===A||void 0===A?void 0:A.last_page,setPage:Q,hasNextPage:!!(null===A||void 0===A?void 0:A.next_page_url),hasPrevPage:!!(null===A||void 0===A?void 0:A.prev_page_url)}):null," "]})})}),Object(E.jsxs)(et.a,{show:n,onHide:function(){return i(!1)},children:[Object(E.jsx)(et.a.Header,{closeButton:!0,children:Object(E.jsx)(et.a.Title,{children:"Are you sure?"})}),Object(E.jsx)(et.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(E.jsxs)(et.a.Footer,{children:[Object(E.jsx)(O.a,{variant:"bg-light",onClick:function(){return i(!1)},children:"Close"}),Object(E.jsx)(O.a,{variant:"danger",children:U?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Disable"})]})]}),v.length>0&&Object(E.jsxs)("div",{className:"delete-button rounded",children:[Object(E.jsx)("span",{children:Object(E.jsxs)("b",{children:["Delete ",v.length," rows"]})}),Object(E.jsx)(O.a,{variant:"danger",onClick:function(){Y(v.map((function(e){return e.id})))},children:U?"Loading...":"Delete"})]})]}):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(E.jsx)(p.d,{color:C}),Object(E.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Us="pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw",Bs=function(e){var t=e.userAddress;console.log("UserAddress 11122222",t);var a=t.lat,s=t.lng,n=Object(c.useRef)(null),i=Object(c.useState)(null),l=Object(r.a)(i,2),d=l[0],o=l[1],j=Object(c.useState)({width:350,height:100,lat:t&&a?parseInt(a):37.78,lng:t&&s?parseInt(s):-122.41,zoom:12}),u=Object(r.a)(j,1)[0],m=Object(c.useState)({lat:t&&parseInt(a),lng:t&&parseInt(s)}),h=Object(r.a)(m,1)[0],O=Object(c.useState)(null),p=Object(r.a)(O,2),f=p[0],v=(p[1],Object(c.useState)(null)),g=Object(r.a)(v,2),N=g[0],y=g[1];Object(c.useEffect)((function(){!d&&function(e,t){t.current&&e(new vc.a.Map({accessToken:Us,container:t.current||"",style:"mapbox://styles/mapbox/streets-v11",center:[u.lng,u.lat],zoom:u.zoom,interactive:!1,dragPan:!1}))}(o,n);var e=setInterval(C,1e3);return function(){return clearInterval(e)}}),[]),Object(c.useEffect)((function(){d&&n.current&&_()}),[d,n]),Object(c.useEffect)((function(){N?F():S()}),[f]);var w=function(e){return!!(e&&e.lat&&e.lng)},C=function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){if(w(h)){var e=document.createElement("div");e.className="user-marker",new vc.a.Marker(e).setLngLat([h.lat,h.lng]).addTo(d),C()}},S=function(){if(w(h)&&w(f)){var e=new window.MapboxDirections({accessToken:Us,controls:{instructions:!1},unit:"metric",profile:"mapbox/driving"});y(e),d.addControl(e,"top-left"),F()}},F=function(){N&&(N.setOrigin([h.lng,h.lat]),0===Object.keys(N.getDestination()).length&&N.setDestination([f.lng,f.lat]))};if(t)return t?Object(E.jsx)("div",{ref:n,style:{height:"150px",width:"100%"}}):Object(E.jsx)("h3",{style:{width:"100%",textAlign:"center",marginTop:"10px"},children:"No address found"})},Qs=function(e){var t=e.address;return console.log("address 444",t),Object(E.jsxs)("div",{className:"d-flex justify-content-between p-2 flex-column",children:[Object(E.jsx)(Bs,{userAddress:t}),Object(E.jsxs)("div",{className:"",children:[Object(E.jsx)("span",{className:"text-black font-weight-bold",children:t.name}),Object(E.jsx)("br",{}),Object(E.jsxs)("span",{className:"text-muted",children:[t.address,","]}),Object(E.jsx)("br",{}),Object(E.jsxs)("span",{className:"text-muted",children:[t.city,","]}),Object(E.jsx)("span",{className:"text-muted",children:t.state}),Object(E.jsx)("br",{}),Object(E.jsx)("span",{className:"text-muted",children:t.pincode})]})]})},Ws=function(){var e=Object(d.h)().state,t=e?e.id:null,a=qe({id:t,key:"users"}),c=a.data,s=c&&c;return a.isLoading?null:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"User Addresses"}),Object(E.jsx)(m.a,{className:"rounded mt-3",children:s&&s.addresses&&s.addresses.length>0?s.addresses.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(h.a,{md:6,children:Object(E.jsx)(Qs,{address:e})})})})):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(E.jsx)(re.a,{color:"#000",size:60}),Object(E.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No address found"})]})})})]})},Gs=["profile_pic"],Ks="users",Js=Ma.a().shape({phone:Ma.b().nullable().matches(/^[6-9]\d{9}$/,"Phone number is not valid").required("Phone number required")}),Xs=function(e){var t=e.formdata,a=e.id;return a?k.post("".concat(Ks,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):k.post("".concat(Ks),t,{headers:{"Content-Type":"multipart/form-data"}})},$s=function(){var e=Object(d.h)().state,t=Object(d.g)(),a=e?e.id:null;Object(c.useEffect)((function(){Ee.a.init()}),[]);var s=qe({id:a,key:Ks}),n=s.data,i=s.isLoading,r=Object(N.a)(Xs,{onSuccess:function(){if(setTimeout((function(){return Pe.invalidateQueries(Ks)}),500),t.replace("/users"),a)return De("User updated successfully");De("User created successfully")},onError:function(e){z(e,t)}}),l=r.mutate,o=r.isLoading,j=(r.error,r.status,n&&n);return i?Object(E.jsx)(X,{}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ue,{title:"Users"}),Object(E.jsx)(m.a,{className:"rounded",children:Object(E.jsx)(h.a,{className:"mx-auto",children:Object(E.jsx)(Re.c,{initialValues:j||{},onSubmit:function(e){console.log(e);var t=e.profile_pic,c=Object(te.a)(e,Gs),s=new FormData;for(var n in c)s.append(n,c[n]);"string"!==typeof t&&t&&s.append("profile_pic",t),l({formdata:s,id:a})},validationSchema:Js,children:function(e){var t=e.setFieldValue,a=e.errors;return Object(E.jsxs)(Re.b,{className:"w-100",children:[Object(E.jsxs)("div",{className:"form-container py-2",children:[Object(E.jsx)(Ge,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(E.jsx)(Ge,{name:"phone",placeholder:"phone",label:"Phone",error:a.phone,required:!0}),Object(E.jsx)(Ge,{name:"email",placeholder:"Email",label:"Email",required:!0}),Object(E.jsx)(Ge,{as:"select",selectData:je,name:"disabled",label:"Disabled?",placeholder:"Is User Disabled?"}),Object(E.jsx)(Ge,{as:"select",selectData:be,name:"role",label:"Role",placeholder:"Role"}),Object(E.jsx)(Ge,{name:"profile_pic",placeholder:"Profile Pic",label:"Choose Profile Pic",isFile:!0,setFieldValue:t})]}),Object(E.jsx)(m.a,{className:"d-flex justify-content-start",children:Object(E.jsx)(h.a,{md:"2",children:Object(E.jsx)(O.a,{type:"submit",disabled:o,className:"w-100",children:o?Object(E.jsx)(J.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})};var Zs=function(e){var t=e.vehicle;return Object(E.jsx)("div",{className:"card view-padding p-2 d-flex",children:Object(E.jsxs)("div",{className:"d-flex flex-column",children:[Object(E.jsx)("div",{className:"text-primary",children:Object(E.jsx)("div",{className:"d-flex justify-content-between",children:Object(E.jsxs)("div",{className:"text-black pb-3",style:{cursor:"pointer",fontWeight:600},children:[t.name," ",Object(E.jsx)("span",{children:t.is_default&&Object(E.jsx)(G,{variant:"primary",title:"Default"})})]})})}),Object(E.jsx)("hr",{className:"mb-3"}),Object(E.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(E.jsx)("table",{className:"w-100",children:Object(E.jsxs)("tbody",{children:[Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading",children:"Brand"}),Object(E.jsx)("td",{className:"text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:t.brand_id})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading",children:"Model"}),Object(E.jsx)("td",{className:"text-success font-weight-bold text-right",children:Object(E.jsx)("p",{className:"view-subheading",children:t.model_id})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading ",children:"Manf. Year"}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(E.jsx)("p",{className:"view-subheading",children:t.manufactoring_year})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading ",children:"Fuel Type"}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(E.jsx)("p",{className:"view-subheading",children:t.fuel_type})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading ",children:"Reg. Number"}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(E.jsx)("p",{className:"view-subheading",children:t.registration_number})})]}),Object(E.jsxs)("tr",{children:[Object(E.jsx)("td",{className:"view-heading ",children:"Reg. State"}),Object(E.jsx)("td",{className:"text-primary  font-weight-bold text-right",style:{fontSize:"24px"},children:Object(E.jsx)("p",{className:"view-subheading",children:t.registration_state})})]})]})})})]})})},en=function(){var e=Object(d.h)().state,t=e?e.id:null,a=qe({id:t,key:"users"}),c=a.data,s=c&&c;return a.isLoading?null:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($,{title:"User Vehicles"}),Object(E.jsx)(m.a,{className:"rounded mt-3",children:s&&s.vehicles&&s.vehicles.length>0?s.vehicles.map((function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(h.a,{md:6,children:Object(E.jsx)(Zs,{vehicle:e})})})})):Object(E.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center pt-3 pb-3",children:[Object(E.jsx)(re.a,{color:"#000",size:60}),Object(E.jsx)("h4",{className:"text-black font-weight-bold mt-2",children:"No vehicle found"})]})})})]})},tn=function(){var e=Object(d.h)().state,t=e?e.id:null;return console.log(t),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($s,{}),Object(E.jsx)("br",{}),t&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ws,{}),Object(E.jsx)(en,{})]})]})},an=Ma.a().shape({otp:Ma.b().max(4).min(4).required("Otp is required")}),cn=function(e){return k.post("auth/verify-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},sn=function(e){var t=Object(d.h)().state,a=Object(d.g)(),c=H((function(e){return e.setToken})),s=Ta((function(e){return e.setUser})),n=Object(N.a)(cn,{onSuccess:function(e){c(e.data.token),s(e.data.user),a.push("/")},onError:function(e){I(e.message)}}),i=n.mutate,r=n.isLoading;return Object(E.jsx)(l.a,{fluid:!0,className:"login-page",children:Object(E.jsx)(Re.c,{initialValues:{otp:t.otp||""},onSubmit:function(e){var a=new FormData;a.append("phone",t.phone),a.append("otp",e.otp),i(a)},validationSchema:an,children:function(e){var t=e.errors;return Object(E.jsx)(Re.b,{children:Object(E.jsxs)("div",{className:"d-flex flex-column align-items-center px-3 py-5",style:{width:"450px"},children:[Object(E.jsx)("h1",{className:"text-black",children:Object(E.jsx)("b",{children:"Verify"})}),Object(E.jsx)("p",{className:"text-muted",children:"Please enter the code sent on your mobile number"}),Object(E.jsx)("br",{}),Object(E.jsx)(Ge,{name:"otp",placeholder:"Enter the Otp",label:"Verify Otp",error:t.otp}),Object(E.jsx)(O.a,{variant:"primary",type:"submit",className:"full-width my-2",children:r?Object(E.jsx)(J.a,{animation:"border",variant:"secondary",size:"sm"}):Object(E.jsx)("div",{className:"text-white",children:Object(E.jsx)("b",{children:"Verify"})})})]})})}})})},nn=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryKey,e.next=3,w.a.get("".concat(_).concat(a[0]),{headers:{Authorization:"Bearer ".concat(a[1])}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rn=function(){var e=Object(d.g)(),t=H((function(e){return e.accessToken})),a=Ta((function(e){return e.setUser}));return Object(g.a)(["profile",t],nn,{onSuccess:function(e){a(e)},onError:function(t){z(t,e)}})},ln=function(e){var t=V(),a=t.toasts,c=t.hideToast;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"position-fixed",style:{bottom:"2%",right:"2%",zIndex:1001,minWidth:"200px"},children:a.map((function(e){return setTimeout((function(){return c(e.id)}),3e3),Object(E.jsx)(Me.a,{variant:"danger",children:e.message})}))})})},dn=function(e){var t=Le(),a=t.toasts,c=t.hideToast;return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("div",{className:"position-fixed ",style:{bottom:"2%",right:"2%",zIndex:1001,minWidth:"200px"},children:a.map((function(e){return setTimeout((function(){return c(e.id)}),3e3),Object(E.jsx)(Me.a,{variant:"success",children:e.message})}))})})},on=["component"],jn=function(e){var t=e.component,a=Object(te.a)(e,on);return Object(E.jsx)(d.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return Object(E.jsx)(t,Object(j.a)({},e))}}))},un=function(){return Object(E.jsx)(l.a,{fluid:!0,style:{position:"fixed",height:"100vh",width:"100vw",zIndex:1e10},className:"d-flex align-items-center justify-content-center ",children:Object(E.jsxs)("div",{className:"d-flex align-items-center justify-content-center flex-column ",children:[Object(E.jsx)(X,{}),Object(E.jsx)("p",{className:"text-center text-primary font-weight-bold",children:"Verifing..."})]})})},bn=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],s=t[1],n=rn().isLoading;console.log({isVerifingLoggedInUser:n});var i=H((function(e){return e.accessToken}));i&&(k.defaults.headers.common.Authorization="Bearer ".concat(i)),Object(c.useEffect)((function(){return o(),window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[]);var o=function(){var e=window.innerWidth;s(e>800)},j=Object(c.useState)(!1),u=Object(r.a)(j,2),b=u[0],x=u[1],m=Object(d.h)().pathname;function h(){return!m.includes("login")&&!m.includes("verify-otp")}return n?Object(E.jsx)(un,{}):Object(E.jsx)(Ga.Provider,{value:a,children:Object(E.jsxs)("div",{className:"App",children:[h()?Object(E.jsx)(cc,{isNavOpen:b,setIsNavOpen:x}):"",Object(E.jsx)("div",{}),h()?Object(E.jsx)(Ss,{isNavOpen:b,setIsNavOpen:x}):"",Object(E.jsxs)(l.a,{fluid:!0,className:"main-layout",children:[Object(E.jsxs)(d.d,{children:[Object(E.jsx)(d.b,{exact:!0,path:"/",children:Object(E.jsx)(d.a,{to:"/dashboard"})}),Object(E.jsx)(jn,{path:"/dashboard",exact:!0,component:fa}),Object(E.jsx)(jn,{path:"/brands",exact:!0,component:yt}),Object(E.jsx)(jn,{path:"/brand-models",exact:!0,component:mt}),Object(E.jsx)(jn,{path:"/categories",exact:!0,component:zt}),Object(E.jsx)(jn,{path:"/users",exact:!0,component:Es}),Object(E.jsx)(jn,{path:"/admin",exact:!0,component:qs}),Object(E.jsx)(jn,{path:"/services",exact:!0,component:as}),Object(E.jsx)(jn,{path:"/faqs",exact:!0,component:ya}),Object(E.jsx)(jn,{path:"/plans",exact:!0,component:Rc}),Object(E.jsx)(jn,{path:"/coupons",exact:!0,component:Zt}),Object(E.jsx)(jn,{path:"/orders",exact:!0,component:bc}),Object(E.jsx)(jn,{path:"/cities",exact:!0,component:Bt}),Object(E.jsx)(jn,{path:"/testimonials",exact:!0,component:vs}),Object(E.jsx)(jn,{path:"/advertisements",exact:!0,component:Ie}),Object(E.jsx)(jn,{path:"/brands/create-edit",exact:!0,component:St}),Object(E.jsx)(jn,{path:"/brand-models/create-edit",exact:!0,component:ft}),Object(E.jsx)(jn,{path:"/categories/create-edit",exact:!0,component:Mt}),Object(E.jsx)(jn,{path:"/users/create-edit",exact:!0,component:tn}),Object(E.jsx)(jn,{path:"/services/create-edit",exact:!0,component:is}),Object(E.jsx)(jn,{path:"/plans/create-edit",exact:!0,component:Uc}),Object(E.jsx)(jn,{path:"/coupons/create-edit",exact:!0,component:ia}),Object(E.jsx)(jn,{path:"/faqs/create-edit",exact:!0,component:_a}),Object(E.jsx)(d.b,{path:"/cities/create-edit",exact:!0,component:Kt}),Object(E.jsx)(jn,{path:"/advertisements/create-edit",exact:!0,component:Ze}),Object(E.jsx)(jn,{path:"/transactions",exact:!0,component:Ds}),Object(E.jsx)(jn,{path:"/issues",exact:!0,component:Fa}),Object(E.jsx)(jn,{path:"/issues/create-edit",exact:!0,component:La}),Object(E.jsx)(jn,{path:"/permissions",exact:!0,component:Pc}),Object(E.jsx)(jn,{path:"/roles",exact:!0,component:Gc}),Object(E.jsx)(jn,{path:"/push-notifications",exact:!0,component:rc}),Object(E.jsx)(jn,{path:"/cart",exact:!0,component:Ht}),Object(E.jsx)(jn,{path:"/booking-slots",exact:!0,component:it}),Object(E.jsx)(jn,{path:"/booking-slots/create-edit",exact:!0,component:dt}),Object(E.jsx)(jn,{path:"/push-notifications/create-edit",exact:!0,component:jc}),Object(E.jsx)(jn,{path:"/testimonials/create-edit",exact:!0,component:ws}),Object(E.jsx)(jn,{path:"/assign-permission/create-edit",exact:!0,component:Hc}),Object(E.jsx)(jn,{path:"/permissions/create-edit",exact:!0,component:Vc}),Object(E.jsx)(jn,{path:"/roles/create-edit",exact:!0,component:$c}),Object(E.jsx)(jn,{path:"/transactions/:id",exact:!0,component:As}),Object(E.jsx)(jn,{path:"/subscriptions",exact:!0,component:ms}),Object(E.jsx)(jn,{path:"/static-pages",exact:!0,component:os}),Object(E.jsx)(jn,{path:"/static-pages/create-edit",exact:!0,component:bs}),Object(E.jsx)(jn,{path:"/subscriptions/:id",exact:!0,component:hs}),Object(E.jsx)(jn,{path:"/orders/:id",exact:!0,component:_c}),Object(E.jsx)(jn,{path:"/issues/:id",exact:!0,component:Ra}),Object(E.jsx)(jn,{path:"/orders/assign-agent/:id",exact:!0,component:Oc}),Object(E.jsx)(d.b,{path:"/login",exact:!0,component:Ua}),Object(E.jsx)(d.b,{path:"/verify-otp",exact:!0,component:sn})]}),Object(E.jsx)(ln,{}),Object(E.jsx)(dn,{})]})]})})},xn=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,908)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))},mn=a(224);i.a.render(Object(E.jsx)(s.a.StrictMode,{children:Object(E.jsx)(mn.a,{client:Pe,children:Object(E.jsx)(Xa.a,{children:Object(E.jsx)(bn,{})})})}),document.getElementById("root")),xn()}},[[874,1,2]]]);
//# sourceMappingURL=main.84eeeb1b.chunk.js.map