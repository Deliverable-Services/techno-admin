(this.webpackJsonpcarsfari_admin=this.webpackJsonpcarsfari_admin||[]).push([[0],{1033:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(27),r=a.n(n),i=(a(315),a(524),a(525),a(526),a(527),a(528),a(529),a(7)),l=a(1060),d=a(40),o=a(81),j=a(14),u=a(33),b=a.n(u),x=a(59),m=a(483),O=a(1075),h=a(1061),p=a(22),f=a(24),g=a(1080),v=a(1082),N=a(1),y=function(e){var t=e.onFilterChange,a=e.title,c=e.dataLength,s=e.currentValue,n=e.value,r=e.idx,i=e.isLast,l=void 0!==i&&i;return Object(N.jsxs)("span",{onClick:function(){return t(r,n)},className:"".concat(s===n?"text-black font-weight-bold":"text-muted"),style:{cursor:"pointer"},children:[a," ",s===n?"(".concat(c,")"):"",!l&&Object(N.jsx)("span",{className:"mx-2",children:"|"})]})},w=a(21),C=a.n(w),_=function(e){var t=e.date;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:t?C()(t).format("DD:MM:YY"):"NA"}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{children:["(",t?C()(t).format("hh:mm"):"NA",")"]})]})},S=a(1059),F=function(e){var t=e.value;return Object(N.jsx)(S.a,{variant:1===parseInt(t)?"primary":"danger",children:1==parseInt(t)?"Yes":"No"})},k=function(){return Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center",children:Object(N.jsx)(h.a,{variant:"primary",animation:"border"})})},P=a(1081),H=function(e){var t=e.currentPage,a=e.setPage,c=e.hasNextPage,s=e.hasPrevPage,n=e.lastPage;return Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-end",children:Object(N.jsxs)(P.a,{children:[Object(N.jsx)(P.a.First,{onClick:function(){return a(1)}}),s&&Object(N.jsx)(P.a.Prev,{onClick:function(){return a(t-1)}}),Object(N.jsx)(P.a.Item,{active:!0,children:Object(N.jsx)("span",{className:"text-secondary",children:t})}),c&&Object(N.jsx)(P.a.Next,{onClick:function(){return a(t+1)}}),Object(N.jsx)(P.a.Last,{onClick:function(){return a(n)}})]})})},T=a(53),L=a(60),D=a(1073),A=a(247),z=a(1074),I=a(1063),V=a(1062),E=a(510),B=a(232),U=a(195),M=a(140),q=(window.innerHeight,"#2c7be5"),R="#ECB054",Q="http://carsafai.deliverable.services/upload/";function Y(e){var t=e.preGlobalFilteredRows,a=e.globalFilter,c=e.setGlobalFilter,n=t.length,r=s.a.useState(a),l=Object(i.a)(r,2),d=l[0],o=l[1],j=Object(M.useAsyncDebounce)((function(e){c(e||void 0)}),200);return Object(N.jsx)("input",{value:d||"",onChange:function(e){o(e.target.value),j(e.target.value)},placeholder:"Search ".concat(n," records...")})}var K=s.a.forwardRef((function(e,t){e.indeterminate;var a=Object(L.a)(e,["indeterminate"]),c=s.a.useRef(null)||t;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(D.a,Object(j.a)(Object(j.a)({defaultChecked:!0,color:"primary",size:"small",ref:c},a),{},{inputProps:{"aria-label":"secondary checkbox"}}))})}));var G=function(e){var t=e.provided,a=e.row,c=e.snapshot;return Object(N.jsx)("tr",Object(j.a)(Object(j.a)(Object(j.a)(Object(j.a)({ref:t.innerRef},a.getRowProps()),t.draggableProps),t.dragHandleProps),{},{style:Object(j.a)(Object(j.a)({},t.draggableProps.style),{},{opacity:c.isDragging?".5":"1"}),children:a.cells.map((function(e){return Object(N.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{children:e.render("Cell",{dragHandleProps:t.dragHandleProps,isSomethingDragging:c.isDragging})}))}))}))},J=function(e){var t=e.row;return Object(N.jsx)("tr",Object(j.a)(Object(j.a)({},t.getRowProps()),{},{children:t.cells.map((function(e){return Object(N.jsx)("td",Object(j.a)(Object(j.a)({},e.getCellProps()),{},{children:e.render("Cell")}))}))}))},W=function(e){var t=e.data,a=e.columns,c=e.updateOrder,n=e.initialState,r=e.isDraggable,d=void 0!==r&&r,o=e.setSelectedRows,u=s.a.useState(t),b=Object(i.a)(u,2),x=b[0],m=b[1];s.a.useEffect((function(){return m(t)}),[t]);var O=s.a.useCallback((function(e){return e.id}),[]),h=Object(M.useTable)({columns:a,data:x,initialState:n},M.useFilters,M.useGlobalFilter,M.useSortBy,M.useRowSelect,O,(function(e){e.visibleColumns.push((function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return Object(N.jsx)("div",{children:Object(N.jsx)(K,Object(j.a)({},t()))})},Cell:function(e){var t=e.row;return Object(N.jsx)("div",{children:Object(N.jsx)(K,Object(j.a)({},t.getToggleRowSelectedProps()))})}}].concat(Object(T.a)(e))}))})),g=h.getTableProps,v=(h.getTableBodyProps,h.headerGroups),y=h.rows,w=h.prepareRow,C=h.allColumns,_=h.state,S=h.preGlobalFilteredRows,F=h.setGlobalFilter,k=h.selectedFlatRows,P=h.state.selectedRowIds;return s.a.useEffect((function(){o&&o((function(){var e=[];return k.map((function(t){e.push(t.original)})),e}))}),[P]),Object(N.jsxs)("div",{children:[Object(N.jsxs)(l.a,{fluid:!0,className:"card-header pb-3 d-flex align-items-center position-relative",children:[Object(N.jsx)("div",{className:"w-100",children:Object(N.jsxs)("div",{className:"search-input",children:[Object(N.jsx)(p.e,{size:24}),Object(N.jsx)(Y,{preGlobalFilteredRows:S,globalFilter:_.globalFilter,setGlobalFilter:F})]})}),Object(N.jsxs)(z.a,{children:[Object(N.jsx)(z.a.Toggle,{id:"dropdown-basic",className:"filter-button bg-transparent border-0 text-primary",children:Object(N.jsx)(B.b,{size:24,color:q})}),Object(N.jsx)(z.a.Menu,{className:"p-2",children:C.map((function(e){return e.disableGlobalFilter=!e.isVisible,Object(N.jsxs)("div",{className:"custom-control custom-checkbox",children:[Object(N.jsx)("input",Object(j.a)(Object(j.a)({type:"checkbox"},e.getToggleHiddenProps()),{},{className:"d-none",id:e.id})),Object(N.jsxs)("div",{className:"custom-control custom-checkbox ",children:[Object(N.jsx)("input",Object(j.a)({type:"checkbox",className:"custom-control-input",id:e.id},e.getToggleHiddenProps())),Object(N.jsx)("label",{className:"custom-control-label",htmlFor:e.id,children:Object(N.jsx)("p",{children:e.Header})})]})]},e.id)}))})]})]}),Object(N.jsx)(V.a,{backend:E.a,children:Object(N.jsx)("div",{className:"tableFixed",children:Object(N.jsxs)(I.a,Object(j.a)(Object(j.a)({className:"table-fixed"},g()),{},{responsive:!0,hover:!0,size:"sm",children:[Object(N.jsx)("thead",{className:"bg-grey-primary",children:v.map((function(e){return Object(N.jsx)("tr",Object(j.a)(Object(j.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(N.jsxs)("th",Object(j.a)(Object(j.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(N.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(N.jsx)(U.c,{}):Object(N.jsx)(U.b,{}):""})]}))}))}))}))}),Object(N.jsx)(A.a,{onDragEnd:function(e){var t=e.source,a=e.destination;if(console.log({result:e}),a){!function(e,t){var a=Object(T.a)(x),c=a.splice(e,1),s=Object(i.a)(c,1)[0];a.splice(t,0,s),m(a)}(t.index,a.index);var s=x[e.draggableId];console.log({row:s}),c&&c(s.id,a.index,s)}},children:Object(N.jsx)(A.c,{droppableId:"table-body",children:function(e,t){return Object(N.jsxs)("tbody",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[y.map((function(e,t){return w(e),d?Object(N.jsx)(A.b,{draggableId:e.id,index:t,children:function(t,a){return Object(N.jsx)(G,{provided:t,row:e,snapshot:a})}},e.id):Object(N.jsx)(J,{row:e})})),e.placeholder]}))}})})]}))})}),0===y.length?Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"No data found"})]})}):null]})},X=a(233),$=a.n(X),Z=$.a.create({baseURL:"http://carsafai.deliverable.services/admin/v1/"}),ee=a(485),te=a.n(ee),ae=a(1078),ce=a(94),se=a(76),ne=a(1079),re=Object(ce.a)(Object(se.combine)({toasts:[]},(function(e){return{hideToast:function(t){return e((function(e){return{toasts:e.toasts.filter((function(e){return e.id!==t}))}}))},showToast:function(t){return e((function(e){return{toasts:[].concat(Object(T.a)(e.toasts),[Object(j.a)(Object(j.a)({},t),{},{id:Object(ne.a)()})])}}))}}}))),ie=function(e){re.getState().showToast({message:e})},le=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c,s,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in a=t.queryKey,console.log({queryKey:a}),c={},a[2])a[2][s]&&(c[s]=a[2][s]);return console.log({params:c}),e.next=7,Z.get("".concat(a[0],"?page=").concat(a[1]),{params:c});case 7:if(200===(n=e.sent).status){e.next=12;break}throw ie(n.status.toString()),de.invalidateQueries("profile"),new Error;case 12:return e.next=14,n.data;case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=new ae.a({defaultOptions:{queries:{staleTime:3e5,queryFn:le,onError:function(e){ie(e.message),de.invalidateQueries("profile")},keepPreviousData:!0}}}),oe="banners/list",je=function(e){return Z.delete("".concat(oe,"/").concat(e))},ue={type:"latest"},be=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryKey,e.next=3,Z.get("".concat(a[0],"/").concat(a[1].toLowerCase()));case 3:return c=e.sent,e.next=6,c.data;case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),u=Object(i.a)(r,2),b=(u[0],u[1]),x=Object(c.useState)(!1),w=Object(i.a)(x,2),C=w[0],S=w[1],P=Object(c.useState)(ue),T=Object(i.a)(P,2),L=T[0],D=T[1],A=Object(g.a)([oe,L.type],be),z=A.data,I=A.isLoading,V=A.isFetching,E=A.error,B=Object(v.a)(je,{onSuccess:function(){de.invalidateQueries(oe),S(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),U=B.mutate,M=B.isLoading,Y=function(e,t){D((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))};console.log({data:z,isLoading:I,isFetching:V});var K=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(N.jsx)(te.a,{images:[{src:"".concat(Q,"banners/").concat(e.row.values.image),title:e.row.values.image}],thumbnailWidth:"100px",thumbnailHeight:"50px"})}},{Header:"Name",accessor:"name"},{Header:"Order",accessor:"order"},{Header:" Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Valid from",accessor:"valid_from",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.valid_from})}},{Header:"Valid To",accessor:"valid_to",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.valid_to})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/advertisements/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),S(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return z||I&&V?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(N.jsx)("h2",{className:"font-weight-bold",children:"Advertisement"}),Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(m.a,{variant:"primary",onClick:function(){e.push("/advertisements/create-edit")},children:Object(N.jsxs)("div",{className:"text-white d-flex ",children:[Object(N.jsx)(p.c,{size:25})," ",Object(N.jsx)("b",{children:"Create"})]})})})]}),(!I||!V)&&Object(N.jsx)(l.a,{fluid:!0,children:Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"filter",children:[Object(N.jsx)(y,{onFilterChange:Y,value:"latest",currentValue:L.type,dataLength:null===z||void 0===z?void 0:z.length,idx:"type",title:"Latest"}),Object(N.jsx)(y,{onFilterChange:Y,value:"trending",currentValue:L.type,dataLength:null===z||void 0===z?void 0:z.length,idx:"type",title:"Trending",isLast:!0})]})})}),Object(N.jsx)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:I||V?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!E&&Object(N.jsx)(W,{data:z,columns:K}),!E&&z.length>0?Object(N.jsx)(H,{currentPage:null===z||void 0===z?void 0:z.current_page,lastPage:null===z||void 0===z?void 0:z.last_page,setPage:b,hasNextPage:!!(null===z||void 0===z?void 0:z.next_page_url),hasPrevPage:!!(null===z||void 0===z?void 0:z.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:C,onHide:function(){return S(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return S(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){U(s)},children:M?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Disable"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},me=function(e){var t=e.title,a=e.onClick;return Object(N.jsxs)("div",{className:"d-flex justify-content-between py-2",children:[Object(N.jsx)("h2",{className:"font-weight-bold",children:t}),a&&Object(N.jsx)(m.a,{variant:"primary",onClick:a,children:Object(N.jsxs)("div",{className:"text-white",children:[Object(N.jsx)(p.c,{size:25})," ",Object(N.jsx)("b",{children:"Create"})]})})]})},Oe="brand-models",he=function(e){return Z.delete("".concat(Oe,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},pe=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(g.a)([Oe,j],{onError:function(e){ie(e.response.data.message)}}),S=C.data,P=C.isLoading,T=C.isFetching,L=C.error,D=Object(v.a)(he,{onSuccess:function(){de.invalidateQueries(Oe),w(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),A=D.mutate,z=D.isLoading,I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(N.jsx)("div",{className:"table-image",children:Object(N.jsx)("img",{src:"".concat(Q,"brands/").concat(e.row.values.image),alt:e.row.values.image})})}},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url"},{Header:"Brand",accessor:"brand.name"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/brand-models/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),w(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return S||P&&T?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Brand Models",onClick:function(){e.push("/brand-models/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P||T?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!L&&Object(N.jsx)(W,{data:S,columns:I}),!L&&S.length>0?Object(N.jsx)(H,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:u,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:y,onHide:function(){return w(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return w(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){A(s)},children:z?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},fe=a(49),ge=a.n(fe),ve=a(19),Ne=a(1064),ye=a(488),we=a(1065),Ce=function(){var e=Object(x.a)(b.a.mark((function e(t,a){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("".concat(t,"/").concat(a));case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),_e=function(e){var t=e.id,a=e.key;return Object(g.a)([a],(function(){return Ce(a,t)}),{enabled:!!t})},Se=function(e){var t=e.title,a=Object(d.f)();return Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(N.jsx)("h2",{className:"font-weight-bold",children:t}),Object(N.jsx)(m.a,{variant:"primary",onClick:function(){return a.goBack()},children:Object(N.jsxs)("div",{className:"text-white",children:[Object(N.jsx)(f.a,{size:25})," ",Object(N.jsx)("b",{children:"Back"})]})})]})},Fe=a(1076),ke=function(e){var t=e.isFile,a=e.error,c=e.label,s=e.as,n=void 0===s?"input":s,r=e.setFieldValue,l=(e.size,e.selectData),d=e.selectValueKey,o=e.selectTitleKey,u=Object(L.a)(e,["isFile","error","label","as","setFieldValue","size","selectData","selectValueKey","selectTitleKey"]),b=Object(ve.c)(u),x=Object(i.a)(b,1)[0];return Object(N.jsx)("div",{className:"w-100",children:Object(N.jsxs)(Fe.a.Group,{children:[c?Object(N.jsx)(Fe.a.Label,{htmlFor:x.name,children:c}):null,t?Object(N.jsx)(Fe.a.File,{id:"custom-file",label:"Choose file",custom:!0,onChange:function(e){var t=e.currentTarget.files;t&&r&&r(x.name,t[0])}}):"select"===n?Object(N.jsxs)(Fe.a.Control,Object(j.a)(Object(j.a)({},x),{},{id:x.name,as:"select",children:[Object(N.jsx)("option",{value:"",disabled:!0,children:c}),l&&l.map((function(e){return Object(N.jsx)("option",{value:e[d||"id"],children:e[o||"name"]})}))]})):Object(N.jsx)(Fe.a.Control,Object(j.a)(Object(j.a)(Object(j.a)({},x),u),{},{id:x.name,as:n})),a&&Object(N.jsx)(Fe.a.Text,{className:"text-danger",children:a})]})})},Pe=[{id:1,name:"Yes"},{id:0,name:"No"}],He=[{id:"percentage",name:"Percentage"},{id:"discount",name:"Discount"}],Te=[{id:"admin",name:"Admin"},{id:"customer",name:"Customer"},{id:"agent",name:"Agent"}],Le=[{id:"1",name:1},{id:"2",name:2},{id:"3",name:3}],De=[{id:"25",name:25},{id:"35",name:35},{id:"45",name:45}],Ae="brand-models",ze=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(Ae,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(Ae),t,{headers:{"Content-Type":"multipart/form-data"}})},Ie=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=Object(g.a)(["brands"]),s=a.data,n=a.isLoading,r=_e({id:t,key:Ae}),i=r.data,l=r.isLoading,o=Object(v.a)(ze,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(Ae)}),500)}}),j=o.mutate,u=o.isLoading,b=o.error,x=o.status;console.log(i);var O=i&&i;return l?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Se,{title:"Brands Model"}),Object(N.jsx)(Ne.a,{className:"rounded",children:Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:O||{},onSubmit:function(e){var a=new FormData;a.append("name",e.name),e.image&&a.append("image",e.image),a.append("url",e.url),a.append("brand_id",e.brand_id),a.append("is_active",e.is_active),j({formdata:a,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===x&&Object(N.jsx)(we.a,{variant:"success",children:t?"Brand model updated successfully":"Brand model created successfully"}),b&&Object(N.jsx)(we.a,{variant:"danger",children:b.message}),Object(N.jsxs)("div",{className:"form-container  py-2 ",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(N.jsx)(ke,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(N.jsx)(ke,{name:"image",placeholder:"image",label:"Choose Brand Model Image",isFile:!0,setFieldValue:a}),Object(N.jsx)(ke,{name:"brand_id",placeholder:"Brand",label:"Choose Brand",as:"select",selectData:!n&&s.data}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:u,className:"w-100",children:u?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},Ve="brands",Ee=function(e){return Z.delete("".concat(Ve,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},Be=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(c.useState)(!1),S=Object(i.a)(C,2),P=S[0],T=S[1],L=Object(g.a)([Ve,y],{onError:function(e){ie(e.response.data.message)}}),D=L.data,A=L.isLoading,z=L.isFetching,I=L.error,V=Object(v.a)(Ee,{onSuccess:function(){de.invalidateQueries(Ve),T(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),E=V.mutate,B=V.isLoading,U=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Logo",accessor:"logo",Cell:function(e){return Object(N.jsx)("div",{className:"table-image",children:Object(N.jsx)("img",{src:"".concat(Q,"brands/").concat(e.row.values.logo),alt:"name"})})}},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/brands/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),T(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return D||A&&z?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Brands",onClick:function(){e.push("/brands/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:A||z?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!I&&Object(N.jsx)(W,{data:D,columns:U,setSelectedRows:u}),!I&&D.length>0?Object(N.jsx)(H,{currentPage:null===D||void 0===D?void 0:D.current_page,lastPage:null===D||void 0===D?void 0:D.last_page,setPage:w,hasNextPage:!!(null===D||void 0===D?void 0:D.next_page_url),hasPrevPage:!!(null===D||void 0===D?void 0:D.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:P,onHide:function(){return T(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return T(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){E(s)},children:B?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]}),j.length>0&&Object(N.jsxs)("div",{className:"delete-button rounded",children:[Object(N.jsx)("span",{children:Object(N.jsxs)("b",{children:["Delete ",j.length," rows"]})}),Object(N.jsx)(m.a,{variant:"danger",children:"Delete"})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Ue=Object(ce.a)(Object(se.combine)({toasts:[]},(function(e){return{hideToast:function(t){return e((function(e){return{toasts:e.toasts.filter((function(e){return e.id!==t}))}}))},showToast:function(t){return e((function(e){return{toasts:[].concat(Object(T.a)(e.toasts),[Object(j.a)(Object(j.a)({},t),{},{id:Object(ne.a)()})])}}))}}}))),Me=function(e){Ue.getState().showToast({message:e})},qe="brands",Re=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(qe,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(qe),t,{headers:{"Content-Type":"multipart/form-data"}})},Qe=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:qe}),s=a.data,n=a.isLoading,r=Object(v.a)(Re,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(qe)}),500),Me("Message of success")},onError:function(){ie("Failed!")}}),i=r.mutate,l=r.isLoading,o=r.error,j=r.status,u=s;return n?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Se,{title:"Brands"}),Object(N.jsx)(Ne.a,{className:"rounded",children:Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:u||{},onSubmit:function(e){var a=new FormData;a.append("name",e.name),a.append("url",e.url),a.append("is_active",e.is_active),e.logo&&a.append("logo",e.logo),i({formdata:a,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:t?"Brand updated successfully":"Brand created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsxs)("div",{className:"form-container ",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(N.jsx)(ke,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(N.jsx)(ke,{name:"logo",placeholder:"logo",label:"Choose Brand Logo",isFile:!0,setFieldValue:a}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:l,className:"w-100",children:l?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},Ye="categories",Ke=function(e){return Z.delete("".concat(Ye,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},Ge=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(g.a)([Ye,j],{onError:function(e){ie(e.response.data.message)}}),S=C.data,P=C.isLoading,T=C.isFetching,L=C.error,D=Object(v.a)(Ke,{onSuccess:function(){de.invalidateQueries(Ye),w(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),A=D.mutate,z=D.isLoading,I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Name",accessor:"name"},{Header:"Url",accessor:"url"},{Header:"Order",accessor:"order",isSortedDesc:!0},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/categories/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),w(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return S||P&&T?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Categories",onClick:function(){e.push("/categories/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P||T?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!L&&Object(N.jsx)(W,{data:S,columns:I}),!L&&S.length>0?Object(N.jsx)(H,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:u,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:y,onHide:function(){return w(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return w(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){A(s)},children:z?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Je="categories",We=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(Je,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(Je),t,{headers:{"Content-Type":"application/json"}})},Xe=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:Je}),s=a.data,n=a.isLoading,r=Object(v.a)(We,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(Je)}),500)}}),i=r.mutate,l=r.isLoading,o=r.error,j=r.status,u=s&&s;return n?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Se,{title:"Categories"}),Object(N.jsx)(Ne.a,{className:"rounded",children:Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:u||{},onSubmit:function(e){var a=new FormData;a.append("name",e.name),a.append("url",e.url),a.append("order",e.order),a.append("is_active",e.is_active),e.logo&&a.append("logo",e.logo),i({formdata:a,id:t})},children:function(e){e.setFieldValue;return Object(N.jsxs)(ve.a,{className:"w-100",children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:t?"Category updated successfully":"Category created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsxs)("div",{className:"form-container py-2",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(N.jsx)(ke,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(N.jsx)(ke,{name:"order",placeholder:"order",label:"order",required:!0}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"})]}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:l,className:"w-100",children:l?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},$e="coupons",Ze=function(e){return Z.delete("".concat($e,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},et=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(g.a)([$e,j],{onError:function(e){ie(e.response.data.message)}}),S=C.data,P=C.isLoading,T=C.isFetching,L=C.error,D=Object(v.a)(Ze,{onSuccess:function(){de.invalidateQueries($e),w(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),A=D.mutate,z=D.isLoading,I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Coupon Code",accessor:"coupon_code"},{Header:"Condition",accessor:"condition"},{Header:"Conditioin Type",accessor:"condition_type"},{Header:"Valid From",accessor:"valid_from",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.valid_from})}},{Header:"Valid To",accessor:"valid_to",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.valid_to})}},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/coupons/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),w(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return S||P&&T?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Coupons",onClick:function(){e.push("/coupons/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P||T?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!L&&Object(N.jsx)(W,{data:S,columns:I}),!L&&S.length>0?Object(N.jsx)(H,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:u,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:y,onHide:function(){return w(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return w(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){A(s)},children:z?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},tt=function(e){var t=e.label,a=e.name,s=e.error,n=e.setFieldValue,r=Object(L.a)(e,["label","name","error","setFieldValue"]),l=Object(ve.c)(Object(j.a)(Object(j.a)({},r),{},{name:a})),d=Object(i.a)(l,1)[0],o=Object(c.useState)(C()(d.value).format("YYYY-MM-DDThh:mm")),u=Object(i.a)(o,2),b=u[0],x=u[1];return Object(N.jsx)("div",{className:"w-100",children:Object(N.jsxs)(Fe.a.Group,{children:[t?Object(N.jsx)(Fe.a.Label,{htmlFor:d.name,children:t}):null,Object(N.jsx)(Fe.a.Control,{id:d.name,value:b,onChange:function(e){n(a,e.target.value),x(e.target.value)},type:"datetime-local"}),s&&Object(N.jsx)(Fe.a.Text,{className:"text-danger",children:s})]})})},at=a(306),ct=a.n(at),st=function(e){var t=e.name,a=e.label,s=e.setFieldValue,n=Object(L.a)(e,["name","label","setFieldValue"]),r=Object(ve.c)(Object(j.a)({name:t},n)),d=Object(i.a)(r,1)[0],o=Object(c.useState)(ct.a.createEditorState(d.value)),u=Object(i.a)(o,2),b=u[0],x=u[1];return Object(N.jsxs)(l.a,{fluid:!0,className:"p-0",style:{height:"400px",zIndex:-1},children:[Object(N.jsx)("h4",{className:"text-black",children:a}),Object(N.jsx)("div",{className:"mx-auto",children:Object(N.jsx)(ct.a,{value:b,onChange:function(e){s(t,e.toHTML()),x(e)},language:"en",style:{height:"100%",zIndex:0}})})]})},nt="coupons",rt=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(nt,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):Z.post("".concat(nt),t,{headers:{"Content-Type":"applicatioin/json"}})},it=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:nt}),s=a.data,n=a.isLoading,r=Object(v.a)(rt,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(nt)}),500)}}),i=r.mutate,l=r.isLoading,o=r.error,j=r.status,u=s&&s;return console.log("apiData",u),n?Object(N.jsx)(k,{}):Object(N.jsxs)(Ne.a,{className:"rounded",children:[Object(N.jsx)(Se,{title:"Coupons"}),Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:u||{},onSubmit:function(e){console.log("values",e),i({formdata:e,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:t?"Coupon updated successfully":"Coupon created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsxs)("div",{className:"form-container  py-2 ",children:[Object(N.jsx)(ke,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(N.jsx)(ke,{name:"coupon_code",placeholder:"Coupon Code",label:"Coupon Code",required:!0}),Object(N.jsx)(ke,{type:"number",name:"condition",placeholder:"Condition",label:"Condition",required:!0}),Object(N.jsx)(tt,{name:"valid_from",label:"Valid From",setFieldValue:a}),Object(N.jsx)(tt,{name:"valid_to",label:"Valid To",setFieldValue:a}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(N.jsx)(ke,{as:"select",selectData:He,name:"condition_type",label:"Condition Type",placeholder:"Condition Type"})]}),Object(N.jsx)(st,{name:"description",label:"Description",setFieldValue:a}),Object(N.jsx)(st,{name:"terms",label:"Terms",setFieldValue:a}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-center",children:Object(N.jsx)(ye.a,{md:"6",children:Object(N.jsx)(m.a,{type:"submit",disabled:l,className:"w-100",children:l?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},lt=a(489),dt=(a(731),a(164)),ot=a(1066),jt=a(1067),ut=a(162),bt=a(163),xt=a(201),mt=a(199),Ot=a(503),ht=a(1071),pt=a(505),ft=a(1072),gt=a(512),vt=[{name:"Data A",data1:4e3,data2:2400,data3:2400},{name:"Data B",data1:3e3,data2:1398,data3:2210},{name:"Data C",data1:2e3,data2:9800,data3:2290},{name:"Data D",data1:2780,data2:3908,data3:2e3}],Nt=function(){return Object(N.jsx)(ot.a,{children:Object(N.jsxs)(jt.a,{width:"100%",height:300,data:vt,margin:{top:10,right:30,left:0,bottom:0},children:[Object(N.jsx)(ut.a,{dataKey:"name",tickLine:!1,padding:{left:20,right:20}}),Object(N.jsx)(bt.a,{tickLine:!1,axisLine:!1}),Object(N.jsx)(xt.a,{}),Object(N.jsx)(mt.a,{}),Object(N.jsx)(Ot.a,{type:"monotone",dataKey:"data2",stroke:q,activeDot:{r:8}})]})})},yt=function(){return Object(N.jsx)(ot.a,{children:Object(N.jsxs)(ht.a,{width:"100%",height:300,data:vt,margin:{top:10,right:30,left:0,bottom:0},children:[Object(N.jsx)("defs",{children:Object(N.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(N.jsx)("stop",{offset:"5%",stopColor:R,stopOpacity:.8}),Object(N.jsx)("stop",{offset:"95%",stopColor:R,stopOpacity:0})]})}),Object(N.jsx)(ut.a,{dataKey:"name",tickLine:!1,padding:{left:20,right:20}}),Object(N.jsx)(bt.a,{tickLine:!1,axisLine:!1}),Object(N.jsx)(xt.a,{}),Object(N.jsx)(mt.a,{}),Object(N.jsx)(pt.a,{type:"monotone",dataKey:"data2",stroke:R,fillOpacity:1,fill:"url(#colorUv)"})]})})},wt=function(){return Object(N.jsx)(ot.a,{children:Object(N.jsxs)(ft.a,{width:"100%",height:300,data:vt,children:[Object(N.jsx)(ut.a,{dataKey:"name",tickLine:!1,padding:{left:20,right:20}}),Object(N.jsx)(bt.a,{axisLine:!1}),Object(N.jsx)(xt.a,{}),Object(N.jsx)(mt.a,{}),Object(N.jsx)(gt.a,{dataKey:"data1",fill:q}),Object(N.jsx)(gt.a,{dataKey:"data2",fill:R})]})})},Ct=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("analytics");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_t=function(){var e=Object(c.useState)("1"),t=Object(i.a)(e,2),a=(t[0],t[1]),s=Object(c.useState)(""),n=Object(i.a)(s,2),r=(n[0],n[1],Object(c.useState)({start_date:null,end_date:null,focusedInput:null})),d=Object(i.a)(r,2),o=(d[0],d[1],Object(c.useState)(C()())),j=Object(i.a)(o,2),u=j[0],b=j[1],x=Object(c.useState)(null),m=Object(i.a)(x,2),O=m[0],h=m[1],v=Object(c.useState)(null),y=Object(i.a)(v,2),w=y[0],_=y[1],S=Object(g.a)("analytics",Ct),F=S.data,P=S.isLoading,H=S.isFetching,T=function(e){return a(e.target.value)};return P||H?Object(N.jsx)(k,{}):F||P&&H?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(N.jsx)("div",{className:"card",children:Object(N.jsx)("div",{className:"card-content",children:Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex align-items-center justify-content-start",children:[Object(N.jsx)("div",{children:Object(N.jsx)(dt.b,{color:q,size:24,className:"mr-3"})}),Object(N.jsx)(lt.DateRangePicker,{startDate:u,startDateId:"start_date",endDate:O,endDateId:"end_date",onDatesChange:function(e){var t=e.startDate,a=e.endDate;t&&b(t),a&&h(a)},focusedInput:w,onFocusChange:function(e){return _(e)}})]})})}),Object(N.jsx)(l.a,{fluid:!0,className:"px-0",children:Object(N.jsxs)("div",{className:"d-flex justify-content-between my-3",children:[Object(N.jsx)("div",{className:"card hoverable stats-card d-flex w-100 mr-3",children:Object(N.jsxs)("div",{className:"card-content",children:[Object(N.jsx)("div",{className:"lead",children:"Customers"}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[Object(N.jsx)("h1",{className:"text-black font-weight-bold",children:F.overall_status.customers}),Object(N.jsx)("span",{children:"graph"})]}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]}),Object(N.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})}),Object(N.jsx)("div",{className:"card hoverable stats-card d-flex w-100 mr-3 ml-3",children:Object(N.jsxs)("div",{className:"card-content",children:[Object(N.jsx)("div",{className:"lead",children:"Orders"}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[Object(N.jsx)("h1",{className:"text-black font-weight-bold",children:F.overall_status.orders}),Object(N.jsx)("span",{children:"graph"})]}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]}),Object(N.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})}),Object(N.jsx)("div",{className:"card hoverable stats-card d-flex w-100 mr-3 ml-3",children:Object(N.jsxs)("div",{className:"card-content",children:[Object(N.jsx)("div",{className:"lead",children:"Active Subscriptions"}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[Object(N.jsx)("h1",{className:"text-black font-weight-bold",children:F.overall_status.active_subscriptions}),Object(N.jsx)("span",{children:"graph"})]}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]}),Object(N.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})}),Object(N.jsx)("div",{className:"card hoverable stats-card d-flex w-100 ml-3",children:Object(N.jsxs)("div",{className:"card-content",children:[Object(N.jsx)("div",{className:"lead",children:"Agents"}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-2",children:[Object(N.jsx)("h1",{className:"text-black font-weight-bold",children:F.overall_status.merchants}),Object(N.jsx)("span",{children:"graph"})]}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-start",children:[Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]}),Object(N.jsx)("span",{className:"text-muted ml-2",children:"from 3"})]})]})})]})}),Object(N.jsxs)("div",{className:"dashboard-page w-100 mt-4",children:[Object(N.jsx)(l.a,{fluid:!0,className:"status-container mt-0 pl-2 pr-0",children:Object(N.jsxs)("div",{className:"card hoverable stats-card d-flex w-100",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsx)("p",{className:"text-black",children:"Reports overview"})}),Object(N.jsxs)("div",{className:"card-content",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(N.jsx)("span",{className:"text-grey",children:"Bookings"}),Object(N.jsx)("span",{className:"text-grey",children:"100"}),Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(N.jsx)("span",{className:"text-grey",children:"Subscriptions"}),Object(N.jsx)("span",{className:"text-grey",children:"100"}),Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100",children:[Object(N.jsx)("span",{className:"text-grey",children:"Other"}),Object(N.jsx)("span",{className:"text-grey",children:"100"}),Object(N.jsxs)("span",{className:"tag tag-success d-flex align-items-center",children:[Object(N.jsx)(p.d,{size:13}),Object(N.jsx)("strong",{children:"10%"})]})]})]})]})}),Object(N.jsx)(l.a,{fluid:!0,className:"charts-container mt-0 pl-0 pr-2",children:Object(N.jsxs)("div",{className:"charts-row",children:[Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-header pb-3 d-flex justify-content-between align-items-center",children:[Object(N.jsx)("h5",{className:"mb-0",children:Object(N.jsx)("strong",{children:"Bookings"})}),Object(N.jsx)("div",{children:Object(N.jsxs)(Fe.a.Control,{as:"select",custom:!0,onChange:T,className:"bg-transparent",children:[Object(N.jsx)("option",{value:"1",children:"Option 1"}),Object(N.jsx)("option",{value:"2",children:"Option 2"}),Object(N.jsx)("option",{value:"3",children:"Option 3"})]})})]}),Object(N.jsx)("div",{className:"card-content chart-container",children:Object(N.jsx)(Nt,{})})]}),Object(N.jsxs)("div",{className:"card ",children:[Object(N.jsxs)("div",{className:"card-header pb-3 d-flex justify-content-between align-items-center",children:[Object(N.jsx)("h5",{className:"mb-0",children:Object(N.jsx)("strong",{children:"Bookings"})}),Object(N.jsx)("div",{children:Object(N.jsxs)(Fe.a.Control,{as:"select",custom:!0,onChange:T,className:"bg-transparent",children:[Object(N.jsx)("option",{value:"1",children:"Option 1"}),Object(N.jsx)("option",{value:"2",children:"Option 2"}),Object(N.jsx)("option",{value:"3",children:"Option 3"})]})})]}),Object(N.jsx)("div",{className:"card-content chart-container",children:Object(N.jsx)(yt,{})})]}),Object(N.jsxs)("div",{className:"card ",children:[Object(N.jsxs)("div",{className:"card-header pb-3 d-flex justify-content-between align-items-center",children:[Object(N.jsx)("h5",{className:"mb-0",children:Object(N.jsx)("strong",{children:"Bookings"})}),Object(N.jsx)("div",{children:Object(N.jsxs)(Fe.a.Control,{as:"select",custom:!0,onChange:T,className:"bg-transparent",children:[Object(N.jsx)("option",{value:"1",children:"Option 1"}),Object(N.jsx)("option",{value:"2",children:"Option 2"}),Object(N.jsx)("option",{value:"3",children:"Option 3"})]})})]}),Object(N.jsx)("div",{className:"card-content chart-container",children:Object(N.jsx)(wt,{})})]})]})})]})]})}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},St="faqs",Ft=function(e){return Z.delete("".concat(St,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},kt=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(g.a)([St,j],{onError:function(e){ie(e.response.data.message)}}),S=C.data,P=C.isLoading,T=C.isFetching,L=C.error,D=Object(v.a)(Ft,{onSuccess:function(){de.invalidateQueries(St),w(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),A=D.mutate,z=D.isLoading,I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Title",accessor:"title"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/faqs/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),w(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return S||P&&T?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(N.jsx)(me,{title:"Faqs",onClick:function(){e.push("/faqs/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P||T?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!L&&Object(N.jsx)(W,{data:S,columns:I}),!L&&S.length>0?Object(N.jsx)(H,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:u,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})]}),Object(N.jsxs)(O.a,{show:y,onHide:function(){return w(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return w(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){A(s)},children:z?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Pt="faqs",Ht=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(Pt,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(Pt),t,{headers:{"Content-Type":"multipart/form-data"}})},Tt=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:Pt}),s=a.data,n=a.isLoading,r=Object(v.a)(Ht,{onSuccess:function(e){console.log("mutate",e),setTimeout((function(){de.invalidateQueries(Pt),de.invalidateQueries("".concat(Pt,"/").concat(t))}),500)}}),i=r.mutate,l=r.isLoading,o=r.error,j=r.status,u=s;return n?Object(N.jsx)(k,{}):Object(N.jsxs)(Ne.a,{className:"rounded",children:[Object(N.jsx)(Se,{title:"Faqs"}),Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:u||{},onSubmit:function(e){var a=new FormData;a.append("title",e.title),a.append("description",e.description),a.append("is_active",e.is_active),i({formdata:a,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:t?"Faq updated successfully":"Faq created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsxs)("div",{className:"form-container ",children:[Object(N.jsx)(ke,{name:"title",placeholder:"title",label:"Title",required:!0}),Object(N.jsx)(ke,{name:"is_active",placeholder:"Is Active?",label:"Is Active?",as:"select",selectData:Pe})]}),Object(N.jsx)(st,{name:"description",label:"Description",setFieldValue:a}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:l,className:"w-100",children:l?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},Lt=a(170),Dt=Lt.a().shape({phone:Lt.b().matches(/^[6-9]\d{9}$/,"Phone number is not valid").required("Phone number required")}),At=function(e){return Z.post("auth/send-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},zt=function(e){var t=Object(d.f)(),a=Object(v.a)(At),s=a.mutate,n=a.data,r=a.isLoading;return Object(c.useEffect)((function(){n&&(console.log("send-otp",n.data),t.push("/verify-otp/".concat(n.data.user.phone,"/").concat(n.data.user.otp)))}),[n]),Object(N.jsx)(l.a,{fluid:!0,className:"login-page",children:Object(N.jsx)(ve.b,{initialValues:{phone:""},onSubmit:function(e){var t=new FormData;t.append("phone",e.phone),s(t)},validationSchema:Dt,children:function(e){var t=e.errors;return Object(N.jsx)(ve.a,{children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-between px-3 py-3",style:{width:"450px"},children:[Object(N.jsx)("h1",{className:"text-black",children:Object(N.jsx)("b",{children:"Sign In"})}),Object(N.jsx)("p",{className:"text-muted",children:"OTP will be send to your number."}),Object(N.jsx)("br",{}),Object(N.jsx)(ke,{name:"phone",placeholder:"Enter your phone number",label:"Phone number",type:"text",error:t.phone}),Object(N.jsx)(m.a,{variant:"primary",type:"submit",className:"full-width my-2",children:r?Object(N.jsx)(h.a,{animation:"border",variant:"secondary",size:"sm"}):Object(N.jsx)("div",{className:"text-white",children:Object(N.jsx)("b",{children:"Submit"})})})]})})}})})},It=a(54),Vt=a(139),Et=a(509),Bt=Object(c.createContext)(!1),Ut=a.p+"static/media/logo.6fe10f16.jpg",Mt=function(){return Object(N.jsx)("div",{className:"d-flex justify-content-start",children:Object(N.jsx)("div",{className:"logo text-left ml-4",children:Object(N.jsx)("img",{src:Ut,alt:"logo"})})})},qt=a(25),Rt=function(e){var t=e.title,a=e.path,c=e.onClick,s=e.icon,n=Object(d.g)().pathname;return Object(N.jsx)(qt.b,{to:a,children:Object(N.jsxs)("li",{className:n.includes(a)?"navLink active":"navLink my-1",onClick:c,children:[s&&s," ",t]})})},Qt=function(e){var t=e.onClick;return Object(N.jsx)("div",{className:"overlay",onClick:t||function(){}})},Yt=[{title:"Brands",path:"/brands",icon:Object(N.jsx)(Et.a,{})},{title:"Brand Models",path:"/brand-models",icon:Object(N.jsx)(U.a,{})},{title:"Categories",path:"/categories",icon:Object(N.jsx)(It.c,{})},{title:"Users",path:"/users",icon:Object(N.jsx)(It.i,{})},{title:"Services",path:"/services",icon:Object(N.jsx)(Vt.e,{})},{title:"Faqs",path:"/faqs",icon:Object(N.jsx)(It.f,{})},{title:"Plans",path:"/plans",icon:Object(N.jsx)(It.h,{})},{title:"Coupons",path:"/coupons",icon:Object(N.jsx)(Vt.b,{})}],Kt=[{title:"Orders",path:"/orders",icon:Object(N.jsx)(It.b,{})},{title:"User Subscriptions",path:"/subscriptions",icon:Object(N.jsx)(It.a,{})},{title:"Advertisements",path:"/advertisements",icon:Object(N.jsx)(Vt.a,{})},{title:"Transactions",path:"/transactions",icon:Object(N.jsx)(It.e,{})},{title:"Issues",path:"/issues",icon:Object(N.jsx)(B.a,{})}],Gt=function(e){var t=e.isNavOpen,a=e.setIsNavOpen,s=Object(c.useContext)(Bt),n=function(){a&&a(!1)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("nav",{className:t?"active":"",children:[s?Object(N.jsx)(Mt,{}):null,Object(N.jsxs)("div",{className:"all-links",children:[Object(N.jsx)("ul",{className:"pt-4",children:Object(N.jsx)(Rt,{title:"Dashboard",path:"/",onClick:n,icon:Object(N.jsx)(Vt.c,{})})}),Object(N.jsx)("p",{className:"text-muted mb-2",children:"Main"}),Object(N.jsx)("ul",{children:Kt.map((function(e){var t=e.title,a=e.path,c=e.icon;return Object(N.jsx)(Rt,{path:a,title:t,onClick:n,icon:c},t)}))}),Object(N.jsx)("p",{className:"text-muted mb-2",children:"Manage"}),Object(N.jsx)("ul",{children:Yt.map((function(e){var t=e.title,a=e.path,c=e.icon;return Object(N.jsx)(Rt,{path:a,title:t,onClick:n,icon:c},t)}))})]})]}),t&&Object(N.jsx)(Qt,{onClick:n})]})},Jt={status:"",user_id:"",agent_id:"",inside_cart:""},Wt=Object(se.combine)({filter:Jt,rows_per_page:"25"},(function(e){return{onFilterChange:function(t,a){return e((function(e){return Object(j.a)(Object(j.a)({},e),{},{filter:Object(j.a)(Object(j.a)({},e.filter),{},Object(o.a)({},t,a))})}))},onRowsChange:function(t,a){return e((function(e){return Object(j.a)(Object(j.a)({},e),{},{rows_per_page:a})}))},resetFilter:function(){return e((function(e){return{filter:Jt}}))}}}));Wt=Object(se.persist)(Wt,{name:"carsafai_admin_order_filter"});var Xt=Object(ce.a)(Wt),$t=function(e){var t=e.onFilterChange,a=e.width,c=void 0===a?"200px":a,s=e.defaultSelectTitle,n=void 0===s?"All":s,r=e.isDefaultDisabled,i=void 0!==r&&r,l=e.label,d=e.currentValue,o=e.idx,j=e.data,u=e.valueSelector,b=void 0===u?"id":u,x=e.nameSelector,m=void 0===x?"name":x;return Object(N.jsxs)(Fe.a.Group,{children:[Object(N.jsx)(Fe.a.Label,{className:"text-muted font-weight-bold",children:l}),Object(N.jsxs)(Fe.a.Control,{as:"select",value:d,id:o,onChange:function(e){return t(o,e.target.value)},style:{width:c,fontSize:14},children:[Object(N.jsx)("option",{value:"",disabled:i,children:n}),j&&j.map((function(e){return Object(N.jsx)("option",{value:e[b],children:e[m]})}))]})]})},Zt=function(){var e=Object(d.f)(),t=Object(c.useState)(1),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Xt((function(e){return e.filter})),x=Xt((function(e){return e.rows_per_page})),O=Xt((function(e){return e.onFilterChange})),h=Xt((function(e){return e.onRowsChange})),p=Xt((function(e){return e.resetFilter})),v={pageSize:parseInt(x)},w=Object(g.a)(["bookings",s,b],{onError:function(e){ie(e.response.data.message)}}),C=w.data,_=w.isLoading,F=w.isFetching,P=w.error,T=Object(g.a)(["users",1,{role:"customer"}],{onError:function(e){ie(e.response.data.message)}}),L=T.data,D=T.isLoading,A=Object(g.a)(["users",1,{role:"agent"}],{onError:function(e){ie(e.response.data.message)}}),z=A.data,I=A.isLoading,V=function(e){var t=e.status;return Object(N.jsx)(S.a,{variant:"cancelled"===t||"error_payment"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success",children:t})},E=function(t){t&&e.push("/users/create-edit",{id:t})},B=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id"},{Header:"Customer",accessor:"user.name",Cell:function(e){return Object(N.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return E(e.row.original.user_id)},children:e.row.values["user.name"]})}},{Header:"Agent",accessor:"agent.name",Cell:function(e){return e.row.original.agent_id?Object(N.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){return E(e.row.original.agent_id)},children:e.row.values["agent.name"]}):"NA"}},{Header:"Order Status",accessor:"status",Cell:function(e){return Object(N.jsx)(V,{status:e.row.values.status})}},{Header:"Inside Cart",accessor:"inside_cart"},{Header:"Total Cost",accessor:"total_cost"},{Header:"Actions",Cell:function(t){return Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(m.a,{onClick:function(){return e.push("/orders/".concat(t.row.values.id))},children:"View"})})}}]}),[]);return C||_&&F?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Orders"}),(!_||!F)&&Object(N.jsxs)("div",{className:"filter mb-3",children:[Object(N.jsx)(y,{onFilterChange:O,value:"",currentValue:b.status,dataLength:null===C||void 0===C?void 0:C.length,idx:"status",title:"All"}),Object(N.jsx)(y,{onFilterChange:O,value:"success",currentValue:b.status,dataLength:null===C||void 0===C?void 0:C.length,idx:"status",title:"Success"}),Object(N.jsx)(y,{onFilterChange:O,value:"pending",currentValue:b.status,dataLength:null===C||void 0===C?void 0:C.length,idx:"status",title:"Pending"}),Object(N.jsx)(y,{onFilterChange:O,value:"error_payment",currentValue:b.status,dataLength:null===C||void 0===C?void 0:C.length,idx:"status",title:"Payment Errors"}),Object(N.jsx)(y,{onFilterChange:O,value:"failed",currentValue:b.status,dataLength:null===C||void 0===C?void 0:C.length,idx:"status",title:"Failed",isLast:!0})]}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Object(N.jsx)(N.Fragment,{children:_||F?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!P&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{className:"pt-3",children:Object(N.jsxs)(Ne.a,{className:"select-filter d-flex",children:[Object(N.jsx)(ye.a,{md:"auto",children:Object(N.jsx)($t,{currentValue:b.user_id,data:!D&&L,label:"Customers",idx:"user_id",onFilterChange:O})}),Object(N.jsx)(ye.a,{md:"auto",children:Object(N.jsx)($t,{currentValue:b.agent_id,data:!I&&z,label:"Agents",idx:"agent_id",onFilterChange:O})}),Object(N.jsx)(ye.a,{md:"auto",children:Object(N.jsx)($t,{currentValue:b.inside_cart,data:Le,label:"Inside Cart",idx:"inside_cart",width:"80px",onFilterChange:O})}),Object(N.jsx)(ye.a,{md:"auto",children:Object(N.jsx)($t,{currentValue:x,data:De,label:"Rows Per Page",idx:"rows_per_page",onFilterChange:h,defaultSelectTitle:"Rows",width:"100px",isDefaultDisabled:!0})}),Object(N.jsx)(ye.a,{md:"auto",className:"d-flex align-items-center mt-1 justify-content-center",children:Object(N.jsx)(m.a,{onClick:function(){return p()},variant:"light",style:{backgroundColor:"#eee",fontSize:14},children:"Reset Filters"})})]})}),Object(N.jsx)("hr",{}),Object(N.jsx)(W,{data:C,columns:B,initialState:v,setSelectedRows:u})]}),!P&&C.length>0?Object(N.jsx)(H,{currentPage:null===C||void 0===C?void 0:C.current_page,lastPage:null===C||void 0===C?void 0:C.last_page,setPage:n,hasNextPage:!!(null===C||void 0===C?void 0:C.next_page_url),hasPrevPage:!!(null===C||void 0===C?void 0:C.prev_page_url)}):null," "]})})})}),j.length>0&&Object(N.jsxs)("div",{className:"delete-button rounded",children:[Object(N.jsx)("span",{children:Object(N.jsxs)("b",{children:["Delete ",j.length," rows"]})}),Object(N.jsx)(m.a,{variant:"danger",children:"Delete"})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ea={status:""},ta=function(){var e=Object(d.f)(),t=Object(c.useState)([]),a=Object(i.a)(t,2),s=(a[0],a[1]),n=Object(c.useState)(1),r=Object(i.a)(n,2),u=r[0],b=r[1],x=Object(c.useState)(ea),m=Object(i.a)(x,2),O=m[0],h=m[1];console.log({filter:O});var p=Object(g.a)(["transactions",u],{onError:function(e){ie(e.response.data.message)}}),v=p.data,w=p.isLoading,C=p.isFetching,S=p.error,F=function(e,t){h((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))},P=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Ref Id",accessor:"ref_id"},{Header:"User",accessor:"user.name",Cell:function(t){return Object(N.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){var a;(a=t.row.original.user_id)&&e.push("/users/create-edit",{id:a})},children:t.row.values["user.name"]})}},{Header:"Order",accessor:"order_id",Cell:function(t){return Object(N.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){var a;(a=t.row.values.order_id)&&e.push("/orders/".concat(a))},children:t.row.values.order_id})}},{Header:"Paid Amount",accessor:"paid_amount"},{Header:"Payment Method",accessor:"payment_method"},{Header:"Status",accessor:"status"},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}}]}),[]);return v||w&&C?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Transactions"}),(!w||!C)&&Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"filter",children:[Object(N.jsx)(y,{onFilterChange:F,value:"",currentValue:O.status,dataLength:null===v||void 0===v?void 0:v.length,idx:"status",title:"All"}),Object(N.jsx)(y,{onFilterChange:F,value:"success",currentValue:O.status,dataLength:null===v||void 0===v?void 0:v.length,idx:"status",title:"Success"}),Object(N.jsx)(y,{onFilterChange:F,value:"failed",currentValue:O.status,dataLength:null===v||void 0===v?void 0:v.length,idx:"status",title:"Failed"})]})})}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:w||C?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!S&&Object(N.jsx)(W,{data:v,columns:P,setSelectedRows:s}),!S&&v.length>0?Object(N.jsx)(H,{currentPage:null===v||void 0===v?void 0:v.current_page,lastPage:null===v||void 0===v?void 0:v.last_page,setPage:b,hasNextPage:!!(null===v||void 0===v?void 0:v.next_page_url),hasPrevPage:!!(null===v||void 0===v?void 0:v.prev_page_url)}):null," "]})})})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},aa="categories",ca=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(aa,"/").concat(a),t,{headers:{"Content-Type":"application/json"}}):Z.post("".concat(aa),t,{headers:{"Content-Type":"application/json"}})},sa=function(e){var t=e.id,a=void 0===t?"":t;Object(c.useEffect)((function(){ge.a.init()}),[]);var s=_e({id:a,key:aa}),n=s.data,r=s.isLoading,i=Object(v.a)(ca,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(aa)}),500)}}),l=i.mutate,d=i.isLoading,o=i.error,j=i.status,u=n&&n;return console.log("apiData",n),r?Object(N.jsx)(k,{}):Object(N.jsx)(Ne.a,{className:"rounded",children:Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:{name:u?u.name:""},onSubmit:function(e){console.log(e),l({formdata:e,id:a})},children:function(){return Object(N.jsxs)(ve.a,{className:"w-100",children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:a?"Category updated successfully":"Category created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsx)("div",{className:"form-container py-2",children:Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0})}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:d,className:"w-100",children:d?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})},na=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=(a[0],a[1],Object(c.useState)(1)),n=Object(i.a)(s,2),r=n[0],o=n[1],j=Object(c.useState)(!1),u=Object(i.a)(j,2),b=(u[0],u[1],Object(g.a)(["user-subscriptions",r],{onError:function(e){ie(e.response.data.message)}})),x=b.data,m=b.isLoading,O=b.isFetching,h=b.error,p=function(e){var t=e.status;return Object(N.jsx)(S.a,{variant:"active"===t?"success":"danger",className:"p-1",children:t.toUpperCase()})},v=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"User Name",accessor:"user.name",Cell:function(t){return Object(N.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){var a;(a=t.row.original.user_id)&&e.push("/users/create-edit",{id:a})},children:t.row.values["user.name"]})}},{Header:"Plan ID",accessor:"plan.name",Cell:function(t){return Object(N.jsx)("p",{className:"text-primary",style:{cursor:"pointer"},onClick:function(){var a;(a=t.row.original.plan_id)&&e.push("/plans/create-edit",{id:a})},children:t.row.values["plan.name"]})}},{Header:"Allowed Usage",accessor:"allowed_usage"},{Header:"Status",accessor:"status",Cell:function(e){return Object(N.jsx)(p,{status:e.row.values.status})}},{Header:"No. Times Used",accessor:"used"},{Header:"Last Used",accessor:"last_used_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.last_used_at})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}}]}),[]);return x||m&&O?Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(N.jsx)(me,{title:"User Subscriptions"}),Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:m||O?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!h&&Object(N.jsx)(W,{data:x,columns:v}),!h&&x.length>0?Object(N.jsx)(H,{currentPage:null===x||void 0===x?void 0:x.current_page,lastPage:null===x||void 0===x?void 0:x.last_page,setPage:o,hasNextPage:!!(null===x||void 0===x?void 0:x.next_page_url),hasPrevPage:!!(null===x||void 0===x?void 0:x.prev_page_url)}):null," "]})})]})}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},ra=function(){var e=Object(d.h)().id,t=(Object(d.f)(),_e({id:e,key:"user-subscriptions"})),a=t.data,c=t.isLoading,s=t.isFetching;return c||s?Object(N.jsx)(k,{}):Object(N.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("h2",{className:"text-muted font-weight-bold",children:"Order"}),Object(N.jsxs)("h2",{className:"ml-2",children:["#",a.id]})]})}),Object(N.jsxs)("div",{className:"dashboard-page w-100",children:[Object(N.jsx)(l.a,{fluid:!0,className:"status-container mt-2",children:Object(N.jsx)("div",{className:"head-row",children:Object(N.jsx)("div",{className:"card p-2 d-flex",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"text-primary",children:Object(N.jsx)("h3",{children:"User"})}),Object(N.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Name :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:a.user.name})})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Email :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:a.user.email})})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Phone :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:a.user.phone})})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Role :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:a.user.role})})]})]})]})})})}),Object(N.jsxs)(l.a,{fluid:!0,className:"charts-container mt-2",children:[Object(N.jsx)("div",{className:"card p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"text-primary",children:Object(N.jsx)("h5",{children:"Plan Summary"})}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted",children:" Plan Name"}),Object(N.jsx)("td",{className:"text-primary font-weight-bold text-right",children:a.plan.name})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted",children:" Plan Description"}),Object(N.jsx)("td",{className:"text-primary ",children:a.plan.description})]})]})})})]})}),a.plan&&Object(N.jsx)("div",{className:"card p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"text-primary",children:Object(N.jsx)("h5",{children:"Plan Price"})}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsx)("tbody",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted pt-3",children:"Price"}),Object(N.jsxs)("td",{className:"text-primary pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:["\u20b9",a.plan.price]})]})})})})]})})]})]})]})},ia="bookings",la=function(){var e=Object(x.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.get("/users",{params:{role:"agent"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),da=function(e){var t=e.formdata,a=e.id;return Z.post("bookings/".concat(a,"/assign-agent"),t,{headers:{"Content-Type":"application/json"}})},oa=function(){var e=Object(d.h)().id,t=Object(d.f)(),a=Object(g.a)("agent",(function(){return la()})),c=a.data,s=a.isLoading,n=Object(v.a)(da,{onSuccess:function(a){setTimeout((function(){de.invalidateQueries(ia),de.invalidateQueries("".concat(ia,"/").concat(e)),t.goBack()}),500)}}),r=(n.data,n.mutate),i=n.isLoading,o=(n.error,n.status);return s?Object(N.jsx)(k,{}):Object(N.jsxs)(l.a,{children:[Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(N.jsx)("h2",{className:"font-weight-bold",children:"Assign Aggent"}),Object(N.jsx)(m.a,{variant:"primary",onClick:function(){return t.goBack()},children:Object(N.jsxs)("div",{className:"text-white",children:[Object(N.jsx)(f.a,{size:25})," ",Object(N.jsx)("b",{children:"Back"})]})})]}),Object(N.jsx)(Ne.a,{className:"rounded",children:Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:{agent_id:""},onSubmit:function(t){r({formdata:t,id:e})},children:function(e){e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===o&&Object(N.jsx)(we.a,{variant:"success",children:"Agent Successfully Assigned"}),Object(N.jsx)(Ne.a,{className:"align-items-center justify-content-center",children:Object(N.jsx)(ye.a,{sm:!0,md:6,children:Object(N.jsx)(ke,{name:"agent_id",placeholder:"Select Agent",label:"Select Agent",as:"select",selectData:c.data})})}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:i,className:"w-100",children:i?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})})]})},ja=a(173),ua=(a(473),function(){var e=Object(d.h)().id,t=Object(d.f)(),a=_e({id:e,key:"bookings"}),c=a.data,s=a.isLoading,n=a.isFetching;return s||n?Object(N.jsx)(k,{}):Object(N.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("h2",{className:"text-muted font-weight-bold",children:"Order"}),Object(N.jsxs)("h2",{className:"ml-2",children:["#",c.id]}),Object(N.jsx)(S.a,{variant:"primary",className:"mx-3 px-3 py-2 text-uppercase",children:c.order_type}),Object(N.jsx)(S.a,{variant:function(e){var t=e.toLowerCase();return"cancelled"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success"}(c.status),className:"px-3 py-2 text-uppercase",children:c.status})]}),Object(N.jsx)(m.a,{variant:"primary",onClick:function(){return t.push("assign-agent/".concat(e))},children:Object(N.jsx)("div",{className:"text-white",children:"Assign"})})]}),c.cancellation_reason&&Object(N.jsx)(l.a,{fluid:!0,children:Object(N.jsx)("p",{className:"text-danger",children:c.cancellation_reason})}),Object(N.jsx)("div",{className:"progressbar-css",children:Object(N.jsxs)(ja.ProgressBar,{percent:33,children:[Object(N.jsx)(ja.Step,{children:function(e){var t=e.accomplished;e.index;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"indexedStep ".concat(t?"accomplished":null)}),Object(N.jsx)(It.d,{})]})}}),Object(N.jsx)(ja.Step,{children:function(e){var t=e.accomplished;e.index;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"indexedStep ".concat(t?"accomplished":null)}),t?Object(N.jsx)(It.d,{}):Object(N.jsx)(It.g,{})]})}}),Object(N.jsx)(ja.Step,{children:function(e){var t=e.accomplished;e.index;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"indexedStep ".concat(t?"accomplished":null)}),t?Object(N.jsx)(It.d,{}):Object(N.jsx)(It.g,{})]})}}),Object(N.jsx)(ja.Step,{children:function(e){var t=e.accomplished;e.index;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"indexedStep ".concat(t?"accomplished":null)}),t?Object(N.jsx)(It.d,{}):Object(N.jsx)(It.g,{})]})}})]})}),Object(N.jsxs)("div",{className:"dashboard-page w-100",children:[Object(N.jsx)(l.a,{fluid:!0,className:"status-container mt-2",children:Object(N.jsxs)("div",{className:"head-row",children:[Object(N.jsx)("div",{style:{margin:"4% 0 -12% 0"},className:"card p-2 view-padding right-div d-flex",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"text-primary",children:Object(N.jsx)("p",{className:"view-heading view-top-pad",children:"USER"})}),Object(N.jsx)("div",{className:"d-flex flex-column",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted",children:Object(N.jsx)("p",{className:"view-heading",children:"Name"})}),Object(N.jsx)("td",{className:"text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:c.user.name})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted ",children:Object(N.jsx)("p",{className:"view-heading",children:"Email"})}),Object(N.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:c.user.email})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted ",children:Object(N.jsx)("p",{className:"view-heading phone-padd",children:"Phone"})}),Object(N.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:c.user.phone})})]})]})})})]})}),c.agent&&Object(N.jsx)("div",{className:"card p-2 d-flex",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"text-primary",children:Object(N.jsx)("h3",{children:"Agent"})}),Object(N.jsxs)("div",{className:"d-flex flex-column",style:{fontSize:18},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Name :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:c.agent.name})})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Email :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:c.agent.email})})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("span",{className:"text-muted",children:"Phone :"}),Object(N.jsx)("span",{className:"text-primary ml-2",children:Object(N.jsx)("b",{children:c.agent.phone})})]})]})]})})]})}),Object(N.jsxs)(l.a,{fluid:!0,className:"charts-container mt-2",children:[Object(N.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"view-heading  view-top-pad",children:"ORDER SUMMARY"}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted",children:Object(N.jsx)("p",{className:"view-heading",children:"Ref Id"})}),Object(N.jsx)("td",{className:"text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:c.ref_id})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted ",children:Object(N.jsx)("p",{className:"view-heading",children:"Scheduled At"})}),Object(N.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:c.scheduled_at?C()(c.scheduled_at).format("DD/MM/YY(hh:mm)"):"NA"})})]}),c.address&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted py-2",children:"Address"}),Object(N.jsx)("td",{className:"text-primary py-2 text-right",children:Object(N.jsxs)("address",{className:"font-italic font-weight-light text-capitalize",children:[c.address.address,", ",Object(N.jsx)("br",{}),c.address.city,", ",c.address.pincode," "]})})]}),c.vehicle&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted py-2",children:"Vehicle Name"}),Object(N.jsx)("td",{className:"text-primary py-2 text-right",children:c.vehicle.name})]})]})})})]})}),Object(N.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"view-heading  view-top-pad",children:"PAYMENT SUMMARY"}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"view-heading",children:"Total Cost"}),Object(N.jsx)("td",{className:"text-right",children:Object(N.jsxs)("p",{className:"view-subheading",children:["\u20b9",c.total_cost]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"view-heading",children:"Discount"}),Object(N.jsx)("td",{className:"text-success font-weight-bold text-right",children:Object(N.jsxs)("p",{className:"view-subheading",children:["\u20b9",c.discount]})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"view-heading pt-3",children:"Total Payable Amount"}),Object(N.jsx)("td",{className:"text-primary pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:Object(N.jsxs)("p",{className:"view-subheading",children:["\u20b9",c.payable_amount]})})]})]})})})]})}),c.plan&&Object(N.jsx)("div",{className:"card p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"text-primary",children:Object(N.jsx)("h5",{children:"Plan"})}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted",children:"Name"}),Object(N.jsx)("td",{className:"text-primary font-weight-bold text-right",children:c.plan.name})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted py-2",children:"Description"}),Object(N.jsx)("td",{className:"text-right font-weight-light text-capitalize",children:c.plan.description})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted pt-3",children:"Price"}),Object(N.jsxs)("td",{className:"text-primary pt-2 font-weight-bold text-right",style:{fontSize:"24px"},children:["\u20b9",c.plan.price]})]})]})})})]})})]})]})]})}),ba="plans",xa=function(e){return Z.delete("".concat(ba,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},ma=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(g.a)([ba,j],{onError:function(e){ie(e.response.data.message)}}),S=C.data,P=C.isLoading,T=C.isFetching,L=C.error,D=Object(v.a)(xa,{onSuccess:function(){de.invalidateQueries(ba),w(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),A=D.mutate,z=D.isLoading,I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(N.jsx)("div",{className:"table-image",children:Object(N.jsx)("img",{src:"".concat(Q,"plans/").concat(e.row.values.image),alt:e.row.values.image})})}},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Category",accessor:"category_id"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Is Popular",accessor:"is_popular",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_popular})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/plans/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),w(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return S||P&&T?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Plans",onClick:function(){e.push("/plans/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P||T?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!L&&Object(N.jsx)(W,{data:S,columns:I}),!L&&S.length>0?Object(N.jsx)(H,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:u,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:y,onHide:function(){return w(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return w(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){A(s)},children:z?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Oa="plans",ha=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(Oa,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(Oa),t,{headers:{"Content-Type":"multipart/form-data"}})},pa=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=Object(g.a)(["categories"]),s=a.data,n=a.isLoading,r=_e({id:t,key:Oa}),i=r.data,l=r.isLoading,o=Object(v.a)(ha,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(Oa)}),500)}}),j=o.mutate,u=o.isLoading,b=o.error,x=o.status,O=i&&i;return console.log("apiData",O),l?Object(N.jsx)(k,{}):Object(N.jsxs)(Ne.a,{className:"rounded",children:[Object(N.jsx)(Se,{title:"Plans"}),Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:O||{},onSubmit:function(e){var a=new FormData;a.append("name",e.name),a.append("price",e.price),a.append("is_active",e.is_active),a.append("is_popular",e.is_popular),a.append("description",e.description),a.append("allowed_usage",e.allowed_usage),a.append("category_id",e.category_id),e.image&&a.append("image",e.image),j({formdata:a,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===x&&Object(N.jsx)(we.a,{variant:"success",children:t?"Plan updated successfully":"Plan created successfully"}),b&&Object(N.jsx)(we.a,{variant:"danger",children:b.message}),Object(N.jsxs)("div",{className:"form-container  py-2 ",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(N.jsx)(ke,{type:"number",name:"price",placeholder:"Price",label:"Price",required:!0}),Object(N.jsx)(ke,{type:"number",name:"allowed_usage",placeholder:"Allowed Usage",label:"Allowed Usage",required:!0}),Object(N.jsx)(ke,{name:"image",placeholder:"image",label:"Choose Plan Image",isFile:!0,setFieldValue:a}),Object(N.jsx)(ke,{name:"category_id",placeholder:"Category",label:"Choose Category",as:"select",selectData:!n&&s.data}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_popular",label:"Is Popular?",placeholder:"Choose is popular"})]}),Object(N.jsx)(st,{name:"description",label:"Description",setFieldValue:a}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:u,className:"w-100",children:u?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},fa="services",ga=function(e){return Z.delete("".concat(fa,"/").concat(e),{headers:{"Content-Type":"multipart/form-data"}})},va=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),o=Object(i.a)(r,2),j=o[0],u=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),y=x[0],w=x[1],C=Object(g.a)([fa,j],{onError:function(e){ie(e.response.data.message)}}),S=C.data,P=C.isLoading,T=C.isFetching,L=C.error,D=Object(v.a)(ga,{onSuccess:function(){de.invalidateQueries(fa),w(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),A=D.mutate,z=D.isLoading,I=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Image",accessor:"image",Cell:function(e){return Object(N.jsx)("div",{className:"table-image",children:Object(N.jsx)("img",{src:"".concat(Q,"services/").concat(e.row.values.image),alt:e.row.values.image})})}},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Category",accessor:"category.name"},{Header:"Is Active?",accessor:"is_active",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.is_active})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/services/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),w(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return S||P&&T?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Services",onClick:function(){e.push("/services/create-edit")}}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:P||T?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!L&&Object(N.jsx)(W,{data:S,columns:I}),!L&&S.length>0?Object(N.jsx)(H,{currentPage:null===S||void 0===S?void 0:S.current_page,lastPage:null===S||void 0===S?void 0:S.last_page,setPage:u,hasNextPage:!!(null===S||void 0===S?void 0:S.next_page_url),hasPrevPage:!!(null===S||void 0===S?void 0:S.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:y,onHide:function(){return w(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return w(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){A(s)},children:z?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Delete"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},Na="services",ya=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(Na,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(Na),t,{headers:{"Content-Type":"multipart/form-data"}})},wa=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:Na}),s=a.data,n=a.isLoading,r=Object(g.a)("categories"),i=r.data,l=r.isLoading,o=Object(v.a)(ya,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(Na)}),500)}}),j=o.mutate,u=o.isLoading,b=o.error,x=o.status,O=s&&s;return n?Object(N.jsx)(k,{}):Object(N.jsxs)(Ne.a,{className:"rounded",children:[Object(N.jsx)(Se,{title:"Services"}),Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:O||{},onSubmit:function(e){var a=new FormData,c=(e.image,Object(L.a)(e,["image"]));for(var s in c)a.append(s,c[s]);e.image&&a.append("image",e.image),j({formdata:a,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===x&&Object(N.jsx)(we.a,{variant:"success",children:t?"Service updated successfully":"Service created successfully"}),b&&Object(N.jsx)(we.a,{variant:"danger",children:b.message}),Object(N.jsxs)("div",{className:"form-container  py-2 ",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(N.jsx)(ke,{name:"url",placeholder:"Url",label:"Url",required:!0}),Object(N.jsx)(ke,{name:"price",placeholder:"Price",label:"Price",type:"number"}),Object(N.jsx)(ke,{name:"category_id",placeholder:"Category",label:"Choose Category",as:"select",selectData:!l&&i.data}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(N.jsx)(ke,{name:"image",placeholder:"image",label:"Choose Service Image",isFile:!0,setFieldValue:a})]}),Object(N.jsx)(st,{name:"details",label:"Details",setFieldValue:a}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:u,className:"w-100",children:u?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},Ca=a.p+"static/media/profile.aba28314.svg",_a=Object(se.combine)({accessToken:null},(function(e){return{setToken:function(t){return e((function(e){return{accessToken:t}}))},removeToken:function(){return e((function(e){return{accessToken:null}}))}}}));_a=Object(se.persist)(_a,{name:"accessToken"});var Sa=Object(ce.a)(_a),Fa=Object(se.combine)({user:null},(function(e){return{setUser:function(t){return e((function(e){return{user:t}}))},removeUser:function(){return e((function(e){return{user:null}}))}}}));Fa=Object(se.persist)(Fa,{name:"user"});var ka=Object(ce.a)(Fa),Pa=function(){return Z.post("/auth/logout")},Ha=function(e){var t=e.isNavOpen,a=e.setIsNavOpen,s=Object(c.useContext)(Bt),n=Object(d.f)(),r=Sa((function(e){return e.removeToken})),i=ka((function(e){return e.removeUser})),o=Object(v.a)(Pa,{onSuccess:function(){i(),r(),n.push("/login")}}),j=o.mutate,u=o.isLoading;return Object(N.jsxs)(l.a,{fluid:!0,className:"top-bar d-flex align-items-center justify-content-between",children:[s?null:Object(N.jsx)("div",{className:"menu-hamburger",children:t?null:Object(N.jsx)(f.b,{size:32,onClick:function(){a&&a(!0)},color:q})}),!s&&Object(N.jsx)(Mt,{}),Object(N.jsxs)("div",{className:s?"d-flex align-items-center ml-auto":"d-flex align-items-center",children:[Object(N.jsxs)("div",{className:"notification",children:[Object(N.jsx)(dt.a,{size:24}),Object(N.jsx)("div",{className:"circle bg-primary text-white d-flex  justify-content-center",children:Object(N.jsx)("p",{children:Object(N.jsx)("b",{children:"1"})})})]}),Object(N.jsxs)(z.a,{className:"ml-4",children:[Object(N.jsx)(z.a.Toggle,{id:"dropdown-basic",className:"filter-button bg-transparent border-0 text-primary",children:u?"Loading":Object(N.jsx)("img",{src:Ca,alt:"profile",className:"profile"})}),Object(N.jsx)(z.a.Menu,{children:Object(N.jsx)(z.a.Item,{onClick:function(){return j()},children:u?"Loading":"SignOut"})})]})]})]})},Ta="users",La=function(e){return Z.post("".concat(Ta,"/").concat(e),{disable:1})},Da={role:""},Aa=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(1),u=Object(i.a)(r,2),b=u[0],x=u[1],w=Object(c.useState)(""),C=Object(i.a)(w,2),S=(C[0],C[1]),P=Object(c.useState)(!1),T=Object(i.a)(P,2),L=T[0],D=T[1],A=Object(c.useState)(Da),z=Object(i.a)(A,2),I=z[0],V=z[1],E=Object(g.a)([Ta,b,I],{onError:function(e){ie(e.response.data.message)}}),B=E.data,U=E.isLoading,M=E.isFetching,Y=E.error,K=Object(v.a)(La,{onSuccess:function(){de.invalidateQueries(Ta),D(!1)},onError:function(){ie("Something went wrong deleteing the records")}}),G=K.mutate,J=K.isLoading,X=function(e,t){V((function(a){return Object(j.a)(Object(j.a)({},a),{},Object(o.a)({},e,t))}))};console.log({data:B,isLoading:U,isFetching:M});var $=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"Profile Pic",accessor:"profile_pic",Cell:function(e){return Object(N.jsx)("div",{className:"table-image",children:Object(N.jsx)("img",{src:"".concat(Q,"users/").concat(e.row.values.profile_pic),alt:"name"})})}},{Header:"Name",accessor:"name"},{Header:"Phone",accessor:"phone"},{Header:"Role",accessor:"role"},{Header:" Disabled?",accessor:"disabled",Cell:function(e){return Object(N.jsx)(F,{value:e.row.values.disabled})}},{Header:"Created At",accessor:"created_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.created_at})}},{Header:"Updated At",accessor:"updated_at",Cell:function(e){return Object(N.jsx)(_,{date:e.row.values.updated_at})}},{Header:"Actions",Cell:function(t){return Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsx)("button",{onClick:function(){var a;a=t.row.values.id,e.push("/users/create-edit",{id:a})},children:Object(N.jsx)(p.b,{color:R,size:24})}),Object(N.jsx)("button",{className:"ml-2",onClick:function(){n(t.row.values.id),D(!0)},children:Object(N.jsx)(p.a,{color:"red",size:24})})]})}}]}),[]);return B||U&&M?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(N.jsx)("h2",{className:"font-weight-bold",children:"Users"}),Object(N.jsxs)("div",{className:"d-flex",children:[Object(N.jsxs)(Fe.a.Control,{as:"select",className:"mr-4",onChange:function(e){S(e.target.value)},children:[Object(N.jsx)("option",{value:"",children:"All"}),Te.map((function(e){return Object(N.jsx)("option",{value:e.id,children:e.name})}))]}),Object(N.jsx)(m.a,{variant:"primary",onClick:function(){e.push("/users/create-edit")},children:Object(N.jsxs)("div",{className:"text-white d-flex ",children:[Object(N.jsx)(p.c,{size:25})," ",Object(N.jsx)("b",{children:"Create"})]})})]})]}),(!U||!M)&&Object(N.jsx)(l.a,{fluid:!0,children:Object(N.jsx)("div",{children:Object(N.jsxs)("div",{className:"filter",children:[Object(N.jsx)(y,{onFilterChange:X,value:"",currentValue:I.role,dataLength:null===B||void 0===B?void 0:B.length,idx:"role",title:"All"}),Object(N.jsx)(y,{onFilterChange:X,value:"admin",currentValue:I.role,dataLength:null===B||void 0===B?void 0:B.length,idx:"role",title:"Admin"}),Object(N.jsx)(y,{onFilterChange:X,value:"customer",currentValue:I.role,dataLength:null===B||void 0===B?void 0:B.length,idx:"role",title:"Customer"}),Object(N.jsx)(y,{onFilterChange:X,value:"agent",currentValue:I.role,dataLength:null===B||void 0===B?void 0:B.length,idx:"role",title:"Agent",isLast:!0})]})})}),Object(N.jsx)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:U||M?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!Y&&Object(N.jsx)(W,{data:B,columns:$}),!Y&&B.length>0?Object(N.jsx)(H,{currentPage:null===B||void 0===B?void 0:B.current_page,lastPage:null===B||void 0===B?void 0:B.last_page,setPage:x,hasNextPage:!!(null===B||void 0===B?void 0:B.next_page_url),hasPrevPage:!!(null===B||void 0===B?void 0:B.prev_page_url)}):null," "]})})}),Object(N.jsxs)(O.a,{show:L,onHide:function(){return D(!1)},children:[Object(N.jsx)(O.a.Header,{closeButton:!0,children:Object(N.jsx)(O.a.Title,{children:"Are you sure?"})}),Object(N.jsx)(O.a.Body,{children:"Do you really want to delete this record? This process cannot be undone"}),Object(N.jsxs)(O.a.Footer,{children:[Object(N.jsx)(m.a,{variant:"bg-light",onClick:function(){return D(!1)},children:"Close"}),Object(N.jsx)(m.a,{variant:"danger",onClick:function(){G(s)},children:J?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Disable"})]})]})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},za=a(310),Ia=a.n(za),Va=function(e){var t=e.lat,a=e.lng,s=Object(c.useRef)(null),n=Object(c.useState)(null),r=Object(i.a)(n,2),l=r[0],d=r[1],o=Object(c.useState)({width:"100%",height:100,lat:t,lng:a,zoom:12}),j=Object(i.a)(o,1)[0],u=Object(c.useState)({lat:t,lng:a}),b=Object(i.a)(u,1)[0];Object(c.useEffect)((function(){!l&&function(e,t){t.current&&e(new Ia.a.Map({accessToken:"pk.eyJ1IjoibmV1cmFmYXJtcy1haSIsImEiOiJja2tqdjcyMzgwbndjMm9xc3U1YTFzcGs2In0.qHHKandtpLSd1f11nSpEFw",container:t.current||"",style:"mapbox://styles/mapbox/streets-v11",center:[j.lng,j.lat],zoom:j.zoom,interactive:!1,dragPan:!1}))}(d,s)}),[]),Object(c.useEffect)((function(){l&&s.current&&x()}),[l,s]);var x=function(){if((t=b)&&t.lat&&t.lng){var e=document.createElement("div");e.className="user-marker",new Ia.a.Marker(e).setLngLat([b.lat,b.lng]).addTo(l)}var t};return t&&a?Object(N.jsx)("div",{ref:s,className:"map-container",style:{height:"100px",width:"100%"}}):Object(N.jsx)("h1",{children:'"Invalid"'})},Ea=function(e){var t=e.address;return Object(N.jsxs)("div",{className:"d-flex justify-content-between p-2 flex-column",children:[Object(N.jsx)("div",{className:"map-area",children:Object(N.jsx)(Va,{lat:t.lat,lng:t.lng})}),Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)("span",{className:"text-black font-weight-bold",children:t.name}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{className:"text-muted",children:[t.address,","]}),Object(N.jsx)("br",{}),Object(N.jsxs)("span",{className:"text-muted",children:[t.city,","]}),Object(N.jsx)("span",{className:"text-muted",children:t.state}),Object(N.jsx)("br",{}),Object(N.jsx)("span",{className:"text-muted",children:t.pincode})]})]})},Ba=function(){var e=Object(d.g)().state,t=e?e.id:null,a=_e({id:t,key:"users"}),c=a.data,s=c&&c;return a.isLoading?null:Object(N.jsxs)(Ne.a,{className:"rounded mt-3",children:[Object(N.jsx)(me,{title:"User Addresses"}),s&&s.addresses&&s.addresses.length>0?s.addresses.map((function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ye.a,{md:6,children:Object(N.jsx)(Ea,{address:e})})})})):Object(N.jsx)("h1",{children:"No User address found"})]})},Ua="users",Ma=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(Ua,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(Ua),t,{headers:{"Content-Type":"multipart/form-data"}})},qa=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:Ua}),s=a.data,n=a.isLoading,r=Object(v.a)(Ma,{onSuccess:function(){setTimeout((function(){return de.invalidateQueries(Ua)}),500)}}),i=r.mutate,l=r.isLoading,o=r.error,j=r.status,u=s&&s;return n?Object(N.jsx)(k,{}):Object(N.jsxs)(Ne.a,{className:"rounded",children:[Object(N.jsx)(Se,{title:"Users"}),Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:u||{},onSubmit:function(e){console.log(e);var a=e.profile_pic,c=Object(L.a)(e,["profile_pic"]),s=new FormData;for(var n in c)s.append(n,c[n]);a&&s.append("profile_pic",a),i({formdata:s,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{className:"w-100",children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:t?"User updated successfully":"User created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsxs)("div",{className:"form-container py-2",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name"}),Object(N.jsx)(ke,{name:"phone",placeholder:"phone",label:"Phone"}),Object(N.jsx)(ke,{name:"email",placeholder:"Email",label:"Email"}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"disabled",label:"Disabled?",placeholder:"Is User Disabled?"}),Object(N.jsx)(ke,{as:"select",selectData:Te,name:"role",label:"Role",placeholder:"Role"}),Object(N.jsx)(ke,{name:"profile_pic",placeholder:"Profile Pic",label:"Choose Profile Pic",isFile:!0,setFieldValue:a})]}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:l,className:"w-100",children:l?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},Ra=function(e){var t=e.vehicle;return Object(N.jsx)("div",{className:"card p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column p-2",children:[Object(N.jsx)("div",{className:"text-black font-weight-bold",children:Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("h3",{children:t.name}),Object(N.jsx)(S.a,{variant:"primary",className:"ml-2",children:t.fuel_type})]})}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted text-capitalize",children:"Brand"}),Object(N.jsx)("td",{className:"text-black font-weight-bold text-right",children:t.brand_id})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted text-capitalize",children:"Model"}),Object(N.jsx)("td",{className:"text-black font-weight-bold text-right",children:t.model_id})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted text-capitalize",children:"Manufactoring Year"}),Object(N.jsx)("td",{className:"text-black font-weight-bold text-right",children:t.manufactoring_year})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted text-capitalize",children:"Reg. Number"}),Object(N.jsx)("td",{className:"text-black font-weight-bold text-right",children:t.registration_number})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted text-capitalize",children:"Reg. State"}),Object(N.jsx)("td",{className:"text-black font-weight-bold text-right",children:t.registration_state})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted text-capitalize",children:"Is Default?"}),Object(N.jsx)("td",{className:"text-black font-weight-bold text-right",children:Object(N.jsx)(F,{value:t.is_default})})]})]})})})]})})},Qa=function(){var e=Object(d.g)().state,t=e?e.id:null,a=_e({id:t,key:"users"}),c=a.data,s=c&&c;return a.isLoading?null:Object(N.jsxs)(Ne.a,{className:"rounded mt-3",children:[Object(N.jsx)(me,{title:"User Vehicles"}),s&&s.vehicles&&s.vehicles.length>0?s.vehicles.map((function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ye.a,{md:6,children:Object(N.jsx)(Ra,{vehicle:e})})})})):Object(N.jsx)("h1",{children:"No User address found"})]})},Ya=function(){var e=Object(d.g)().state,t=e?e.id:null;return console.log({id:t}),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(qa,{}),t&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ba,{}),Object(N.jsx)(Qa,{})]})]})},Ka=Lt.a().shape({otp:Lt.b().max(4).min(4).required("Otp is required")}),Ga=function(e){return Z.post("auth/verify-otp",e,{headers:{"Content-Type":"multipart/form-data"}})},Ja=function(e){var t=Object(d.h)(),a=Object(d.f)(),c=Sa((function(e){return e.setToken})),s=ka((function(e){return e.setUser})),n=Object(v.a)(Ga,{onSuccess:function(e){console.log({data:e}),console.log({data:e}),c(e.data.token),s(e.data.user),a.push("/")}}),r=n.mutate,i=(n.data,n.isLoading),o=n.error;return Object(N.jsx)(l.a,{fluid:!0,className:"login-page",children:Object(N.jsx)(ve.b,{initialValues:{otp:t.otp||""},onSubmit:function(e){var a=new FormData;a.append("phone",t.id),a.append("otp",e.otp),r(a)},validationSchema:Ka,children:function(e){var t=e.errors;return Object(N.jsx)(ve.a,{children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center px-3 py-5",style:{width:"450px"},children:[Object(N.jsx)("h1",{className:"text-black",children:Object(N.jsx)("b",{children:"Verify"})}),Object(N.jsx)("p",{className:"text-muted",children:"Please enter the code sent on your mobile number"}),Object(N.jsx)("br",{}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.response.data.error}),Object(N.jsx)(ke,{name:"otp",placeholder:"Enter the Otp",label:"Verify Otp",error:t.otp}),Object(N.jsx)(m.a,{variant:"primary",type:"submit",className:"full-width my-2",children:i?Object(N.jsx)(h.a,{animation:"border",variant:"secondary",size:"sm"}):Object(N.jsx)("div",{className:"text-white",children:Object(N.jsx)("b",{children:"Verify"})})})]})})}})})},Wa=function(e){var t=re(),a=t.toasts,c=t.hideToast;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"position-fixed",style:{bottom:"2%",right:"2%",zIndex:1001,minWidth:"200px"},children:a.map((function(e){return setTimeout((function(){return c(e.id)}),5e3),Object(N.jsx)(we.a,{variant:"danger",children:e.message})}))})})},Xa=function(e){var t=Ue(),a=t.toasts,c=t.hideToast;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{className:"position-fixed ",style:{bottom:"2%",right:"2%",zIndex:1001,minWidth:"200px"},children:a.map((function(e){return setTimeout((function(){return c(e.id)}),5e3),Object(N.jsx)(we.a,{variant:"success",children:e.message})}))})})},$a=function(){var e=Object(x.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.queryKey,e.next=3,$.a.get("".concat("http://carsafai.deliverable.services/app/v1/").concat(a[0]),{headers:{Authorization:"Bearer ".concat(a[1])}});case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Za=function(){Object(d.f)();var e=Sa((function(e){return e.accessToken})),t=(Sa((function(e){return e.setToken})),Sa((function(e){return e.removeToken})),ka((function(e){return e.setUser})));return Object(g.a)(["profile",e],$a,{retry:!1,onSuccess:function(e){t(e)}})},ec=function(e){var t=e.component,a=Object(L.a)(e,["component"]),s=Object(d.f)(),n=Sa((function(e){return e.setToken})),r=Za(),i=r.isFetching,o=r.isLoading,u=r.error;return Object(c.useEffect)((function(){function e(){return(e=Object(x.a)(b.a.mark((function e(){var t,a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=19;break}if(!(401==(null===(t=u.response)||void 0===t?void 0:t.status))){e.next=18;break}return e.prev=3,e.next=6,Z.post("/auth/refresh");case 6:a=e.sent,c=a.data,a.status,console.log("refresh-data",c),c&&n(c.access_token),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),s.push("/login");case 16:e.next=19;break;case 18:s.push("/login");case 19:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[u]),o||i?Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center align-items-center mt-4",children:Object(N.jsx)(h.a,{animation:"border"})}):Object(N.jsx)(d.a,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return Object(N.jsx)(t,Object(j.a)({},e))}}))},tc=[{id:"Trending",name:"Trending"},{id:"Latest",name:"Latest"}],ac="banners",cc=function(e){var t=e.formdata,a=e.id;return a?Z.post("".concat(ac,"/").concat(a),t,{headers:{"Content-Type":"multipart/form-data"}}):Z.post("".concat(ac),t,{headers:{"Content-Type":"multipart/form-data"}})},sc=function(){var e=Object(d.g)().state,t=e?e.id:null;Object(c.useEffect)((function(){ge.a.init()}),[]);var a=_e({id:t,key:ac}),s=a.data,n=a.isLoading,r=Object(v.a)(cc,{onSuccess:function(){setTimeout((function(){de.invalidateQueries("banners/list"),t&&de.invalidateQueries("".concat(ac,"/").concat(t))}),500)}}),i=r.mutate,l=r.isLoading,o=r.error,j=r.status,u=s&&s;return n?Object(N.jsx)(k,{}):Object(N.jsxs)(Ne.a,{className:"rounded",children:[Object(N.jsx)(Se,{title:"Advertisements"}),Object(N.jsx)(ye.a,{className:"mx-auto",children:Object(N.jsx)(ve.b,{initialValues:u||{},onSubmit:function(e){var a=e.image,c=Object(L.a)(e,["image"]);console.log({values:e});var s=new FormData;for(var n in c)s.append(n,c[n]);a&&s.append("image",e.image),i({formdata:s,id:t})},children:function(e){var a=e.setFieldValue;return Object(N.jsxs)(ve.a,{children:["success"===j&&Object(N.jsx)(we.a,{variant:"success",children:t?"Advertisement  updated successfully":"Advertisement created successfully"}),o&&Object(N.jsx)(we.a,{variant:"danger",children:o.message}),Object(N.jsxs)("div",{className:"form-container  py-2 ",children:[Object(N.jsx)(ke,{name:"name",placeholder:"Name",label:"Name",required:!0}),Object(N.jsx)(ke,{name:"title",placeholder:"Title",label:"Title",required:!0}),Object(N.jsx)(ke,{name:"deeplink",placeholder:"Deep Link",label:"Deep Link",required:!0}),Object(N.jsx)(ke,{type:"number",name:"order",placeholder:"Order",label:"Order",required:!0}),Object(N.jsx)(tt,{name:"valid_from",label:"Valid From",setFieldValue:a}),Object(N.jsx)(tt,{name:"valid_to",label:"Valid To",setFieldValue:a}),Object(N.jsx)(ke,{name:"image",placeholder:"image",label:"Image",isFile:!0,setFieldValue:a}),Object(N.jsx)(ke,{as:"select",selectData:Pe,name:"is_active",label:"Is active?",placeholder:"Choose is active"}),Object(N.jsx)(ke,{name:"type",placeholder:"Advertisement type",label:"Choose Type",as:"select",selectData:tc}),Object(N.jsx)(ke,{as:"textarea",name:"description",placeholder:"Description",label:"Description",required:!0}),Object(N.jsx)(ke,{as:"textarea",name:"terms",placeholder:"Terms",label:"Terms",required:!0})]}),Object(N.jsx)(Ne.a,{className:"d-flex justify-content-start",children:Object(N.jsx)(ye.a,{md:"2",children:Object(N.jsx)(m.a,{type:"submit",disabled:l,className:"w-100",children:l?Object(N.jsx)(h.a,{animation:"border",size:"sm"}):"Submit"})})})]})}})})]})},nc=function(){var e=Object(d.f)(),t=Object(c.useState)(""),a=Object(i.a)(t,2),s=(a[0],a[1],Object(c.useState)(1)),n=Object(i.a)(s,2),r=n[0],o=n[1],j=Object(c.useState)(!1),u=Object(i.a)(j,2),b=(u[0],u[1],Object(g.a)(["bookings",r],{onError:function(e){ie(e.response.data.message)}})),x=b.data,O=b.isLoading,h=b.isFetching,p=b.error,v=function(e){var t=e.status;return Object(N.jsx)(S.a,{variant:"cancelled"===t||"error_payment"===t?"danger":"pending"===t||"pending_payment"===t?"warning":"success",children:t})},y=Object(c.useMemo)((function(){return[{Header:"#Id",accessor:"id"},{Header:"User Name",accessor:"user.name"},{Header:"Issue Status",accessor:"status",Cell:function(e){return Object(N.jsx)(v,{status:e.row.values.status})}},{Header:"Actions",Cell:function(t){return Object(N.jsx)("div",{className:"d-flex",children:Object(N.jsx)(m.a,{onClick:function(){return e.push("/issues/".concat(t.row.values.id))},children:"View"})})}}]}),[]);return x||O&&h?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(me,{title:"Issues"}),Object(N.jsx)(l.a,{fluid:!0,className:"card component-wrapper px-0 py-2",children:Object(N.jsx)(l.a,{fluid:!0,className:"h-100 p-0",children:Object(N.jsx)(N.Fragment,{children:O||h?Object(N.jsx)(k,{}):Object(N.jsxs)(N.Fragment,{children:[!p&&Object(N.jsx)(W,{data:x,columns:y}),!p&&x.length>0?Object(N.jsx)(H,{currentPage:null===x||void 0===x?void 0:x.current_page,lastPage:null===x||void 0===x?void 0:x.last_page,setPage:o,hasNextPage:!!(null===x||void 0===x?void 0:x.next_page_url),hasPrevPage:!!(null===x||void 0===x?void 0:x.prev_page_url)}):null," "]})})})})]}):Object(N.jsx)(l.a,{fluid:!0,className:"d-flex justify-content-center display-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(N.jsx)(f.e,{color:q}),Object(N.jsx)("span",{className:"text-primary display-3",children:"Something went wrong"})]})})},rc=function(e){var t=e.isChatBoxOpen,a=void 0!==t&&t,c=e.setIsChatBoxOpen;console.log({isChatBoxOpen:a});return Object(N.jsx)("div",{style:{position:"fixed",width:"400px",right:"2%",bottom:0},children:Object(N.jsxs)("div",{className:"box box-primary direct-chat direct-chat-primary",children:[Object(N.jsxs)("div",{className:"box-header with-border",children:[Object(N.jsx)("h3",{className:"box-title",children:"Direct Chat"}),Object(N.jsxs)("div",{className:"box-tools pull-right d-flex",children:[Object(N.jsxs)("div",{className:"position-relative mr-3",children:[Object(N.jsx)(dt.c,{}),Object(N.jsx)("span",{className:"position-absolute text-light  font-weight-bold bg-primary d-flex align-items-center justify-content-center",style:{height:18,width:18,top:-2,right:"-40%",borderRadius:"50%"},children:"3"})]}),Object(N.jsx)("button",{className:"btn btn-box-tool","data-widget":"collapse",children:a?Object(N.jsx)(f.c,{color:q,onClick:function(){c(!1)}}):Object(N.jsx)(f.d,{onClick:function(){c(!0)},className:"font-weight-bold",size:20})})]})]}),a&&Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{className:"box-body",children:Object(N.jsxs)("div",{className:"direct-chat-messages",children:[Object(N.jsxs)("div",{className:"direct-chat-msg",children:[Object(N.jsxs)("div",{className:"direct-chat-info clearfix",children:[Object(N.jsx)("span",{className:"direct-chat-name pull-left",children:"Alexander Pierce"}),Object(N.jsx)("span",{className:"direct-chat-timestamp pull-right",children:"23 Jan 2:00 pm"})]}),Object(N.jsx)("img",{className:"direct-chat-img",src:"https://bootdey.com/img/Content/user_1.jpg",alt:"Message User Image"}),Object(N.jsx)("div",{className:"direct-chat-text",children:"Is this template really for free? That's unbelievable!"})]}),Object(N.jsxs)("div",{className:"direct-chat-msg right",children:[Object(N.jsxs)("div",{className:"direct-chat-info clearfix",children:[Object(N.jsx)("span",{className:"direct-chat-name pull-right",children:"Sarah Bullock"}),Object(N.jsx)("span",{className:"direct-chat-timestamp pull-left",children:"23 Jan 2:05 pm"})]}),Object(N.jsx)("img",{className:"direct-chat-img",src:"https://bootdey.com/img/Content/user_2.jpg",alt:"Message User Image"}),Object(N.jsx)("div",{className:"direct-chat-text",children:"You better believe it!"})]})]})}),Object(N.jsx)("div",{className:"box-footer",children:Object(N.jsx)("form",{children:Object(N.jsxs)("div",{className:"input-group d-flex align-items-center",children:[Object(N.jsx)("input",{type:"text",name:"message",placeholder:"Type Message ...",className:"form-control"}),Object(N.jsx)(Vt.d,{color:q,size:24})]})})})]})]})})},ic=function(){var e=Object(d.h)().id,t=(Object(d.f)(),Object(c.useState)(!1)),a=Object(i.a)(t,2),s=a[0],n=a[1],r=_e({id:e,key:"bookings"}),o=r.data,j=r.isLoading,u=r.isFetching;return j||u?Object(N.jsx)(k,{}):Object(N.jsxs)(l.a,{fluid:!0,className:"component-wrapper px-0 py-2",children:[Object(N.jsxs)(l.a,{fluid:!0,className:"d-flex justify-content-between py-2",children:[Object(N.jsxs)("div",{className:"d-flex align-items-center",children:[Object(N.jsx)("h2",{className:"text-muted font-weight-bold",children:"Issue"}),Object(N.jsxs)("h2",{className:"ml-2",children:["#",o.id]}),Object(N.jsx)(S.a,{variant:"success",className:"mx-3 px-3 py-2 text-uppercase",children:"Open"})]}),Object(N.jsx)(m.a,{variant:"primary",children:Object(N.jsx)("div",{className:"text-white",children:"Mark Closed"})})]}),Object(N.jsxs)("div",{className:"w-100",children:[Object(N.jsx)(l.a,{fluid:!0,className:"charts-container mt-2",children:Object(N.jsx)("div",{className:"card view-padding p-2 d-flex mt-3",children:Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{className:"view-heading  view-top-pad",children:"ORDER SUMMARY"}),Object(N.jsx)("div",{className:"d-flex flex-column w-100",style:{fontSize:18},children:Object(N.jsx)("table",{className:"w-100",children:Object(N.jsxs)("tbody",{children:[Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted",children:Object(N.jsx)("p",{className:"view-heading",children:"Ref Id"})}),Object(N.jsx)("td",{className:"text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:o.ref_id})})]}),Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted ",children:Object(N.jsx)("p",{className:"view-heading",children:"Scheduled At"})}),Object(N.jsx)("td",{className:"text-primary  font-weight-bold text-right",children:Object(N.jsx)("p",{className:"view-subheading",children:o.scheduled_at?C()(o.scheduled_at).format("DD/MM/YY(hh:mm)"):"NA"})})]}),o.address&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted py-2",children:"Address"}),Object(N.jsx)("td",{className:"text-primary py-2 text-right",children:Object(N.jsxs)("address",{className:"font-italic font-weight-light text-capitalize",children:[o.address.address,", ",Object(N.jsx)("br",{}),o.address.city,", ",o.address.pincode," "]})})]}),o.vehicle&&Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{className:"text-muted py-2",children:"Vehicle Name"}),Object(N.jsx)("td",{className:"text-primary py-2 text-right",children:o.vehicle.name})]})]})})})]})})}),Object(N.jsx)(l.a,{fluid:!0,className:" mt-2",children:Object(N.jsx)("div",{className:"position-relative",children:Object(N.jsx)(rc,{isChatBoxOpen:s,setIsChatBoxOpen:n})})})]})]})},lc=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1],n=Sa((function(e){return e.accessToken}));n&&(Z.defaults.headers.common.Authorization="Bearer ".concat(n)),Object(c.useEffect)((function(){return r(),window.addEventListener("resize",r),function(){return window.removeEventListener("resize",r)}}),[]);var r=function(){var e=window.innerWidth;s(e>800)},o=Object(c.useState)(!1),j=Object(i.a)(o,2),u=j[0],b=j[1],x=Object(d.g)().pathname;function m(){return!x.includes("login")&&!x.includes("verify-otp")}return Object(N.jsx)(Bt.Provider,{value:a,children:Object(N.jsxs)("div",{className:"App",children:[m()?Object(N.jsx)(Gt,{isNavOpen:u,setIsNavOpen:b}):"",Object(N.jsx)("div",{}),m()?Object(N.jsx)(Ha,{isNavOpen:u,setIsNavOpen:b}):"",Object(N.jsxs)(l.a,{fluid:!0,className:"main-layout",children:[Object(N.jsxs)(d.c,{children:[Object(N.jsx)(ec,{path:"/",exact:!0,component:_t}),Object(N.jsx)(ec,{path:"/brands",exact:!0,component:Be}),Object(N.jsx)(ec,{path:"/brand-models",exact:!0,component:pe}),Object(N.jsx)(ec,{path:"/categories",exact:!0,component:Ge}),Object(N.jsx)(ec,{path:"/users",exact:!0,component:Aa}),Object(N.jsx)(ec,{path:"/services",exact:!0,component:va}),Object(N.jsx)(ec,{path:"/faqs",exact:!0,component:kt}),Object(N.jsx)(ec,{path:"/plans",exact:!0,component:ma}),Object(N.jsx)(ec,{path:"/coupons",exact:!0,component:et}),Object(N.jsx)(ec,{path:"/orders",exact:!0,component:Zt}),Object(N.jsx)(ec,{path:"/advertisements",exact:!0,component:xe}),Object(N.jsx)(ec,{path:"/brands/create-edit",exact:!0,component:Qe}),Object(N.jsx)(ec,{path:"/brand-models/create-edit",exact:!0,component:Ie}),Object(N.jsx)(ec,{path:"/categories/create-edit",exact:!0,component:Xe}),Object(N.jsx)(ec,{path:"/users/create-edit",exact:!0,component:Ya}),Object(N.jsx)(ec,{path:"/services/create-edit",exact:!0,component:wa}),Object(N.jsx)(ec,{path:"/plans/create-edit",exact:!0,component:pa}),Object(N.jsx)(ec,{path:"/coupons/create-edit",exact:!0,component:it}),Object(N.jsx)(ec,{path:"/faqs/create-edit",exact:!0,component:Tt}),Object(N.jsx)(ec,{path:"/advertisements/create-edit",exact:!0,component:sc}),Object(N.jsx)(ec,{path:"/transactions",exact:!0,component:ta}),Object(N.jsx)(ec,{path:"/issues",exact:!0,component:nc}),Object(N.jsx)(ec,{path:"/transactions/:id",exact:!0,component:sa}),Object(N.jsx)(ec,{path:"/subscriptions",exact:!0,component:na}),Object(N.jsx)(ec,{path:"/subscriptions/:id",exact:!0,component:ra}),Object(N.jsx)(ec,{path:"/orders/:id",exact:!0,component:ua}),Object(N.jsx)(ec,{path:"/issues/:id",exact:!0,component:ic}),Object(N.jsx)(ec,{path:"/orders/assign-agent/:id",exact:!0,component:oa}),Object(N.jsx)(d.a,{path:"/login",exact:!0,component:zt}),Object(N.jsx)(d.a,{path:"/verify-otp/:id/:otp",exact:!0,component:Ja})]}),Object(N.jsx)(Wa,{}),Object(N.jsx)(Xa,{})]})]})})},dc=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1083)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))},oc=a(235);r.a.render(Object(N.jsx)(s.a.StrictMode,{children:Object(N.jsx)(oc.a,{client:de,children:Object(N.jsx)(qt.a,{children:Object(N.jsx)(lc,{})})})}),document.getElementById("root")),dc()},528:function(e,t,a){},529:function(e,t,a){},739:function(e,t){}},[[1033,1,2]]]);
//# sourceMappingURL=main.cd3c0b1d.chunk.js.map